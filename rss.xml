<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[A blog collecting my thoughts on software]]></description><link>http://github.com/dylang/node-rss</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 31 Jul 2023 09:05:45 GMT</lastBuildDate><item><title><![CDATA[Stable APIs are a Pipe Dream]]></title><description><![CDATA[Prelude A key step in becoming a senior programmer who creates robust software is the idea of prioritizing specification over code. Yes…]]></description><link>null/pipe-dream/</link><guid isPermaLink="false">null/pipe-dream/</guid><pubDate>Fri, 28 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h3 id=&quot;prelude&quot; style=&quot;position:relative;&quot;&gt;Prelude&lt;a href=&quot;#prelude&quot; aria-label=&quot;prelude permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A key step in becoming a senior programmer who creates robust software is the idea of prioritizing specification over code.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Yes, this code is correct (or at least it works!), but only under assumptions that aren’t stable guarantees.
— Senior Engineer to Junior Engineer&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this post, I’ll use Super Mario pipes as a metaphor to visualize specifications and, with that, something called preconditions and postconditions. Pre and postconditions act as the ‘entrance’ and ‘exit’ guards that the data ‘flowing’ through the ‘pipe’ of your functions are correct. This view offers an intuitive way to understand this underlying aspect of programming.&lt;/p&gt;
&lt;h1 id=&quot;stop-breaking-your-apis-using-this-one-visual-trick&quot; style=&quot;position:relative;&quot;&gt;Stop Breaking Your APIs Using This One Visual Trick&lt;a href=&quot;#stop-breaking-your-apis-using-this-one-visual-trick&quot; aria-label=&quot;stop breaking your apis using this one visual trick permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2b09688371f2aa301dec55fe1556a6be/e5715/super_mario.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7AIyUhw9UICBYK6avoebu5NTo4qiFdfpKCdI+DIlYVqGmm5ZiYNY8C+NOFbGrot7t59bd00FDPU5JPrankgCdqZoAnyQmlz3CzLvv9+7P6uauVzb/TAehXkinLUDly8LAQFOOTj72RQS3dlvb+fXe5NlERT9GQzmpm4cAmqyZAIscI4Q4y9XE1trSiHtzfTojnjcYkEEmnzodmz4fmzUbhkImnjcRjkkur6qf1dnOQ0U/UE5Dt6mSAJGskQC6Fx+rPdbg0H58dDEWEF4rIls8HGA5FWQrE200Em0yFnAsEX06HHEpGjQQCnhrYEdLR0E/NL2ulgCIpYsAnh0knT/R3Mre4ttigmwFYiMEfzMEXysbbjldjlouZTYTbTc9kGI7hVQxTTq4uLBJTEU3Ny+vo40Ag5+FAoIbJYE63OXU1NXSH5Q5CoZFFJbGDIayHIZ7M5tICo0wE2BvCXqfEGFeHHMvmrCZS0hFOTwytamTAHqofgDFFiW0Rebo3HubggCMFRVzkAyn2Al/qQqBvwefIAeSSwaDzQWc0AiIzQZ1Qy6DNEI6Pj9EN7WokQB0o3gAsRksoEfj5thha2MHhR0TkoEOp+MNkMgRlL8MtioQjD0JercBn9oFgMYLhT0omzJBNT1DSTy1qpIAdIJyEEoeOXhE6vDfkZCOFkEkC6Y0EGZGEYl0DHxCBF4dClskEINGHHlwIIhaBoorf4x8Tk9KOj0zpZyGAGmUbgqQKDyQTOjq3d/s32FjYhoxIA5HGwleFz9ZNpeAaJaGaEh5RQ1jIxVjJlRuWdfb0UpORjk6MqachQBepmYA2CZBsFbq593z//LR39Zxa2GZfGCXeWSHc13/+Lv//8OjjHF0WUmRc17Cx8Dg6t5JTEU4OTGSiXYARZRNANsnQadU4tbT9PTt6fXupqCM/Oap/eevXVdIVVFEYVtLb2VS/+ytz76OwMjA3OncT1JLPT01iX9rABZ0KRKwMSmHPjp4RUadW63Cs6qhj8mugjg5Nh0hIFNKPFJKPBYdH15ZS62Vc8zSyOTn4UJGQTg6MpuPeQAVdSsUrTkkezcUYygAoisjgUCdjYDlyJSilG+6roT36rD/8bS4o3qId1iznHfHw75ipm8FTRg6RjehlX8AJGUvEKgyOXdEXlpVI2g3HnY5cndn49Og3baQtnJjqltWpWhcwaSC+/Cw4NCegYt/IHQwDD0aMzowo5mDACOIMgDfKWC1b9TGxDB7QR2COmUeJmQmKlYVHZ0BF+4BGO0BGM4AGZVFQop1YU9JQiSQORFGHi8wK5eNeAAfgzAD0StjsHLX0csxd0JYSyySDx+kChzIBR/3ASP/ACH8ACL/ACKzABV8ABNZFRkXXiwNLBYzNzCVj3wAJVkwEn0rbaN00Mi/fRYhowAbtQwhqhckkC0qhEUvf0kxgTwsfDUobHE7VUstVBccD6kxDWAgMDgtgn5uACBxMxOXMXGpdnxiZEodGmNDMT87LEJkO0mARILSY6z/eaj+dqn/d6b3cXi6Vm0VIBqrLwpxIi41LJKLeAARnS8K1DVRl19CRDZ/vFST2WFEXDZ6rFGPzFxhgkOTy2C5/3WGuFlxnkl7r08oLyMaPiMPNBouOyyEhW9ZuP2BeM533wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dall-e super mario&quot;
        title=&quot;Dall-e super mario&quot;
        src=&quot;/static/2b09688371f2aa301dec55fe1556a6be/f058b/super_mario.png&quot;
        srcset=&quot;/static/2b09688371f2aa301dec55fe1556a6be/c26ae/super_mario.png 158w,
/static/2b09688371f2aa301dec55fe1556a6be/6bdcf/super_mario.png 315w,
/static/2b09688371f2aa301dec55fe1556a6be/f058b/super_mario.png 630w,
/static/2b09688371f2aa301dec55fe1556a6be/e5715/super_mario.png 768w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div style=&quot;font-style: italic; margin-top: -20px; padding-bottom: 10px;&quot; class=&quot;text-sm text-center pb-4&quot;&gt;
DALL-E: &quot;Super Mario&quot; using green pipes as sunglasses in stained glass art
&lt;/div&gt;
&lt;/br&gt;
&lt;p&gt;The startling lesson in the blog post &lt;a href=&quot;https://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html&quot;&gt;The three levels of software&lt;/a&gt; is&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A program that never goes wrong can still be wrong.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;People are often confused when they hear this statement, and rightly so, it does sound strange.
So, here is my attempt to create a mental model that will make this statement intuitive.
We will harness the power of the pipe to help us reason through program correctness and when changes are breaking or non-breaking.&lt;/p&gt;
&lt;h2 id=&quot;pipes-and-software--the-three-levels&quot; style=&quot;position:relative;&quot;&gt;Pipes and Software | The Three Levels&lt;a href=&quot;#pipes-and-software--the-three-levels&quot; aria-label=&quot;pipes and software  the three levels permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Let’s start by defining the concepts that we want to visualize.
Code exists on one of &lt;a href=&quot;https://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html&quot;&gt;three levels&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The runtime level&lt;/li&gt;
&lt;li&gt;The code level&lt;/li&gt;
&lt;li&gt;The logical/specification level&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let’s now use pipes and water to understand and visualize these three levels.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2b76fa0c54123d9b91ccaa384c4c4191/normal.gif&quot; alt=&quot;water through a pipe&quot;&gt;&lt;/p&gt;
&lt;p&gt;When we think about a single run of a program on particular inputs, then that is the level of runtime. These specific inputs are represented by waterdrops in our animation above.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;For one possible value my program is correct&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;At the level of code, however, we are looking at program correctness for all possible runs. In our animation, this is represented by the water (all waterdrops).
(Code also guides the inputs/water through the program, and this is represented by pipes that
live within the outer pipes)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;For all possible values my program is correct&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;At the level of logic, we think about logical statements that are correct for all possible inputs and all possible implementations.&lt;/p&gt;
&lt;p&gt;This is the level of specification and it’s represented by the pipes in the above picture.
We must learn to see the guarantees our functions need and generate (pre and post-conditions) as different from the current function implementation itself. More on that later.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;For all possible values and all valid changes my program is correct&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;These ideas are very abstract, and when I first learned about them, I hoped there was some simple visual representation of what was going on. So I set a background task in my brain to work on this problem to find a good way to internalize this field of knowledge.
After probably 12 months, with some failed visualizations on the way, I found something that is both simple, intuitive and accurate. And that is what I am sharing with you today.&lt;/p&gt;
&lt;p&gt;The Pipe!&lt;img style=&quot;display: inline; padding-left: 5px&quot; src=&quot;https://emojis.slackmojis.com/emojis/images/1643514786/7962/pipe.png?1643514786&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;pipes--the-gaming-gimmick-turned-software-hack&quot; style=&quot;position:relative;&quot;&gt;Pipes | The Gaming Gimmick Turned Software Hack&lt;a href=&quot;#pipes--the-gaming-gimmick-turned-software-hack&quot; aria-label=&quot;pipes  the gaming gimmick turned software hack permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The idea of pipes in a programming context is not exactly ground-breaking. If you’ve done a bit of Linux command line or functional programming, you’ve probably met the pipe operator.
But here we are going to use it to reason about program correctness.&lt;/p&gt;
&lt;p&gt;So, in Pipe Land, as we said above, the three levels of code are represented by:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Individual Water drops: The runtime level&lt;/li&gt;
&lt;li&gt;All the water: The code level&lt;/li&gt;
&lt;li&gt;Pipes: The logical/specification level&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This will give us a great visual and intuitive understanding of how these levels interact.&lt;/p&gt;
&lt;p&gt;With our Pipe visualization, you’ll see clearly why this can be the case (see bottom of the post).&lt;/p&gt;
&lt;h3 id=&quot;speed-running-the-logical-level-of-code&quot; style=&quot;position:relative;&quot;&gt;Speed running the logical level of code&lt;a href=&quot;#speed-running-the-logical-level-of-code&quot; aria-label=&quot;speed running the logical level of code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Let’s take a simple TypeScript function:&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Is this code correct?&lt;/strong&gt;
…Well, what does it even mean for code to be correct?
If we don’t have a specification(what we want to achieve), we can’t say anything about correctness.&lt;/p&gt;
&lt;p&gt;We need a specification.&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Specification&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// add is a function that takes two numbers&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and returns those numbers numerically added together&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Is this code correct?&lt;/strong&gt; By visual inspection, yes, the code is correct!&lt;/p&gt;
&lt;p&gt;What about this code?&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;hello_world.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; add &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./add&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello_&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello_world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Is this code correct?&lt;/strong&gt; and if not, where is the bug?&lt;/p&gt;
&lt;p&gt;First of we (again) forgot to say what the aim(specification) of the program is.
We can probably guess that it’s to print &lt;code class=&quot;language-text&quot;&gt;&quot;hello_world&quot;&lt;/code&gt; to the console,
but we can’t say that for sure, so let’s add a specification.&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;hello_world.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; add &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./add&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Specification&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// This program prints &quot;hello_world&quot; to the console&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello_&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello_world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;It produces the correct output, so it must be correct… right?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Not quite… this is where the logical level of code comes in.&lt;/p&gt;
&lt;p&gt;Let’s put the specification we have of &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; in the code.&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;hello_world.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; add &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./add&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Specification&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// This program prints &quot;hello_world&quot; to the console&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello_&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Specification&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// add is a function that takes two numbers&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and returns those numbers numerically added together&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hello_world &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hello_world&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div&gt;Did we follow the rules(specification) of the &lt;code&gt;add&lt;/code&gt; function?&lt;/div&gt;
&lt;p&gt;
&lt;b&gt;No we didn&apos;t!&lt;/b&gt; but our program still produces the right results... here’s the catch!
&lt;/p&gt;
&lt;p&gt;
  &lt;b&gt;
  The problem is that, when we said that the program works, we weren&apos;t able to do that just by thinking about the &lt;u&gt;specification&lt;/u&gt; of `add`. We had to use the current &lt;u&gt;implementation&lt;/u&gt; of `add` to reason about the correctness of the program.
&lt;/b&gt;
&lt;/p&gt;
&lt;p&gt;At this point, you might be thinking,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“So what? It works!”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Well, imagine if we decide, to tweak the &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; function. Perhaps our first implementation was a bit too basic and we want to improve it.&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Specification&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// add is a function that takes two numbers&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and returns those numbers numerically added together&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;inputs must be numbers&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Same sh…spec! different implementation!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Whoops! Now our &lt;code class=&quot;language-text&quot;&gt;hello_world&lt;/code&gt; program where we use the &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; function springs a leak! This time at both the runtime and code level,
we’ve got a problem and must go back and patch it up!
Yet we didn’t change our specification, and both our old and new implementation of &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; are correct.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So what just happened?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Let’s pause for a minute here to make sure we’re all on the same page.&lt;/em&gt;
&lt;em&gt;The runtime level corresponds to a single run of the program that fails.&lt;/em&gt;
&lt;em&gt;The code level is all possible executions of the program/function/etc, which you could find using exhaustive testing.&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;pipes-and-water--avoiding-errors-of-modular-reasoning&quot; style=&quot;position:relative;&quot;&gt;Pipes and water | Avoiding Errors of Modular Reasoning&lt;a href=&quot;#pipes-and-water--avoiding-errors-of-modular-reasoning&quot; aria-label=&quot;pipes and water  avoiding errors of modular reasoning permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;An &lt;strong&gt;“Error of modular reasoning”&lt;/strong&gt;. That’s what we call a bug where a program works but doesn’t obey the specifications of code it uses. They’re a unique kind of bug that are hard to spot, appearing in programs that look like they’re functioning well until, one day, they suddenly break due to a logically correct change in some other part of the program.&lt;/p&gt;
&lt;p&gt;Modular reasoning is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Being able to make decisions about a module while looking only at its implementation, its interface and the interfaces of modules referenced in its implementation or interface.
&lt;a href=&quot;https://www.igi-global.com/dictionary/modular-reasoning/40536&quot;&gt;-source&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So an error of modular reasoning occurs when we can’t verify the correctness of a program by just reading the code and looking at the specifications of the code it uses.
Instead, we need to delve into specific implementation details that might give more guarantees or work with a broader set of values (like strings in our case) than what the specifications guarantee.
Here is where you might hear a senior engineer saying:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Yes, this code is correct (or at least it works!), but only under assumptions that aren’t stable guarantees.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Every time you manage to get “a stable guarantee” into a PR review your seniority level goes up by one.&lt;/p&gt;
&lt;h4 id=&quot;pre-and-post-conditions--laying-down-the-rules&quot; style=&quot;position:relative;&quot;&gt;Pre and post conditions | Laying Down the Rules&lt;a href=&quot;#pre-and-post-conditions--laying-down-the-rules&quot; aria-label=&quot;pre and post conditions  laying down the rules permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div&gt;
Specifications contain two vital parts:
&lt;div style=&quot;font-size:12px; font-style:italic; padding-bottom:10px;&quot;&gt;(there is some nuance depending on logical system but we will ignore that)&lt;/div&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Preconditions&lt;/em&gt;&lt;/strong&gt;&lt;em&gt;:&lt;/em&gt; What must be true before a piece of code is called&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Postconditions&lt;/em&gt;&lt;/strong&gt;&lt;em&gt;:&lt;/em&gt; What holds true after a piece of code has been called&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anything else is an implementation detail!&lt;/p&gt;
&lt;div&gt;
Let&apos;s illustrate this with our &lt;code&gt;add&lt;/code&gt; function:
&lt;div style=&quot;font-size:14px; font-style:italic; padding-bottom:10px&quot;&gt;
the &lt;code&gt;{}&lt;/code&gt; brackets capture what needs/is true at a certain point in the program
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// precondition: {a is a number, b is a number}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;inputs must be numbers&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// postcondition: {return value is a numerically added to b}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But better still is to think of it without the implementation details.
Like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// precondition: {a is a number, b is a number}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// postcondition: {return value is a numerically added to b}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the essence of the &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; function! Any implementation that meets these conditions is valid.&lt;/p&gt;
&lt;h3 id=&quot;hoare-logic-levelling-up-code-reasoning&quot; style=&quot;position:relative;&quot;&gt;Hoare logic: Levelling Up Code Reasoning&lt;a href=&quot;#hoare-logic-levelling-up-code-reasoning&quot; aria-label=&quot;hoare logic levelling up code reasoning permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The logical statements I showed above are part of a formal method called Hoare Logic (plug: which we teach in our &lt;a href=&quot;https://self-service.mirdin.com/offers/A7LiY2U7/checkout&quot;&gt;course&lt;/a&gt;).
Hoare Logic allows us to reason about the correctness of our programs by examining the pre/postconditions and code.
It gives us rules that tell us what the postconditions of a function are, given its preconditions and code, or conversely,
the preconditions given the postcondition and code. This means that we can use Hoare Logic to
think (and prove the correctness) about specifications.&lt;/p&gt;
&lt;p&gt;When I first took our Mirdin course (yes, I started as a student), I was blown away by Hoare Logic, and it was very useful in getting me away from the code and thinking about the design of the program instead. That said, there are a lot of rules in Hoare Logic but how do we go from thinking in rules to intuition from where the rules would be obvious?&lt;/p&gt;
&lt;p&gt;Let’s revisit our initial implementation of &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; together with the spec we have been using:
Let’s take a closer look at our original implementation of the &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; function,
along with the specification (pre/postconditions) we’ve been using:&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// precondition: {a is a number, b is a number}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b
&lt;span class=&quot;token comment&quot;&gt;// postcondition: {return value is a numerically added to b}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above spec is just one of many our code can support, showing a
&lt;em&gt;(&lt;a href=&quot;https://www.pathsensitive.com/2023/03/modules-matter-most-for-masses.html&quot;&gt;many-to-many relationship between implementation and specification.&lt;/a&gt;)&lt;/em&gt;
However, it’s important to note that our current precondition (the rule about what must be true before the code is run) is not the weakest(most relaxed/flexible) condition that this implementation can handle.&lt;/p&gt;
&lt;p&gt;The weakest precondition is that &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt; are any values for which &lt;code class=&quot;language-text&quot;&gt;a + b&lt;/code&gt; is defined.
&lt;em&gt;(which in JS is number and string plus anything that can be cast(converted) to one of the two, which is pretty much anything🙃)&lt;/em&gt;
If we went with such a generic precondition, &lt;code class=&quot;language-text&quot;&gt;concat&lt;/code&gt; would be a better name.&lt;br&gt;
To make our initial program correct on the logical level and not contain an error of modular reasoning,
we can change the precondition to be:&lt;/p&gt;
&lt;div class=&quot;gatsby-code-title&quot;&gt;add.ts&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// precondition: {a and b are both strings or numbers}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b
&lt;span class=&quot;token comment&quot;&gt;// postcondition: {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    IF a and b are numbers&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//        return is a numerically added to b&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    OTHERWISE&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//        return is a string concatenated with b&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;weak-and-strong-conditions&quot; style=&quot;position:relative;&quot;&gt;Weak and Strong Conditions&lt;a href=&quot;#weak-and-strong-conditions&quot; aria-label=&quot;weak and strong conditions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;A condition is &lt;u&gt;weaker&lt;/u&gt; if it needs/gives &lt;u&gt;less&lt;/u&gt; guarantees.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A condition is &lt;u&gt;stronger&lt;/u&gt; if it needs/gives &lt;u&gt;more&lt;/u&gt; guarantees.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some rules (don’t try to memorize them):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If a new precondition is &lt;u&gt;weaker&lt;/u&gt; than the old precondition, it is a non-breaking change.&lt;/li&gt;
&lt;li&gt;if a new postcondition is &lt;u&gt;stronger&lt;/u&gt; than the old postcondition, it is a non-breaking change.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instead of memorizing the rules, we will now use pipes to drive them home and make it obvious.
Then later you can derive the rules from your intuition.&lt;/p&gt;
&lt;p&gt;The bug in the code we had earlier was that we did not respect the specification of add,
we used the implementation instead. However, one way to &lt;strong&gt;&lt;em&gt;“solve”&lt;/em&gt;&lt;/strong&gt; this is to change the specification to
work with strings as well.&lt;/p&gt;
&lt;p&gt;
&lt;b&gt;Will this be a breaking change or a non-breaking change?&lt;/b&gt;
&lt;/p&gt;
&lt;p&gt;&lt;em&gt;think and answer before you continue&lt;/em&gt;&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Answer&lt;/summary&gt;
&lt;b&gt;It will be a &lt;u&gt;non-breaking&lt;/u&gt; change&lt;/b&gt;, because the new precondition is &lt;u&gt;weaker&lt;/u&gt; than the old precondition.
Before, we only accepted &lt;code&gt;number&lt;/code&gt; as input, now we accept &lt;code&gt;number&lt;/code&gt; or &lt;code&gt;string&lt;/code&gt;.
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;{number} =&gt; {number || string}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The old precondition implies (logical implication, learn about it in the course) the new precondition, so all old callers that meet the
old precondition will also meet the new precondition.&lt;/p&gt;
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;{old_callers} =&gt; {number} =&gt; {number || string}
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p style=&quot;padding-top:20px;&quot;&gt;&lt;b&gt;Okay, here comes the exciting part: how can we visualize all this?&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Next in the pipeline, pipes!&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;visualizing-with-pipes&quot; style=&quot;position:relative;&quot;&gt;Visualizing with Pipes!&lt;a href=&quot;#visualizing-with-pipes&quot; aria-label=&quot;visualizing with pipes permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Imagine pipes - like in Super Mario.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a5903f50cbba20e3a5ce31a80f15498/e17e5/pixel_pipe.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeUlEQVQ4y83T30uTURgH8Oecs3ejwiBoyyQwMrqIouhCI6e+s/LX3vd1zfkj0W7cHGtaQUFg4Ttzb1NjVqjo9pJp6UVtVP7AaM45/EEIUgQV4VX0F9iNN26eeNeFm1CE3gTfi3MezgfOcx4OgIsmJf4P2dg8v7lqo3CPQmtSxESSK67EmVS8oZRa1vZabh1odOjsTTq7U2d3am1KElsl2sbm/fUNxDoHbgpifBMjN4Vrq6dvpPFjwI2jmmWoXARuDIpGwOCHQhnOy1AWJKVPQW1+DPcpiOupuPlndqfWNAcl40z1N1KxrOKjTPErcu4R0fcRfZ+qbGpPeQg0l30gbcESBefq2a40yzJwYVz/A2q+ooolbHyL8n3ADgI7iIToLsssaKp6tmKl59tr6WZ9lgkyjeRYLT5ahY+YSGYpPpiHMwpwBksOczireh9zZSKBY0mvLcaVTmrnTzrImRac+5Dk9aEcCedIqhNOdNyOTt1UZ9+BNM4BIkWuWOqoxDhIlDQuXhglxneodgXXfQfzEjK/J4YhKJDhYlB9KQLpDie0/gFj6wIrk5LXyPIBV30GIYKEMMnvB30PGJ6puQnQWf+KDTIpeYMqP+LqLyDMImGG5A8ouHBEzU+CzrYN3AuFz3eGhW3iHV37P+z596cV4+CmuGGB9ePipDnzYZw3ALnKnBluErTWqwoWYwpxUWAkqnJT0rbOPKCMbaFoSGOcUNV8UtWtEFOUVMxrWD9mB0jxi93lU3Co6TqIVC3FSDsl7RQC3o6AtyPY3RHo7gp67k738mEfFx3mo8Nc5Ak/I3OhXi7Uw033CxG5dMxje+n1BryegLcz0N35C28O5kNjYSjAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Super mario pipe&quot;
        title=&quot;Super mario pipe&quot;
        src=&quot;/static/1a5903f50cbba20e3a5ce31a80f15498/e17e5/pixel_pipe.png&quot;
        srcset=&quot;/static/1a5903f50cbba20e3a5ce31a80f15498/c26ae/pixel_pipe.png 158w,
/static/1a5903f50cbba20e3a5ce31a80f15498/6bdcf/pixel_pipe.png 315w,
/static/1a5903f50cbba20e3a5ce31a80f15498/e17e5/pixel_pipe.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The key feature of pipes is that they can stack on top of each other, each fitting into the next.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 525px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7810717de9e7cd276a7e02b677a63e95/52211/painted_strait_pipes.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 126.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAABXXAAAV1wEELLsZAAAFA0lEQVQ4y4WUWUxUVxzGJ33RNKnRGmNqtFRc0hixCS6MLaCCTFpQRkVFVrFSpAWxLolb0VrUtlo1xqUirQiKUMcVFxS1tRbQal1Q61KIBitOmXvvueee9a5zmgFSfet5+HIezsnvn/y/73NBCDnnlDKbB0EH5ppNMHWsIMUcIcQ51zTNsi1KqWVZlFDTtDRNw5gghFyyLJmGfeJczfaTi3fWLa68Vpzz2SzvnITywzsh0CijQAF+v/9JW4s/8Pzh4weyIkGoaZoGIXRJckCnVvnxbQsPRBVWuD/9IertiF69B/TY/uMGCBDj7Fnbs9V7MldVJed+6Rk4pK/vbDkjOlABAMCFEBIi2Nbavub7vLUXJ2+66p007520jNmmblNKTNPUmVlRu23NpbjcXaNjPKM7Ah26rjPGKKUuSZIQ1mS/5mveWG3OOilyP5gzMLcgk3MmSRLUVAL5jZb6ap6+5lz8zMwk23EkSQIAKIriIoTYjoUU5vvzq3Jtus/IGTGpz4LCeUIIQolpGY4hmlpP/iTmFOx3JyZ+JISglHbBQ2RM0ItngbLGJQfprENadr/BPQsX5RNCushU0083VW5oSPDkD032JnVN9JLsCFsNkLKGpTtbp6w84hkwsmfJd6uFEBijoHBUGX3rW7CiNjZ93ZhBw/r6zlQY3NJ1HiJ3BDoMw7xwsX5RaULRvuj5W8aPjOvvnvDeoaP72p+/wAQDGZYf37q6Lm5RZcyY+CHN925BqHWCFReEqhCi+lTZEt/7xWc9xacTIicP6v1Wj5KtyxVJNS3T5HZzS9Mhml5yOWHqXLfj2JRSxhghxKUoim7oLQ+fLt+cW1jpXnnMk5A7PGriyKdtTxAKGYki/dqj+iqcvrQmZlLSOMoI7HRJyCQAAMoIBnrdg71VfOZZkefJG+bNmqA7WAWQUKxT6+r987tapqdvHJWWmSKEUKGKENI0zaWqKtcZlOipuzvKAt4aPDc6NSw5LY6bGEJNN7gSgDuOrVhxfOK8zeMj3OHH6isxohjjkLdDnw2m+NHh698cIClHzY8HR/ZKSZ2qm1xVVV3nKoBbD64s2h+dvWFseES/C1fOMMq7yaFUGUztIDXXvy7927vl9xnD3H2WLV0mhIAapIzqzLz9qKlCSV/38+RpOTG2ZSOMuskAANMyHt5t3eTLX1g+vnDvhNj08KycjGs3rygyCFkY67dbf6uh2atq4+OnjWWcaprWTVaAIoTY59v++ZGo9b8klvz6YWTCoDf6v1a0Li3gVwyT69RqvHd+T3tyxuYRcVOinKCNECKEdJEV23buNN8qWp/6yc5xBXujY9PCR40dfvPODYIJpZRi9rituXhHXnbBtJJNX1iWDSHEGIfI/62q9mZpOZx+QsxPLBw+I9PjCEMFkDGmqqphmETjQSdIKeWcQwgRQqE9y7KMKVL+Qafu7C71T62mWbEZYUmpsRpTFBkQQhRFIQTLiowxkiSJUgoAgBCGygBjbNkmkvmZ+3sO0JQjds670X29aQmOMAgO9VYos7b9qnbxu8sAE+RvUyoul1Tx2RWBjKHj3szKS6EMSZKMEAqNhnGXhh533l9GMlSO0Djxx+7ZayPc3rCwyNcXLskXQUFpN8dxnFeVMfayDDRNUxSlvf15fd2lhiuNjU0NLa1/AQBk+f/IlFLbthljQgjTMoLBoGEajuPwztPFCQaDryrn3DAMzvm/elh8rk8jgxIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Stacked pipes&quot;
        title=&quot;Stacked pipes&quot;
        src=&quot;/static/7810717de9e7cd276a7e02b677a63e95/52211/painted_strait_pipes.png&quot;
        srcset=&quot;/static/7810717de9e7cd276a7e02b677a63e95/c26ae/painted_strait_pipes.png 158w,
/static/7810717de9e7cd276a7e02b677a63e95/6bdcf/painted_strait_pipes.png 315w,
/static/7810717de9e7cd276a7e02b677a63e95/52211/painted_strait_pipes.png 525w&quot;
        sizes=&quot;(max-width: 525px) 100vw, 525px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;These pipes represent our different specifications. They take in inputs and produce outputs.
If we want to change our pipes/specifications, there are two ways we can do it without disrupting old callers/pipes. The width of the pipes corresponds to the strength of the specification.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aeda129797a25f2beeafa62a79e9d918/07e9f/pipe_dream_valid_changes_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 129.1139240506329%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAACMQAAAjEAFnL93WAAAEHElEQVQ4y42U32/bVBTH88qfwAODxz2NigokhNCEkEpBbGOr1I2+bFANBEOIF4REYYhpDIZI25WN9AcTaZu0jbr+DGlWbd2SOD+stGmbpG5qp0vatCRpzdw0ttPE9r0H2e7cjIfCV9a90rnn+Nx77udcE8a4WCzmcjmO4zDGsiZFUQBgZ2dHFEWMsaIo2Wy2UqkoiiJJku6AEDIBgN/v93g9BEEIgqAoCsZYFEWEUCAQSCaTkiTl83mGYViWBU0IIT3eJMsySZKEj3C5XPYB+/Td6UAg4HQ6C4WCx+OxWq2Tk5PxeHx1ddXtdpMkubCwwCQZAFCDFUXJ5XJ2u72vr89ms/X29prNZovFMjEx4XA4en7v6e/vHx0bHRwaGBm909nV2dbWynGcntyEECqXyzzPC5pEUeR5XhTFYrEoCEKhUCgWi1gGVMGAQeBFviDoadUz6xPGWB+rhRACAG6XDSQm4+zd+zH7n4H+6cAwlYjvb9sorzEalnKlDACzMaL+i+e+e/ja9YXX6z478sIrz3QPmgGgIlUOC5YkSbVISpSa64w3Wej3zv9SM+Z0AIC2JKvb1qW76pWQZRkhpNsBA8fnp9An3eunPuw4Fow81IPVM+uu8ES6Vb/Mvb09Bam0PN7Nj+1+ZGFOXrxVE0vMAoAsq5lUSLa3t8fHx+Px+HJimSTJTCZD07SO3db2Vi6by7Ar39x5u8V5/Lz5xbloSEGKWBL3CWNZtqury+v1RuYj4XA4FAoFg8HF6GKBK1odlou3XjL7T1/zvnXdX/9zsP5r24lXTz8/cK8dANQzl0qlWCxGkiRN0xRFhUIhhmZoeiWXy6fSyWHvr+2L9Tei77bOvnMzdqrp2tFLlxs3t9IYY5NeGIwxPC1ZljmOA8CoAs7VH4dxgws+sObPNF2uTf/F6A6mcrlsVAgAVNoE3vgFL/AIQWpzxbrZ6IYLn96uafnpknrJlbJasPn5ea/Xu7S0xDBMLBajadrlcmUymVQqtba+FolEKGoJJPhtrKUtVtfcVhtdDquXImtXFQ6HbTZbMBgcGRnx+/1zc3MkSXo8aoc+eDDj9fim77v+mL56xXHu+5k3vhp8s2Pg2+X1WQ1P2cQwzNTUlM/noyiKZVm/308QhM/nIwgilXpExZcTj6I/jDe2L9X1pM4036h9+cSzMws6ZBqeOlg6m0ZXSJJU1gQAGxsbfekLDuFcc8ex20OtB2dWqmSwaeCJNMLYQnai9PEQf/bslaMjkwNP4VnNdnWw1h8yYMjvpHsz73enT9Z/fsR9z6llrhxkfpIHVe9Cm1Xss3+vmX0NN+cbvhw67g27dbb3H4NDgrUXApVKpeRaIpVhco8zu8UdpOwvHdbPBxYtP8bqZ9Tlv7ddZZGNohgO/zdYT/gvh38A9ZVKjcrxVa4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;pipe dream valid changes 3&quot;
        title=&quot;pipe dream valid changes 3&quot;
        src=&quot;/static/aeda129797a25f2beeafa62a79e9d918/f058b/pipe_dream_valid_changes_3.png&quot;
        srcset=&quot;/static/aeda129797a25f2beeafa62a79e9d918/c26ae/pipe_dream_valid_changes_3.png 158w,
/static/aeda129797a25f2beeafa62a79e9d918/6bdcf/pipe_dream_valid_changes_3.png 315w,
/static/aeda129797a25f2beeafa62a79e9d918/f058b/pipe_dream_valid_changes_3.png 630w,
/static/aeda129797a25f2beeafa62a79e9d918/40601/pipe_dream_valid_changes_3.png 945w,
/static/aeda129797a25f2beeafa62a79e9d918/78612/pipe_dream_valid_changes_3.png 1260w,
/static/aeda129797a25f2beeafa62a79e9d918/07e9f/pipe_dream_valid_changes_3.png 1301w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, the opposite alterations would always result in a breaking API change.
This is a logical level statement; it remains a breaking change even if all actual current callers continue to function.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Example: In the above image the third pipe(3) could now strengthen its precondition since there is space to do so, however, this would still be a breaking change because this pipe can be used in many other setups where such changes would not work. We need to respect every potential caller and think about the &lt;strong&gt;ghost pipes&lt;/strong&gt; that need our current exact requirements.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ask yourself this, if you change a backend API, but you know all callers and control them, and the old callers will keep working under your new stricter API, is it still a breaking change?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Let’s now look at a series of animations to work up this intuition.&lt;/p&gt;
&lt;h3 id=&quot;specifications-composition&quot; style=&quot;position:relative;&quot;&gt;Specifications Composition&lt;a href=&quot;#specifications-composition&quot; aria-label=&quot;specifications composition permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&quot;base-spec&quot; style=&quot;position:relative;&quot;&gt;Base Spec&lt;a href=&quot;#base-spec&quot; aria-label=&quot;base spec permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Recap, Here two specs are combined (logical-level). The water represents all possible runs (code-level),
while each droplet symbolizes a single run (runtime-level).
&lt;img src=&quot;/2b76fa0c54123d9b91ccaa384c4c4191/normal.gif&quot; alt=&quot;normal spec&quot;&gt;&lt;/p&gt;
&lt;p&gt;We see the specs fit together and all the water passes through without any leakage so we have a working and correct program.&lt;/p&gt;
&lt;h4 id=&quot;a-valid-change&quot; style=&quot;position:relative;&quot;&gt;A Valid Change&lt;a href=&quot;#a-valid-change&quot; aria-label=&quot;a valid change permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;In this scenario, let’s modify the specifications to accept a broader input range (weaker precondition) and return a narrower output range (stronger postcondition).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/6131bb1efefba20fa85b67967f69064b/constrained.gif&quot; alt=&quot;spec that is more constrained&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;a-breaking-change&quot; style=&quot;position:relative;&quot;&gt;A Breaking Change&lt;a href=&quot;#a-breaking-change&quot; aria-label=&quot;a breaking change permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Now, let’s see what happens when we try to give fewer guarantees (weaker postcondition) and accept a narrower input range (stronger precondition). As depicted, this leads to “leakage” and hence, a malfunctioning program.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/28fccb836875e4e749df9b00bc25ae45/breaking_change.gif&quot; alt=&quot;spec that don&amp;#x27;t compose&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;wheres-the-code&quot; style=&quot;position:relative;&quot;&gt;Where’s the Code?&lt;a href=&quot;#wheres-the-code&quot; aria-label=&quot;wheres the code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To visualize the code we need more pipes! The outer pipe creates a boundary within which your implementation must live. If your specification asserts that it will output numbers less than five and your code generates numbers less than three, that implementation is still valid.&lt;/p&gt;
&lt;h3 id=&quot;what-if-i-told-you-there-is-no-spec&quot; style=&quot;position:relative;&quot;&gt;What If I Told You There Is No Spec?&lt;a href=&quot;#what-if-i-told-you-there-is-no-spec&quot; aria-label=&quot;what if i told you there is no spec permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Specifications do not really &lt;u&gt;exist!&lt;/u&gt; They are just an idea.&lt;/strong&gt; &lt;/br&gt;
&lt;em&gt;Though the more powerful the language the more of it we can embed (see &lt;a href=&quot;https://coq.inria.fr/&quot;&gt;Coq&lt;/a&gt; for full embedding).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The specification pipes we’ve been seeing are not as rigid as they might appear, they are actually just air.
So, what guides the input (the water)? &lt;/br&gt;&lt;/p&gt;
&lt;p&gt;The answer: &lt;strong&gt;THE CODE!&lt;/strong&gt; &lt;/br&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Let’s have a look inside the pipes.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/117d89902fb327054e6ecfac8b9d70fd/where_is_the_code.gif&quot; alt=&quot;Where is the code?&quot;&gt;&lt;/p&gt;
&lt;p&gt;The code needs to make sure it &lt;em&gt;at least&lt;/em&gt; can collect all the incoming water that the precondition wants to let in, and not spread it wider than the postcondition wants to let out.
All while containing no leaks.&lt;/p&gt;
&lt;p&gt;The specification outlines the boundaries within which our code needs to live, but it’s the code that must adhere to the specification.&lt;/p&gt;
&lt;p&gt;In the below animation, you can see how the water leaks out even though the specifications match. This is because this implementation does not respect the postcondition and is too loose in what it lets out.&lt;/p&gt;
&lt;h4 id=&quot;a-buggy-implementation&quot; style=&quot;position:relative;&quot;&gt;A buggy implementation&lt;a href=&quot;#a-buggy-implementation&quot; aria-label=&quot;a buggy implementation permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;/c68a4faa70b51cddde6dfbe97a700ed6/buggy_implementation.gif&quot; alt=&quot;Buggy implementation&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;the-interplay-between-specification-and-code&quot; style=&quot;position:relative;&quot;&gt;The interplay between specification and code&lt;a href=&quot;#the-interplay-between-specification-and-code&quot; aria-label=&quot;the interplay between specification and code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The interplay between specification and code is that if your specification does not give too many guarantees and accepts every value under the sun, then the code has more room to move.&lt;/p&gt;
&lt;p&gt;In Hoare Logic we talk about &lt;strong&gt;precondition strengthening&lt;/strong&gt; and &lt;strong&gt;post-condition weakening&lt;/strong&gt;, and how that relates to a form of modularity.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The output of your precondition is the input of your code&lt;/li&gt;
&lt;li&gt;The output of the code is the input to the postcondition.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So the relationship between the precondition and the code is the same as between the postcondition of one spec and the precondition of the next spec.&lt;/p&gt;
&lt;p&gt;This gives rise to much of the rigidity in software development. You can always broaden your precondition, but the implementation may also need to be modified. If your code is forgiving but your specification is strict, you can modify the specification without changing the implementation (as with &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt;).&lt;/p&gt;
&lt;h3 id=&quot;comprehension-questions&quot; style=&quot;position:relative;&quot;&gt;Comprehension questions&lt;a href=&quot;#comprehension-questions&quot; aria-label=&quot;comprehension questions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The weaker we make a condition the wider the pipe gets, and the stronger we make a condition the narrower the pipe gets.&lt;/p&gt;
&lt;p&gt;When talking about Hoare Logic we sometimes talk about the weakest precondition and the strongest postcondition.
To get the weakest precondition we need to know the code and the postcondition.
To get the strongest postcondition we need to know the precondition and the code.&lt;/p&gt;
&lt;p&gt;So with this new understanding, what would it mean to have the weakest precondition or the strongest postcondition?&lt;/p&gt;
&lt;details&gt;
  &lt;summary&gt;Answer | The Strongest Postcondition&lt;/summary&gt;
  &lt;p&gt;The strongest postcondition is the strongest guarantee that we can form from the current code and the precondition.&lt;/p&gt;
&lt;/details&gt;
&lt;details&gt;
  &lt;summary&gt;Answer |The Weakest Precondition&lt;/summary&gt;
  &lt;p&gt;The weakest precondition is the least amount of guarantees we need from the input to still have the code imply the postcondition.&lt;/p&gt;
&lt;/details&gt;
&lt;h2 id=&quot;visualizing-errors-of-modular-reasoning&quot; style=&quot;position:relative;&quot;&gt;Visualizing Errors Of Modular Reasoning&lt;a href=&quot;#visualizing-errors-of-modular-reasoning&quot; aria-label=&quot;visualizing errors of modular reasoning permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Let’s now revisit the statement from the start of the post &lt;em&gt;(the primary idea conveyed in &lt;a href=&quot;https://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html&quot;&gt;The three levels of software&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A program that never goes wrong can still be wrong.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s now see how we can visualize this using our pipes. We will see that it’s maybe not so strange a concept after all and it is just a natural emerging fact of the interplay between multiple pipes&lt;i&gt;(specs)&lt;/i&gt; and sub-pipes&lt;i&gt;(implementations)&lt;/i&gt;.&lt;/p&gt;
&lt;h3 id=&quot;two-types-of-errors-in-modular-reasoning&quot; style=&quot;position:relative;&quot;&gt;Two Types of Errors in Modular Reasoning&lt;a href=&quot;#two-types-of-errors-in-modular-reasoning&quot; aria-label=&quot;two types of errors in modular reasoning permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Depending on a Stricter Output Than the Specification Guarantees&lt;/strong&gt;&lt;br&gt;
&lt;em&gt;Example:&lt;/em&gt; When the game SimCity was created, there was code that used memory after it was freed, but the program still worked by coincidence because the then current implementation of the memory manager in the Windows operating system was stricter than the specification. The Windows operating system did not touch the memory after it was freed. Everything worked until a new release of Windows years later. (Microsoft fixed this issue by patching Windows.
&lt;a href=&quot;https://www.joelonsoftware.com/2004/06/13/how-microsoft-lost-the-api-war/&quot;&gt;Joel Spolsky, How Microsoft Lost The API War&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Depending on Being Able to Use Looser Input Than the Specification Guarantees&lt;/strong&gt;&lt;br&gt;
If the current implementation is more forgiving than the specification guarantees. Depending on that is also an error of modular reasoning.
Like with our &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; example, the behavior we got when calling the function with the wrong arguments is not a stable guarantee for future valid changes to the function’s implementation.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Both errors are something that will only come up when code you depend on changes,
so there are no &lt;strong&gt;&lt;em&gt;observable&lt;/em&gt;&lt;/strong&gt; issues that can be found in the current code.&lt;/p&gt;
&lt;p&gt;Depending on the languages it’s possible to embed the spec or parts of it in the types. Then these types
of logical errors will become compile-time errors. It’s also possible to check for specification violations at runtime, this is what design by contract does.&lt;/p&gt;
&lt;h3 id=&quot;error-of-modular-reasoning-visualized&quot; style=&quot;position:relative;&quot;&gt;Error Of Modular Reasoning Visualized&lt;a href=&quot;#error-of-modular-reasoning-visualized&quot; aria-label=&quot;error of modular reasoning visualized permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;This code has an &lt;strong&gt;Error Of Modular Reasoning&lt;/strong&gt;.
The second function depends on the current implementation and not the specification.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/7ebb3d1ffa8997794eead46c786ede11/error_of_modular_reasoning.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Now if we do a valid non-breaking change to the first function, we still get a runtime error in our program.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/9fd6ceae319a126d1336905d1bd27c9e/error_of_modular_reasoning_2.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;This is of course because the second function depends on implementation details of the first function, which are not stable guarantees (part of the spec).&lt;/p&gt;
&lt;p&gt;Thinking about the boundaries of pieces of code makes it much easier to point out where the bug is, and what code should be changed to fix it. In the above case, it’s clearly the second function that is incorrect.&lt;/p&gt;
&lt;h3 id=&quot;stable-guarantees&quot; style=&quot;position:relative;&quot;&gt;Stable Guarantees&lt;a href=&quot;#stable-guarantees&quot; aria-label=&quot;stable guarantees permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Senior programmers talk about stable guarantees. What this means is that we only depend on what is guaranteed by the specification. “What if there is no specification?” I hear you say. Well, most code do not have specifications, so what do we do then?
All code has a specification even if it’s not written down. It’s just that the specification is implicit in the code and the specification might be different in different engineers’ minds.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;A Tale of two engineers:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;“Hey! You broke the API! The returned list is not in the same order anymore”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“No this was not guaranteed by the API, you should not depend on that.”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;“Well it’s a reasonable thing to expect from a list, and altering it is a breaking change.”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;…etc!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So start talking about specs and align your team(s) on what is guaranteed or not for different parts of the system.&lt;/p&gt;
&lt;h3 id=&quot;end&quot; style=&quot;position:relative;&quot;&gt;End&lt;a href=&quot;#end&quot; aria-label=&quot;end permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Understanding the interplay between specifications and their implementations is key to good software engineering. It’s important to note that even when your code seems to work perfectly, it could still contain hidden errors due to issues in modular reasoning.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Junior Engineer: “I have checked all the places where the code is used and it works!”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Senior Engineer: “Well…”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I hope that these pipes can help you visualize the logical level of software easier and help our students with Hoare Logic.&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;
&lt;h5 id=&quot;q--a&quot; style=&quot;position:relative;&quot;&gt;Q &amp;#x26; A&lt;a href=&quot;#q--a&quot; aria-label=&quot;q  a permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;Question:&lt;/strong&gt; “This code is untyped! if we had types you would not be able to call &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt; with strings in the first place. Are types on the logical level?”&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Answer:&lt;/strong&gt;
Types embed some of the logical-level in the code-level. but not all &lt;em&gt;(that depends on the power of the type system though)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Question:&lt;/strong&gt; “Should you make your implementation act as close as possible to the specification?”&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Answer:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With a sufficient number of users of an API,
it does not matter what you promise in the contract:
all observable behaviors of your system
will be depended on by somebody.
— &lt;a href=&quot;https://www.hyrumslaw.com/&quot;&gt;Hyrum’s Law&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;https://imgs.xkcd.com/comics/workflow.png&quot; style=&quot;margin:auto&quot;&gt;
&lt;p&gt;So what gives? if your code gives more guarantees than the spec says, then some users will surely depend on that.
And if you change the code to be more in line with the spec, then you will break those users (boohoo).
Go famously made their map iteration random, because a lot of users were writing code depending on iteration
being in order. Something that was not guaranteed in the spec, but was the case in the implementation.
So they randomized the iteration order, to just not imply that stricter spec. And be open to more optimizations in the future.
&lt;a href=&quot;https://stackoverflow.com/questions/55925822/why-are-iterations-over-maps-random&quot;&gt;https://stackoverflow.com/questions/55925822/why-are-iterations-over-maps-random&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Is it totally possible to do similar things where, for example, your current implementation is sync but
you don’t want to guarantee that in the future, you can make it trivially async now by wrapping the return value in a promise &lt;em&gt;(&lt;/em&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&quot;&gt;&lt;em&gt;JS datatype&lt;/em&gt;&lt;/a&gt;&lt;em&gt;)&lt;/em&gt;.
Then you can change the implementation later, without breaking the spec.&lt;/p&gt;
&lt;p&gt;When you stake out your spec, you are creating space to move in.
Do not give too many guarantees or be too nice with possible inputs from the get-go.
You will have to honor that forever or break your API, &lt;a href=&quot;https://www.codesimplicity.com/post/ways-to-create-complexity-break-your-api/&quot;&gt;don’t do that&lt;/a&gt;.
This is basically counter to Postel’s law (a.k.a: ‘the robustness principle’), which to me sounds like a recipe for frail software (ironically enough).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Question:&lt;/strong&gt; “Pre/post-conditions can be much more complex than can be represented with just water and pipes.”&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Answer:&lt;/strong&gt;
Our current analogy takes us pretty far, but in reality (if anything is real) the shapes of the inputs/outputs are multi-dimensional.
Thinking in the simple 2D plane is good enough for our needs. And the rules of logical implication
in the 2D plane are the same as in the multidimensional space.&lt;/p&gt;
&lt;h2 id=&quot;acknowledgments&quot; style=&quot;position:relative;&quot;&gt;Acknowledgments&lt;a href=&quot;#acknowledgments&quot; aria-label=&quot;acknowledgments permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Big thanks to &lt;strong&gt;JunHong (Nemo) Yap&lt;/strong&gt;, &lt;strong&gt;Christofer Ärleryd&lt;/strong&gt;, and &lt;strong&gt;Jimmy Koppel&lt;/strong&gt; for their invaluable assistance in both writing and editing this post.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ai solves Advent of Code 2022]]></title><description><![CDATA[Intro It feels like every week a new mindblowing Ai assistant pops up, tools like D-alle, Whisper, Copilot etc.
Have all been amazing and…]]></description><link>null/the-advent-of-code-ai-edition/</link><guid isPermaLink="false">null/the-advent-of-code-ai-edition/</guid><pubDate>Thu, 01 Dec 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;Intro&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;It feels like every week a new mindblowing Ai assistant pops up, tools like D-alle, Whisper, Copilot etc.
Have all been amazing and useful to me.&lt;/p&gt;
&lt;/div&gt;
Yesterday I saw this tweet about using GPT chat.
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAABXXAAAV1wEELLsZAAACJ0lEQVQ4y5VU2W7UMBSd//8hvgCEhMQLAh6oRDuZeE28xr7e4kG2mVJapkyPLOfGzrn7zUF/+8E/f6HLAiGcb0YupdZ6oB8+kfcfjfNC6lzKjeRaaz2fD4jS++N0/3CklJ3fgkaWSgkhl2XdNtdV3rYGOcT4/e6ulALg3UB7bs47Yw0AXHW7ng85F20tgNdaaa1LKfu+l46ccw/tOnlchxBWIaSUAOC9s9vWrbvXEvZIzjnxhTPGKKOcL5xz59w1s8/JpZR4Qe6IMf6nVE8tKyWFEN15sYoVAMr1sv9FrrVyzjHGhBBCCe8Nl3K+ibzv+2Y3a60xxjkHAK8E/JycUtw7aq2tVF24ley931p5NndBKfn/5JxzSWn0xv7YH5cmeYrHk5RSzqlNFbf63c+vUkhCKKWMcc54A6Gj4AtjnDK+LOs0nSjlYhXWWud8620HcFKrFPJ4nI7TNCNMCMWYYNx0DbnpJWwcit6FI6OHGGOJcUZoOs3zjOYZIUzuH6bjdCKEIkSaQoQxbjJlbDBDCI0cYgQAqZQ2JoQw7rz38AL90v+DvLaY2Qgbdc8JYcNthAnCmBJGunGldbPxm9zNEcIYX7Q2Wmsp22wq1fYuNLeUUuN829wfyyml9tJHIqQU0wvky96LFFOKsX3Vs+1BaqOMNXbTbY79G/5hsZe8dWWtKeV933Mpe60xpRDj6NJr69ByQ7ky1vXIjd2E0g6AcXaakYPwiuVfEo6r7w/CfDsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tweet&quot;
        title=&quot;tweet&quot;
        src=&quot;/static/5cf29b8a9c98f36ca9306e1dcc27d572/f058b/tweet.png&quot;
        srcset=&quot;/static/5cf29b8a9c98f36ca9306e1dcc27d572/c26ae/tweet.png 158w,
/static/5cf29b8a9c98f36ca9306e1dcc27d572/6bdcf/tweet.png 315w,
/static/5cf29b8a9c98f36ca9306e1dcc27d572/f058b/tweet.png 630w,
/static/5cf29b8a9c98f36ca9306e1dcc27d572/40601/tweet.png 945w,
/static/5cf29b8a9c98f36ca9306e1dcc27d572/6acbf/tweet.png 1001w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;OMG WTF &lt;a href=&quot;https://t.co/I2hE0e5ppq&quot;&gt;pic.twitter.com/I2hE0e5ppq&lt;/a&gt;&lt;/p&gt;&amp;mdash; cts (@gf_256) &lt;a href=&quot;https://twitter.com/gf_256/status/1598104835848798208?ref_src=twsrc%5Etfw&quot;&gt;December 1, 2022&lt;/a&gt;&lt;/blockquote&gt; 
&lt;p&gt;I had never tried GPT chat and this got me very keen in doing so!
I quickly tried it on some of the code examples we use in our courses as examples of hard-to-find bugs or
code in need of refactoring and I was more than amazed that one code challenge that
1/100 engineers find was found ‘easily’ by GPT chat and it also provided the suggested refactor to remove it.&lt;/p&gt;
&lt;p&gt;Today Advent Of Code started so I’m naturally curious how far I can come with minimal guidance of these code-writing Ais.&lt;/p&gt;
&lt;p&gt;If you want to do the challenges yourself or with your Ai friend visit &lt;a href=&quot;https://adventofcode.com/2022/&quot;&gt;Advent Of Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bots at my disposal&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/features/copilot&quot;&gt;CoPilot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://chat.openai.com/chat&quot;&gt;GPTchat&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s Go!&lt;/p&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#day-1&quot;&gt;Day 1&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#day-1-challenge-1&quot;&gt;Day 1: Challenge 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#day-1-challenge-2&quot;&gt;Day 1: Challenge 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#day-2&quot;&gt;Day 2&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#day-2-challenge-1&quot;&gt;Day 2: Challenge 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#day-2-challenge-2&quot;&gt;Day 2: Challenge 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#day-3-stay-tuned&quot;&gt;Day 3 (stay tuned)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;day-1&quot; style=&quot;position:relative;&quot;&gt;Day 1&lt;a href=&quot;#day-1&quot; aria-label=&quot;day 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Times:
Challenge_1: 15 seconds
Challenge_2: 2 minutes&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://adventofcode.com/2022/day/1&quot;&gt;Question&lt;/a&gt;, &lt;a href=&quot;https://adventofcode.com/2022/day/1/input&quot;&gt;Input&lt;/a&gt;, Ai used:&lt;a href=&quot;https://chat.openai.com/chat&quot;&gt;GPTchat&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;day-1-challenge-1&quot; style=&quot;position:relative;&quot;&gt;Day 1: Challenge 1&lt;a href=&quot;#day-1-challenge-1&quot; aria-label=&quot;day 1 challenge 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I wrote a little instruction on where to find the question that needed to be answered, that I wanted the answer printed, and please don’t use any libraries.&lt;/p&gt;
&lt;p&gt;Then I just pasted the whole question in full to the GPT chat.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 26.58227848101266%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAABXXAAAV1wEELLsZAAAA0UlEQVQY01WM4Y6DIBCEfSftVU8UUGQXRGUBTdNqru//FE3rn2sy+SYzyUyGhowNgAkwaoiIyU03tEnrYOyGGAdNQk698l0/q8F/RFy64iKzslLVr9IQR7cBvl+MXdEkO2523IxZZTdxOQnpaobFRf5Xlhciz0XT2l4tsp9Pym6qGVxLVVZDzaBmwBiWlcoL8TU+TQ1+0ASYEKOxK0DkfGz5yIU72bSGC3dG1uDXePE7hZ3CMS93ioenPa1PoneT0t88371/UDgW//iUu4bwc+1fe5BSSYASovQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;inital prompt&quot;
        title=&quot;inital prompt&quot;
        src=&quot;/static/b0b501d46ec65d1dace9a610379bf8bf/f058b/inital-prompt.png&quot;
        srcset=&quot;/static/b0b501d46ec65d1dace9a610379bf8bf/c26ae/inital-prompt.png 158w,
/static/b0b501d46ec65d1dace9a610379bf8bf/6bdcf/inital-prompt.png 315w,
/static/b0b501d46ec65d1dace9a610379bf8bf/f058b/inital-prompt.png 630w,
/static/b0b501d46ec65d1dace9a610379bf8bf/40601/inital-prompt.png 945w,
/static/b0b501d46ec65d1dace9a610379bf8bf/5b587/inital-prompt.png 1010w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And lo and behold, GPT produced the following program
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 108.86075949367088%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAABXXAAAV1wEELLsZAAACsElEQVQ4y41Ua1PaQBTd7CubkCwk6FRmAGeq+KGdflEY1I7SFkISqEAIeVDloaDt//8FnU0Q0KLTM2c292b2JGfv3V3w4+mPHc17N3fd3m3fm/7s390MJj1v2u3d9b2Z042blt9qj7bZtHynEzudGHyfL1rDW7s9spzQdqO2E9pJYNmB7Ubp1DUtO2g7oWUHKYHdGl1e2sXiUal8XCwJlsuVUrlSLlcOD09KpeM1i8Wjj0efTk6+VCqfr667bScETnd8Wr3OqIphGLlslnNd1zIIQYgkhCDYBQmA+nnLdmPgdOKzWoMCmGFqNpfjXHwgo2mQEPAGIITnF5btRiuxjLHGVCbLjDGZyimSWCQ0GQkh6ShJ0guxLpE9kuFYoQin1nYCigG8FiMgyZhQiAnCEEGEEHgb2+LxWbWh6Zphmvl8Xs1kKCWMMSSKtgOvxHG11sAYUVnGBCOMUmCMCSZYPAQopemY+n/xZybLB+Y+ZyolVFEUxlhaJKYolNJ3bdcaEgAGUgzIckzTVHVdYcYY+adnL8Sn1WvGZF3XKSGUJFbxyj2EMF3CGoQQCGH9orWxDQAwEvAs13XdMI21Pg22UgSljVi0CiMkP5dE1AZjOSmRaOu7rYqrtW8ZRA2q6qpmmnnTNLMJTNPknO/YKlvbU6wZYUlmokwQSuA/UD9vioNhu1H9orW/f1AolAqF0t7eB85NnjWzCXnW5NzQuZEEgjo3crn81ytHHMmm5dtu1PemfW/aG0zTYDCci1S8mQyGM8+f9waTvjfre1NvOO/c/Eqvl0TcicLxYxA9BtEyHD+OouUoXAbRhtH49yhc+MFDNH7yg4XtRhux2x2H4yfPn4up8dIPHoJo6YeLkeBzGtwn6aLnTdxunF5mK9vD0f1gOEsd+sGDk1xmzwy24hVT8V+9LbsWofqVugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;day 1 solution&quot;
        title=&quot;day 1 solution&quot;
        src=&quot;/static/e157eb005442687b6238ae5682808e11/f058b/day_1_solution.png&quot;
        srcset=&quot;/static/e157eb005442687b6238ae5682808e11/c26ae/day_1_solution.png 158w,
/static/e157eb005442687b6238ae5682808e11/6bdcf/day_1_solution.png 315w,
/static/e157eb005442687b6238ae5682808e11/f058b/day_1_solution.png 630w,
/static/e157eb005442687b6238ae5682808e11/40601/day_1_solution.png 945w,
/static/e157eb005442687b6238ae5682808e11/78612/day_1_solution.png 1260w,
/static/e157eb005442687b6238ae5682808e11/0f586/day_1_solution.png 1498w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;code&lt;/summary&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Read the input file and split it into lines&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;input.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  lines &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strip&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;split&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Initialize variables to store the maximum Calories and the current Elf&apos;s Calories&lt;/span&gt;
max_calories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
current_calories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Loop over the lines in the input&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; lines&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# If the line is empty, update the maximum Calories and reset the current Elf&apos;s Calories&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    max_calories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_calories&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current_calories&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    current_calories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# Otherwise, add the Calories from the current line to the current Elf&apos;s Calories&lt;/span&gt;
    current_calories &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Update the maximum Calories one final time&lt;/span&gt;
max_calories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_calories&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current_calories&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Print the result&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_calories&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# This program reads the input file line by line, and keeps track of the maximum number of Calories and the current Elf&apos;s Calories. Whenever it encounters an empty line, it updates the maximum Calories and resets the current Elf&apos;s Calories. At the end, it prints the final value of the maximum Calories, which is the answer to the problem.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;
&lt;/br&gt;
&lt;p&gt;I copied the code and ran it on my machine, it produced a number!…
&lt;strong&gt;I pasted the number into Advent Of Code as the answer and it was the correct answer!
Wow…&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;day-1-challenge-2&quot; style=&quot;position:relative;&quot;&gt;Day 1: Challenge 2&lt;a href=&quot;#day-1-challenge-2&quot; aria-label=&quot;day 1 challenge 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;On the second part of the challenge I yet again just pasted the whole page of information,
But this time I was way less precise in my instructions.&lt;/p&gt;
&lt;p&gt;One of the features of GPT chat is that it remembers! So I wanted to use that
and act as if I was basically talking to a human.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 370px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 135.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAABXXAAAV1wEELLsZAAADMElEQVQ4y51UbY+jNhDOX7lvd+p1LxuweccGQyCYvBHAkEAghGySTXdbVer39p9XxNkk7bVRVWmExvY8nplnHtwTgfVvJohYEPGDgN4DpKIOJdn5Hg+AJTwAA2h/ezba9ueUbfp9A0D7HjmAtiRi8I/ggYAEEQ8EpOm+LDv9Z+NaPwDWN4n4fS3/CvrQ7n2f00CBqnma7unGyETUJhNV8xTFBSIeANsYmLvPz5KIhb9lPvfpLeKq3rweTr+17dtm+940P9XNezRf/SigJ4nsPz8bgtmH9q3sKyuCiCXZ1XRf0z1JdiC0AbQVxYWKqwno909f/L76BG3YcYZ7UCJQIoo6BB9ld23zDqEtihicQ3+ApPwK//j05UkdaqoLoC3JTo/Pg7jzojzGSRUndZJu8uVuOiums9VytZ/Py/F0xVhDwyxkbRSV2AqhRHRj1JMVV1ZcbI1Zts2ybZa3KWuK8hAn9TwqsnwXJ9Wiu66dzIqy2M+j0kQBlIim+xewicMk3VTVoVy/TmerOK6Xq32Wt4u4KsrDcvWyXO2q+tQ0J0qZZowk+R6MKMLhh1ETUb6DrTGyxlcfn30T0UtmTgyUCP9e7bLsvpdTbvyUo7rMkuyYiBpmoOm+box0Y2SYgYkod4yPpYl5TBcAoK1qXse2COw0277sf23bX7J8my9fyvU+TjdJUpflIWXtdvtWlMe6Pu1271X9SsgUQPvGtmVPCJkSd2bZ49m8nEedpazJ8pZlDcu2lDKMx8SZEWeGcHjpWVGHsuKic0m8Ko6MFutF3I09WqyTdDMKEi513sIF3Gnw7F2N13Le7454gKIOrwGq5l3K5hxKssPt+uuCM59AIoLINYv5RdxEYN3m3M0ThwaiAWWT6bJTYsgCyjw/Pi/ZeJITZ3aVAx/eBYxwaCKq6X5A2bo6ZnmbL9s0a6JFVdenJNkU5X7oRZru80jeyA2McJhmbVW/FuWxKPZF0Uk1y5o4qdfVcbnaNc1bFK01Y8Qz30bF73OGUTjOwzALaBpQ5o8Sz184bkS7HeYHiePO/8L2PWH3MrwX49m/CPbKa5f5wbP82Dp5/m/wo0f/v4D/BAbhpv9tWBrkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;remember&quot;
        title=&quot;remember&quot;
        src=&quot;/static/75250dd3d11b7feb443031ddb619b91f/1efb2/remember.png&quot;
        srcset=&quot;/static/75250dd3d11b7feb443031ddb619b91f/c26ae/remember.png 158w,
/static/75250dd3d11b7feb443031ddb619b91f/6bdcf/remember.png 315w,
/static/75250dd3d11b7feb443031ddb619b91f/1efb2/remember.png 370w&quot;
        sizes=&quot;(max-width: 370px) 100vw, 370px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I pasted this as my prompt
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.253164556962027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABXXAAAV1wEELLsZAAAAtklEQVQI1y2Oa47CMAyEe6WF5oG23cR2UkLeLYJSgbj/MVDKStbom5kfnk5pP52LUhEwIeVdC2AiKs1CMrZqiEiFTMv3KisVegbd+Oc0eCHtMLh242UY3e/ghCTGkQnighgH/g/IBTaWdOx1dzjqn4MKaY3pUednnV/L9V3qczovdprJlC8gFWMrmUqmTZAnwzh2PYOegbvcfLiHuPpwT2nzYU15+9qcNx/2Nj1ibD9iXI2t8mQ/NvJBJDpSIkYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;my promt day 2&quot;
        title=&quot;my promt day 2&quot;
        src=&quot;/static/89d77a89b19c8ba164bf6abbe3b24279/f058b/my-promt-day-2.png&quot;
        srcset=&quot;/static/89d77a89b19c8ba164bf6abbe3b24279/c26ae/my-promt-day-2.png 158w,
/static/89d77a89b19c8ba164bf6abbe3b24279/6bdcf/my-promt-day-2.png 315w,
/static/89d77a89b19c8ba164bf6abbe3b24279/f058b/my-promt-day-2.png 630w,
/static/89d77a89b19c8ba164bf6abbe3b24279/40601/my-promt-day-2.png 945w,
/static/89d77a89b19c8ba164bf6abbe3b24279/73b94/my-promt-day-2.png 1004w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
… Drumroll!&lt;/p&gt;
&lt;p&gt;The initial answer was this.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAABXXAAAV1wEELLsZAAAB3klEQVQ4y5WTi27aMBSGjW/Hjo1zIUkpL1BItVWDSpOmEWgpENFyadp1RUP0Gaa9v7TFSSmV2o39+mXJlr6cc347aPLrZ3a/XSw28+Vmebtd3m5X+dMqf7pZbFa329nN+vIqH43vdrbbPJuts9kjGuU/Lid36WA+GC4qX1Tr8GI5GC7S4Xzn0VU+ntyP7OfG029oOn04O/tiTOD7kXXoeaHnR64bWDf2HQRxGDWj+DgdzsfZA8pm607SdV0TxWGjESittFbG1NH7whh/TWeTEj7pdKFG6o7yfd9zPcYYpRRjXHtLCCFKWX9wXcHtpEdQjTMmhJBSkkIF/F5lQugLnCQ9TbiRijGOMaZWhJCD4E7Ss81QW5Ngq7/MvA8/JqfnnueGUSGtFAAIKcrx/l25nXQ5wnWlgyDQWv9X5SIwe1Q2XKxFYpQyyuhzAJQQ9NzLK/ik/Ukpp9VqGWNc1xhjAKDgGduFRwipvQm3ky5CiHMupAQhhCUPbTs5PddaF0UdrbkUqg4AjLED4R4AV0o5ABIEA0H3VM5fibHyCb26Z0YpAJRRVWlVj5SUIRKCd5NjQvqphSfZ9w8fP4dh1GweR1Hs+0EcH/l+0GiEUXwkpcM4cBAv5uA4up9e//klfwNPKWEc7RwQOQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;second challange first answer&quot;
        title=&quot;second challange first answer&quot;
        src=&quot;/static/38a301ef90cbe2dbf7dab526cde28084/f058b/second_challange_first_answer.png&quot;
        srcset=&quot;/static/38a301ef90cbe2dbf7dab526cde28084/c26ae/second_challange_first_answer.png 158w,
/static/38a301ef90cbe2dbf7dab526cde28084/6bdcf/second_challange_first_answer.png 315w,
/static/38a301ef90cbe2dbf7dab526cde28084/f058b/second_challange_first_answer.png 630w,
/static/38a301ef90cbe2dbf7dab526cde28084/40601/second_challange_first_answer.png 945w,
/static/38a301ef90cbe2dbf7dab526cde28084/60b3a/second_challange_first_answer.png 1179w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I yet again took the code and ran it on my machine.
…
It gave me an answer and I was hopeful!
I pasted it into the website and… Wrong answer!
No…
What now ? do I just run it again and hope for a better result ?&lt;/p&gt;
&lt;p&gt;That is not how I would have done it with a human programmer, let’s try the same here.
Advent Of Code gave me a hint that the answer was too low so I just told GPT chat the same thing.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.354430379746837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABXXAAAV1wEELLsZAAAAZElEQVQI133LUQrCQAyE4T2TldYmM8mCsEljwfvfRtAXRS18D8PA38CC3Q7Qd/uj9V5giIZqgAmmyHgNRShyXq6nyadz/9ZG3M1TkeRmVuYFJL2ecYLbUbys4yKxfnp/RFPw2wNZLTqrqlRnCwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;my comment&quot;
        title=&quot;my comment&quot;
        src=&quot;/static/2077c4b390229d530e49c51df0706913/f058b/my_comment.png&quot;
        srcset=&quot;/static/2077c4b390229d530e49c51df0706913/c26ae/my_comment.png 158w,
/static/2077c4b390229d530e49c51df0706913/6bdcf/my_comment.png 315w,
/static/2077c4b390229d530e49c51df0706913/f058b/my_comment.png 630w,
/static/2077c4b390229d530e49c51df0706913/40601/my_comment.png 945w,
/static/2077c4b390229d530e49c51df0706913/f680b/my_comment.png 1108w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAABXXAAAV1wEELLsZAAADXklEQVQ4y41VaXObSBCVmIsBBJKq5LWdPSQ7UjZVWTlftjaWq5JYggGBQNy6HJ3x/v+fsDWM7XhlO1ZX19AM9eh+3Y+hZC425nTluTPXn3v+3PFm7mjmjubD0WwoYn/ujhaev3D9+Si48YK55y8cd2oPJ6XBcmd920XjZZiuo2Qdxqs43ST5NkxWUbrhO8k6zrZJth16M4ERK3Pyknkd2VYaRMtxtAzCb+NoOY5X42gVxisRBOEyjFdRvPKCBc/sLzx/PrASk6WlAUttd8IfJ5s4XSfZNk63SbZL812cbdN8lxRpi8272zjdWHZagK3EGU4ns3+z6W0+vc0m3/3xjc9LWPFaeDm8ontfjkO+adkZB5ssZU7ujuaOO3VHc9ebWU7OnNyyM+ZkzMn7Ztw344EZ962kb8bXxa3J0h/gIFyOgpswXhds11ERCGfOpHD+Rmc4Hbozezi5A1t29uU6aHcu2p1uu93lK48veNzuvm13O50L4e1298OHvy8+fvqr+8/A4slLzJlcXtmqqmqaqmkapTLGWFXVcrlcesEQwn0zsuyMgz/1mKZqNcOo1+uGYVBKFUUBADwHLD8BXzEZYgqxbuj1eh1jJEkSAKBcLkuS9ErmyyumEqrJFCEEJAkhhDDmC7/g18EEIAwgQqj8yCRJelj5pQieAVeIohKKeUqes8iNZVlGCBFRBS8CQwifgm0ZEwwRLAwU9mKv/w/O+ag0TTd0o2rIsgwBEPUfOioZYl3VGo1GrVoT+Q8FX14xBCApSAqegqTg+SMuAsDregzuMblQBiGE62Cvz3edlh7Gvl82xuS4cXTyy3G1WlUUpfRT2wNbVKZ1VX9oePlle8K5xyBCqqpShSqK+jDqe/IEIih4C8HvgwGABVLRtAqEQLq3A7rdYzVu1aPGUb1Wx4WSRG+fHdi+whDibDEhCGMgSUJlh825x/SKYRhGtaLrmNKKju9lfJBIqKKIM0TGRHwAhTzEl4IJIWLl4oUQY/JoVJcWpbKiUEIwABLmDABCkBD8SmbLzj5/9ZutTqvVOTt/32x2zs7+bLY6zda78/P3b35tnZw2T99wPznlfnzyx2+/v707AAdWwpwJ/11kuzjdhckm4s5/EWHMN9P8tni0TfNbf7y0h1PHnYmj9z+QQACzkPGlzwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;second part correction&quot;
        title=&quot;second part correction&quot;
        src=&quot;/static/59da81cbf7f9ba139fee1bd8fd3b9495/f058b/second_part_correction.png&quot;
        srcset=&quot;/static/59da81cbf7f9ba139fee1bd8fd3b9495/c26ae/second_part_correction.png 158w,
/static/59da81cbf7f9ba139fee1bd8fd3b9495/6bdcf/second_part_correction.png 315w,
/static/59da81cbf7f9ba139fee1bd8fd3b9495/f058b/second_part_correction.png 630w,
/static/59da81cbf7f9ba139fee1bd8fd3b9495/40601/second_part_correction.png 945w,
/static/59da81cbf7f9ba139fee1bd8fd3b9495/6d74e/second_part_correction.png 1085w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is pretty mindblowing, now only does the new solution work, but it also tells me
what was wrong with the other one!&lt;/p&gt;
&lt;p&gt;I have not even understood the challenge myself, since I have not even read it.
But GPT3 chat was able to use my prompt to ‘reason about’ the previous answer and how to fix it.&lt;/p&gt;
&lt;p&gt;Amazing.&lt;/p&gt;
&lt;p&gt;Day one complete! See you tomorrow!&lt;/p&gt;
&lt;h2 id=&quot;day-2&quot; style=&quot;position:relative;&quot;&gt;Day 2&lt;a href=&quot;#day-2&quot; aria-label=&quot;day 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Results:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Challenge_1: 20 minutes&lt;/li&gt;
&lt;li&gt;Challenge_2: hours&lt;/li&gt;
&lt;li&gt;Tries: 30+&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://adventofcode.com/2022/day/2&quot;&gt;Question&lt;/a&gt;, &lt;a href=&quot;https://adventofcode.com/2022/day/2/input&quot;&gt;Input&lt;/a&gt;, Ai used:&lt;a href=&quot;https://chat.openai.com/chat&quot;&gt;GPTchat&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Today it was certainly not faster to use the AI than to code oneself.
It was hard to use the challenge text as is, I tried a few times.&lt;/p&gt;
&lt;p&gt;I did have more success when telling the AI it was a story about a programmer
that got challenged by some elves.
The main issue seems to have been mixing up what is actually supposed to be calculated.&lt;/p&gt;
&lt;p&gt;At first, I didn’t want to understand the question myself, but it was hard to tell it what
to do without actually reading the text and understanding the challenge myself.&lt;/p&gt;
&lt;p&gt;The mistakes the AI did, was to calculate the score for both players, and also
reversing how the scores were calculated.&lt;/p&gt;
&lt;p&gt;When you have an ongoing conversation with ChatGPT, it seems it loses its memory after a few prompts, so I ended up restarting and reading the question myself. Then I only wrote down the relevant details of the challenge and skipped all the elf stuff.&lt;/p&gt;
&lt;p&gt;I still was a bit too loose and ended up having to do one last correction as you can see in the images or GIF below.&lt;/p&gt;
&lt;h3 id=&quot;day-2-challenge-1&quot; style=&quot;position:relative;&quot;&gt;Day 2: Challenge 1&lt;a href=&quot;#day-2-challenge-1&quot; aria-label=&quot;day 2 challenge 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/2d44ae837062bb7f990e1483bbaf86d9/day_2.gif&quot; alt=&quot;&quot;&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABXXAAAV1wEELLsZAAABhElEQVQoz42S647bIBCF80bt2saJARtmwFyMwc46TrVN3/85Ksx2W1UbtdL5MUJ8nJnhnBoCqGbKzCHbUcOYLfUvuY6auhF1I4sagueLbgicSItKzXq8LusjLd9jelvWHzG9pfUxTXsI9yncnb8JOUuIqBJgosy2Z5XhhsCXr3wQYZrvzu/e787vxr72g3+phoZAEWmxPasi0uLhf8B1IymzAFGppNQCmACjhAgqsd6Ve5/qDxjTOF71eMXjCVQJ1cL/B2bclamEDBJmIUP2hwgQKbPP+AxXtRhEcP42musU7t7fUKUyJ2nxme1vWMi4rA/rthC++Wk3bvvA/t12R40QATC3PYiJMlPOi/mzFt5h3ns/7dZtzu/ObaXw067H9dj8LGEmLb5UQ1WLqhZ/wU7rFTBvGPNvRVSL0ms/TIw7xizrXT94Pnjee8btO1w3sqoF7711G2Ds6EiZ6aih1By1ZdxRahi3BcuBzWnNOT2dL/rQ2FFzvugjQ/ojTDlPn6lQPwEepb/AFKd6zgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;my prompt&quot;
        title=&quot;my prompt&quot;
        src=&quot;/static/1104bc4b381d18f4ac9aa3c818fdae40/f058b/my_prompt.png&quot;
        srcset=&quot;/static/1104bc4b381d18f4ac9aa3c818fdae40/c26ae/my_prompt.png 158w,
/static/1104bc4b381d18f4ac9aa3c818fdae40/6bdcf/my_prompt.png 315w,
/static/1104bc4b381d18f4ac9aa3c818fdae40/f058b/my_prompt.png 630w,
/static/1104bc4b381d18f4ac9aa3c818fdae40/40601/my_prompt.png 945w,
/static/1104bc4b381d18f4ac9aa3c818fdae40/7a1fb/my_prompt.png 1030w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 160.126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAABXXAAAV1wEELLsZAAADFklEQVQ4y5WV2W/bRhCH95i9uUtSkmEJaJ08NHmJzodYtoWiQEVSjOQLlqxYh5XjqVXy/z8XJGVbTa1YHQ6GQ2I//na4Qy7q92+i+6/JZDUazobn8/PL5ehyMTyfZcnFYnSxOL9axultlEwK78fjKJmkw1k8uEX9/k3//ms0XqaDaTq8S0d3Wfzw8TF+GM3i5DaKJ1E8SdLpIJ0mg9sknWZwlEwG0aR7/Odh9ddq9VWtelQ9/CXPjx69VntV+NHRb69fv33ztlHoo348ToezRvsMOLNWgNVcSUQIes4wxggha4Mo2YKb7TMCVGuljbHWMWAEk8wwzpKHvIB9v1TUX8B37U5PCsG5YFJQxpgUQikmBCjJBBdaSZ1dYgCEkHPhjzDzNGiJgGJKEWSe6XDAhGQ5UEQJ5iyD/X/DrU5PKmWt1UIyAME4UNhV8zPKUgqtNAdGHqwY+jLc6vSAc6W0NoYBUEo54wxgHzh720yIsFTy/cA56xmPM7an8qzVPsMYSyU558YYbTSllAEwxiA3xhiltHjEf5Rbp8DAOecHge/7WcWUEpobeTyTHXD7FIAa4znne8agHbZz2ogQ55zUimrlgtBayz2TterLcOcsX/0gLIXGWqWMEAI4z7pq67XtVkbIWOecAyVAKGMMEZwA3VfZ98NyuWys5VIppYUQ/0M5KJXLlbJyHtfac04bDUaRrc/zZ7D1/TAMA+dDDuCHb3CvaSulrbXGeJzzx/bYb6kQMdb3rKeUApodhcFWe/xMmQpFAYr2orChIb/zkjJGjPN88KaZt/v5RRhXKhU/DIRngDzZnjWj8sFhrVbTof+D4H7rXK5UDg6kszT/V+0Nd3oIIc6YkkoAy/99eH/lU8kxKJn1s+REcCw5YgTRZ2q2LtjAUTKJB9Pf/xg1m8f11km91X2I3Xr7pNE6qTeOG81uERvN7rv6+3an9wT34/HoYjFbrper7/PlenG/ni8zny3+yuN6fr9erL7l+d/L1ffr8ZfNXlXA6fDj1c3q8np1dZ3F65tPefw8vJhH+bh4sNll48FT/g+3reHsRfDW9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;first answer&quot;
        title=&quot;first answer&quot;
        src=&quot;/static/9bb6a19e442ce9326847609e60898a2f/f058b/first_answer.png&quot;
        srcset=&quot;/static/9bb6a19e442ce9326847609e60898a2f/c26ae/first_answer.png 158w,
/static/9bb6a19e442ce9326847609e60898a2f/6bdcf/first_answer.png 315w,
/static/9bb6a19e442ce9326847609e60898a2f/f058b/first_answer.png 630w,
/static/9bb6a19e442ce9326847609e60898a2f/40601/first_answer.png 945w,
/static/9bb6a19e442ce9326847609e60898a2f/0d1a4/first_answer.png 1036w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 183.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAIAAADNzV5SAAAACXBIWXMAABXXAAAV1wEELLsZAAADzklEQVRIx5VVWXPiRhCW5tBcGh0YhHElm9rkD2SzvgBB1gYJxCUQMphgbLOVSrbylMr/f0g0wmtj4zVpfaVqjfRNH+ru0aq14OKyX/e7fiOq+51caTQjvxEppXd61jo+uXiGs/Pg+ORCq9barfbgvBrU/U61FtbqodqiU69n90YzOjm9/Hj86RlOz1ofj3/V/Eavdt6tN3ob+FHdz5Sa0mt+VG/2/WbfbzyBWmk0+1qY3AT//D0cLkeT23FyP5nex5O70fh2nNyNk7vJdD1O7uLJbbaSvcrWB/GqN1h2omut1ZtdXN10e9dhNO8ohNE87G7Qib4qM6XP1OOsHabtMNXawTRoJadnrZ8/+B9+aTxBU+Gp0jivtmv1sFoPWkGiyGEadGfe4TtKCReCcI4NghCGEL0EQhgAIC3nojUOOlcZOezO3NIRp5hLTi0ppNR1Xdspap1zc4tcLB4aGDPGTSk55whvBGGMEDKUIIR2kIPO1dF3PzApMKOAUWBgyCmiBqIECoYMA3GGGYWU6MTQwAvLhQNP0zUAoXLtNae1VywfvbMty7YdRmjmJzEAAOpr7fG+m9ydlbwKhMAwCIIQKIFK9krYQemIMGbZjmmaEEKMsWE8GH+LPHcLHmPMdV3btl3XZYztMLuLPM0SVvA0TUMIAQAIIQih3H6u5PrX7Z6R565bktIsFouVSsWybRX0Q9xK8n1fIRc8jLEQQkpJDEPTNAD07NrD7blbKOkQStOElCDKLMumnCHOIEJ7kTVNN20XEwNTyhinlGJKsGE8jXY3uVAoaQA5hQPKOeCMS8u2LcRZXtuP/+wb2SZMINV8QGUoV6Aqm30sFwmjQFDMuesWmBBIMKx6+E0yFLbLKGWU6nm2AQC6DiB47JRvuC1NU2b9LLKRkVfIntnWIbZsRwhBSdYe8KG23i5PV1m2LNs0TU4ZRjk9k63u/la2CVF/dZPlvDffdttxS5jQymGFOzYVm5i3yuONCgOwVCxJ18GM7T+GHsgQeeWy7TiGKf7f6M1iVpZt1yFC5P20wZZkKRBCbs2wgwNP1zUd5pWRpUt/OYMeRiHj5qfLx+k5+/H9T4ViwfLKVrEkvbJV8iyvLL2yXfQs6ViWKy3XUjBNu3z4/WVrsiG3w7Q3/G04XsXj1Wi8Go6Wg9EyVo/xODtch/EqntwO45t4cjsYLfNTbnPQtcM0ST8vV39dL/9cLL8sll9miz+u5r8n6XoyXU+m90m6TtLPk+k6SdfDeNUK0i1yJ5r3Botu77rbu476i6i/aIfpZTt5iVYwzSn/kf8F8EAXIkHmEl0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;second answer&quot;
        title=&quot;second answer&quot;
        src=&quot;/static/6551879c1eac1576c63373eccd0b6121/f058b/second_answer.png&quot;
        srcset=&quot;/static/6551879c1eac1576c63373eccd0b6121/c26ae/second_answer.png 158w,
/static/6551879c1eac1576c63373eccd0b6121/6bdcf/second_answer.png 315w,
/static/6551879c1eac1576c63373eccd0b6121/f058b/second_answer.png 630w,
/static/6551879c1eac1576c63373eccd0b6121/136a2/second_answer.png 884w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;day-2-challenge-2&quot; style=&quot;position:relative;&quot;&gt;Day 2: Challenge 2&lt;a href=&quot;#day-2-challenge-2&quot; aria-label=&quot;day 2 challenge 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I started with wishful thinking just adding the new requirements as is.
that did not produce the correct results.&lt;/p&gt;
&lt;p&gt;I then realized that I could use chatGTP to first summarize the challenge to only pick out the relevant details.
I would then give it the solution for the first part and tell it to change it to incorporate the new requirements.&lt;/p&gt;
&lt;p&gt;It became apparent that I probably would have to understand the problem myself so I could correct ChatGPT by either suggesting or expanding/contracting the original list of requirements.&lt;/p&gt;
&lt;p&gt;Like with any tool one need’s to practice to learn what works and what does not.&lt;/p&gt;
&lt;p&gt;So first summarize the new requirements.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 128.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAABXXAAAV1wEELLsZAAADLElEQVQ4y2VT17LjKhD0N62VMyIrg0AOOj5Ou0/7/++3AIfrs1VdUyNET08PsPGDOs1onJA0o2lGk5QkJtI0Y1GM/aD+F2GEghD6Qb3ZehXnoiwbUA+g7suqK0FXgQ7UQ5oxP6iD8MHxfPAk4yCEng82ng9+bcskpQhPmAiMBaEzwgLiibKZUMm4wkQgLJBdwUSEEdx61Ztcga5pF4hGx4doQtgAoqmGg6llf0E01nBIUvomb70qzVhZtXGC4wQ7wyambgpmEOlzEElKPB84PMhl1Y3TOozHttszrhhXlEnONaUzZTPjmphE8WbBRDjZB9nzQRDCvOB50SQZc+Ve0feB9/z0A/Aa3ls5ToizR6iE6DEqNy2XYDLZaGwnKfnwnOUc1EMFendgFehqaGZTAXNyNRrKqnVIbWsfylnOu37vbA/joev3cj7xRtsjmFyhGo4ITXnBPzxvvSqKcVl1RWkKByEMQhhGKIxQFOMoxjZxeFyPD3KaMYgmc72qtoa286otyjYvmrzgRdladHnRxAneev+QKZufF2OsQB8nJIrNsUcxcfpxQpKURjH+qZwXDW80Y7Pz2TSaceVyk3DVD4emXUBtir7Jfgh9DwTmAcAgREGI3KN5wQ/g85dzW/uBeVJ+CDcQSShXyBdCNWGLA+U71uwo31EbzSJ/rCOiEFGYaojnDYKy/vsXyVWKs9S3SV7EfGn7Y9Otbb92wyN2w5eDq87bAyJqg4iCtcBEz/qmdneprmq5i/k6yfMwnSjfYaprJCGeXXTKLrFkoghbxHwR6mqVr1IZjOKbt3vCdo72guM/yMiSZ33Ty2+pbibZ/5n1bdZ3U3G+qOXeDSvvDrw9tP2RMP1BxnSZ5Fmqm919teI3a35tjP9j0x9N3h27YSVsQfj/ylTL+TrruxW/quX3sv+jlvsovvvhqx9Pbb/2o5vZin8oE6YneZ7kZZLnUXyP4uwadrvdzNveyPbjifDlJ3nWN6mupj27tR9PpsnRyHbD10sfU43pU9l9UL4Ttm2pTBQ2quWuHi7uUt3sLO+TvLBm7+7JpgSDQ1H1edXn5RtFZfAjee0vwfAfoY6wm5c89XkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bullet&quot;
        title=&quot;bullet&quot;
        src=&quot;/static/ac4f361a7bbb91a393f4e8491eb994d6/f058b/bullet.png&quot;
        srcset=&quot;/static/ac4f361a7bbb91a393f4e8491eb994d6/c26ae/bullet.png 158w,
/static/ac4f361a7bbb91a393f4e8491eb994d6/6bdcf/bullet.png 315w,
/static/ac4f361a7bbb91a393f4e8491eb994d6/f058b/bullet.png 630w,
/static/ac4f361a7bbb91a393f4e8491eb994d6/40601/bullet.png 945w,
/static/ac4f361a7bbb91a393f4e8491eb994d6/20f89/bullet.png 1213w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then I cut them down a bit and made them much more specific before starting the dance
with the AI.&lt;/p&gt;
&lt;p&gt;At one point I asked GPT to create some functions to make it easier for me to point out where the changes should go and to hopefully get GPT to only change that part.
Since i had run into scenarios where it changes more than i like, aka fix one part and break the next.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 2478.481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAHwCAYAAACmK08tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAgAElEQVR42t1dZ5MbSXJt7x2AMSSHXNq99fRmvAHGz3As3Xpz36SQQqE7RZx+fSpeVlWjYRroBrChkz5UdMMlqqrL5MuXmaWdnX2gra1j2tw6oe2dt7S1fcrXnfZbevlqh1683OZr1aKtrO7R8soera0f0uraAZc3y7v06nW7koD+P9SePd+k9Y0jOr/4kd6efU8Xlz/R/sEVC33+Yot/UFaGCdZwg9psbKLZx9TZveDmv37TyQs+77+i4LfqT5VQFriyuk/7+1e00z7j2rU753RweM33uB4evaO9/cv8/uj4Pd9v75zSxsYR/0lPDVnggRDY7pzxg+nsnnOtX79pc7/iR+hrXPF9dAn3/dpBXlsWiCrjgeCfDw6uWdD6xiG/hx/gS6pZ/dehTX7+Ypt/fHzygZuCpm1tnXA/orYoxRqMe9rcZDQDwk7ffhI1PbzmcQihqhbDSrFm+bBRL1BL9Bmai1rhKsbnAfcZ+rF4RRk6DtUbqBkKmo6xqIRijKKgtuv8p0fyj4+GdkUuEE8YU25394IfzPKKGNjqoTx9tkGYBJWbjIeBPjw5+chXzJqzs+/5HgU1Uk995NRTNYDAk9OPPAZxjybv7qnrBQ9iCB23YGjqC2gmnrSaLZiCalziDzAt8eAqC8R02z+45g4X/Xma9ytqjWGEJo8bjwWBZ/yE8WPVVNQMzcWf4b2t7ZPqNcTigM5HE4+PP/AwwVhDM1dW9ggzquxBDBWImhwdiVWEp9/2KY9DdAEGc7+gMqE9fYiHghpC+M7OWxYm1smTnv6rVEM15fghbJ3kW4KabsU1b+RD6Q7sK7naXHGTIRDNRg3xxDFzKglUNYQQzA41pzFPi1Ot2NxKTUbtrq5/4dmCKYd+U3O5ytPtEYgCAaglHgr6EU1GLftrOG6R5S0AS5JaXA8PxSaEe9QWUw4DGnvIqC11YBvFD7pbZTt/D8NFbU74gdpClSIg7vtqiObxFnkolv8DWUtMNzXQ1fxGQY3xGvMb3YP31LDiGqIGakaoFRoFf4QmY4yWPZz+ZrNANE3VROx059yvm3KAq7EoFKlT/pPt7VP+HLVEjTFO0fy8hmfnP9Dl1c90dfUz6zloLtZFLBRoPu6V1qDGqmjFAQkZ4hnkMwWLKZ40ljAU3g5OP7Lwi8sf83t8hu9i7VS7X3Fo5fsymqyGDn6k9mcUpcscHr2XC+4Jd0Pxiu7IawgdETXAD1QtxRM85RoUh4rQcXbzIYWrKj3jEJ2PN5UCqppT3HvHDWxuMn/xVVER2u5RP5QwtYWOmiXiKT/bopcj/lH9wbh5LFq3T1rn3/+N9t7/QqenP9DJ2Y90dvFzXo5Pv6ezy1/o9OxH6uxeUbu0XNJO55KvWvvH36nz9hPt7b2jvYP3XPYPP3BR97gOFdS5ot39d+I7++/4XtvvXNObNx26cfMzurX0gJaW7nO5cfNuXm6i3LrXU27hevMu3b7zkB4+/Iru3v2cnj5bI+3g+BM9wY1hUOCZZHgO6Y5Fmq6Tpmm1yr37X5J2cKQEmtTMYvKikBpzcxTFCWlaFaE66brB9w8efi0EPn2+RrqmkWM75DgOea5Ljm2TrYrjkGVZ+WsXnzsOGYYQpFqTC3z2fJ3CJKYgS8j0XNJ9lwzbIiPwyHQdMm2b9MAjw7HJdBwyQ59M2+LvaY5Nhmn21RBNxj85du1+U80uCPzINQx8j7I0oygMucloIpqWN6tC6WmybVvk+z73ncEd3Vtq1BAPZZ37KYxiipOEfN/jGqpa4lpLIIaNbhjUaDQpTTOK44iiKCLP8/ip1uxDOQ41LReAIQGBSlh/8we7oV/g01V+I44TCoKAEm62n487/AGaru7VWOw+sCECdV2jZhNNTmlxcZEF1h0+Q5uczxRZE5TiLFG1LH6uajowsOMk5RoakU+G/GKVovdPPSUwShu0OD9PRhqRFniTN1kJ9MOIMtQQczTyeUmbYOp1BYZxSvNzc6RDmGeTZujTCbRMk9c27htdH9pPFQWKcdhotijLUnKSiFzUdn6BQgzwNCIn9MmQf1a5hqbtku16/CPTssg0zXxOm1b3vrJAL86o0WjwImsEPvdpliRk+B6ZnkOmUbeGjkuO55NpGmTZooY8eLmG4rUpV+d6NXQdHty2H/IKFIQBmXEg/qReDT2uoWWZXCu1qoinbkxSw5TSrMGrDZ6umsPqWnscup5HcRRRGIbk2g6PxWrbQFkNQ7EeYtXxCusfatizD1cViA2Km4saOg7p2oRTT62HAbZQzyNLrndqpVZrX+0mq/XQjkKyoC0U9pOJFoc4a9KdpSVKWk3y42hSzaGwHkYJzbVarIFZgVehZmMEBlFMiwsLFCUxOYE/RQ2fr/OuZ8k5i3XRkvPYGDozKug2oauTm4RkRgGZWF2igKzAJyMOSPOFiqemneiKbnd0N6lvSOvsXdNO54KWV2FSOaCVNVkK96trh92y3i1rDB6PaGPrhLZ23lJn7woCz/lFu3NBu3sCInRkaefXC/7TtrzHd1HWN09ofQN4D+WUhWsH+2e0urrHkKxrb93ne1xRVuTn4rV4H/YwmGFQYP1UEE97s3lEKxtHvc0aUpZX92l5pVCABQvdgdqtbRyT1vnvv9PBD3/QxdnPjJour3+ny3e/8/Xt+c909e53Or/8lfYOPvSV93nZlaCHgc/u4Xvaap/T6zcKpu6JsjLkWigK2uLBwKQAvLy1c0baweFHevFyk3w/pDBKKYoSCoOYPC8gzw/5/bLCnwcRhVFCruvRF18+7a42huPSXCMgN4spaGbkhWFt3eb+g696ly/o1gA5cRTzMlZVkD4M+PieJ1AAhKK4DrlRSG7gkwttNvTJ8Ty+95OIPN/n3VEzDdbPBxYHrC5QQXTLJA0FX8JV/QCAEvemQRpQlCGu+I5epnDa2Efk4mAaYis1aqDSniYDQWGTx9U2xZ4MfWaK5Usnx3HzXc6yuqpIbeADgZbjUpJmvNEHWLYMo8L2OQanYAvFvoxtNMsyfupmpQW2bF+WzYUQhapYV5R6otJt1OvunjMU+Og0NzfHNbtx4wZDs6IgCC8Kw+uRAhlWRBE3GU8bmsPUsAKjH00F1MWYjKJYYD7fyzWIfo2i+NAGBOIJt5pN3pj0OKIgjPiHOkwvEgmMQqaDNYwSFggjheY5ZDk+hUFAOqaYa9dvcphkND8/z1uo5juk2Q4FkUD4LNAV+k51VSSMqZFlZKCGjk2W7YiHIxeJ+tAsbdICagjw6Lnk+iHPbTa/uPYkGqwEj0CigctKPJ6yYck+rKvBRlmTbiwukpmEAo1yH8bkoQ89Z4SBrQw8WmJGaJY5jWWpCx6x2mBhsAMM5iBfIKA0Wa4zCazwxV7h2OS4Hk9Dx3XIknuMsjFUFxg3eLbACqfjKQcR4xYDUA1WuFJ9u6wPHZdraEmbIaYd4xVlAakLb/MaYlcLXDIcj5EBEBbbD02jZg1tR/Qh1jvUCjYcT6w0E/dhjCcdBOR7fo/dy5gE62HesmUujlmg2vEmRqNelFIYBtxsGHjNEgtSZYG2NPNhMHuOS5bZ3Z9xrY1G8QCiMKIAAl23Z5cbvTeXLQ6x2EMMz837rlhqC8xa83Tn9m2K5prkhsH04NELQmo2GuSFAdkYzNMKjBstrmHSbJCbxlOg0efruTGN+QCMP8MkE7Yu2LQxwHMiYUjJ9+VvlI69Sq6pkRU4pLnQSg029+m49yzSDE2UMTW9e+8vwnQPIHj//l/o/qOv6d7Dr+jeg6+6V7z36Gv+DFo+OJP7D77kqypoKt4Di6ttbJ3SdvuCOnvvuOzuSVQk7zu717S7d52/xmf8vf0uito//EiHx98LJHV28ZG2d4oM4okgUyXt22GUdJITq+p91OZ5zuFv5vS79ubFNr0uJaJ7Gcd+X7CXr7rfz2m4rX/9F2pf/0hHqPbJJ6bejk9/4Cv6F9fD409Msw2WC+6u4nta55e/0t75D3R4+JEFHJ18n5eDQzC5EPiR+5LL3jVTcOgvfB9/VkSk2l77mpaXd5lWW7r9iG4vPaDbSw9pCdfbD0W585DufPZ5Xm7feUT37n1Bn3/+Ld2//yV9+91rhrz4s5yGg7qRhA7ZMETCZlPDGjI/f4ufMtjJUhouZBquGmhcvHFHCNy76k49w9Dz7VIYz9RGZXPB1mr10XAKcgwVyIsq1kJs6rDRAFJIGg5qCHRG23N5W+hfdEtqaPDiio3KkRDCKVAbo8rijdu9ApmGC3w29aGmbAnWtcqQbGgNsQRBQ/A8PzdAjgePJQKfPFtnQibJAB4z1rrUXsywYsz2OSgwJ7nEJqXQFHbBKqv2QB/2g0dc2f5QYG2dPga3iKCG1hDjcGFhgZkzgEg0tUe36UNSRU1iSB9KC6e0YY9H8P0zZUiTYeFUPGiRHHSkWucMKaoVw/tQ15lGh24DoONEMYUgCx1rLCoYHIcFoy6jUQAfGHw8oXxqtjlm2JQ85TBtMGsGNKpDHY4TtrozaDSNGjMlh2Yxjz+uoeNSGEZMyqALdMusLxDMI8CjAWjmehQGIVkAjk7NqddTQ8BbMI+uS74fCOuSXfZgxggEvF1cXCArgokgZj7K8Vy2Yw9nIccIBDQDclJQlldkDN66i0OO6NX87bN/qWv9hyIHtgk0GkTcZD/whRlfLv+9i+4YgU4Qsd0BDwIuHI7riumoNqkBGm6cQD+kJI4FUQgTahgLNAoa0+ky4pUF2kFMftStIXY+xdvz64G+HFvDgFdtQ26hludTkqYCUIb+EPAzTiB4vThh0MM0nFxI1cMwa/ehHIfKStc/dGoPG5ilYOVEsxma9YHH2gLBfisXjmJRq/ig0HFTz3V4+cLQ8UGt921KNTb6rkGSbasFs2jRjaN2k5tzC3Tz5k0KWw3yAr+HyhxlvChvchAxeAQSxdytivFKBSbNOfrszh0Gj16W5BhuYoEw3cfSRGBb9hQq8bM1sk1NaKjsOGaR6dpkezBRWawrcikRvLCw1Ku0v3i1RWnkU9xskA+LXJKSnzXEFVoY3oMyGkY5V+X5AfNStu3Qnc8eEeQwrNhuCwS0sYVoj2EF2A4Y75y224MFTNnu/rUASkcfSTs8uqIN9mg+ZY5T+Aa/le6pb9lnGO+DihMk4d5AeVPwNtXandM8JuDy6ie6vv6FvXWv3/3CUSDwIkcABwDjuKikFy+3SHvy3Sq9ACJ90879W3t9W7dz7hM/6C1dj1Tlbq2tnlzRGgdiHDO3iev65nH+mplZdlI+Giwbgg/F/fqm+K6291//SYc//EGXF7/S+dWvdPXuD7p6/wdfzy5+oev3f/D7A9yodBYFAhVXca9h7OBpPh8IZtkqj9p6JVyuVQgPWiNMB9cK+GyQDW0LdsMgZDLQsoBTrEIx+4rFYxC6OaCxGIeF5Uu3bGokHus1XhqT61c3VS0slimc7B3psfmejWpFzypp5VSbVXFbGJjLwHqOI1CTJU3MzPrAfu25rIHBlo1rZXiL5Z+RExYGLBLY7XyPdEsuDo5VohaXoFEIZP9DaGCm2NDZzWiS9VA1OZTuMSBaVT+ZparcGHhrWDb728AxVCHQIp9XH42yh2SLQTg2+0zC3Crm5lKcUmQXq2C+cvBY8OFE7VqtluBVCvty0QNVvTbKho0C4Ggm9Bo0tQ7jU77r2U6Pqb7o+NnvEKpKaR+i33ypwkEVEVNttDNod6aUmQi8gH1gYa4SLNmUTcYwSBtNgZlBuLpORc2hpIaG5VBrbp7iNCEt9Co4hY5TOP2QDRjsUeXa0ytL+AJqmGSpYB7HEobjBOomZY0mxUksmuw7UzY5iNiRDOQCO9aaU6pzsHKiySH85mJfMN/TNhnDJuGn7E//lLF6uEpBLzTX0CYE4GAd2Zc9DBjqYvWBy6odh7xhFZesytDMC4KcvVUIHzvfcOaxAngEF2qwG4LD+BkcvQ67jS03LL3OsPECdvK2pCcGXK94YXWdLoNbp4ZuCPAoasgRINJc5SIiBGzuAHs7toZhbnNArZjNBaJnu8MkfRjE/JTBPvpsfx3H3o7Dy0HAG1Sj2aAoCHPGewIAvpovX7Y9qAuq5X4QQFawLKGG2OyH1bA2AFfonTch06jA3o7Dy62WgLepcMazCk7yExkxMGRgkAzThMnWqbeAuDFHS7duUZAmwjFPn3L5Yjq42SQ/DFkFnryGkr2FXsjQAuyP7TAIN0eg+hEAXLC3JjYlR7K3rjTmQoOAHdsu3wHnF24xTgHfpwFWbW6f0pMnr+nx0xX6FuXJsrjK8t2zVVGeLNN3j2V5siy+//gNQ9zj0x9ZqLaNmNr2OcMqZmn3rzmYjwP69q7zK5qzK+93mX1E4PkZbe2c8xUsMMC6dnyM1BWnHBt6dPRORrBey7jRK45nVvGjwNT8+eE1Y2wRdH5Em5siC4CIDn65zR8gahU/EglLRGQ/QmFfvNwZYG5fL3dytna54GQrcmI8WeeoTBU7K4B3Jw/OVQ7IwzJOiPfF5xwKurxH2sbFR9rkbAjoS9GfO8pIsXPGbtI7HC18Kt2kS4rqw87f/4P2P/1GZ29/Ymfki6tf6eLqNzq/+o1Oz37ie7w/6JwsQPh+AYgDhGu77Sva2Dihb7/DcFjh8u3jZflavPf48Qor9qo8frLKTV1ZRfe0uS+7APz4Ez19scHhOBkcQy2bUrZyCmsnL13AfryE9RaAcAxshHuCuB6Yy1nWpDRrkpWmZIVCc8D2yZrYCMVpsQyAW37ELoM6li7we65PAd+bQ6HtSGMaLw5RRmlrkYwg4jmMfRn8ALbU4b5zY3XsiIIkI8sPGNVrusFaBC//k3BSbpxRlLWYSnKdqSycYhs1vJA0y2HFs45bTOkCaxtgvT1yLKF2WGMdk8vgLRPWFrUQFwXPKpgLgkDw9iM3qzF9aLk+NeYXyAY0853ZAB83SplT0RKhaE4lEE6gUdokF04TwQzs2JYntC/GenD3nUWTvaRJfpox8NGmBT66aXEfOmEksN60fYipB19iF0aMkY60lbGeQUHSIBdPGU02p4a3BiMBP05IR5P1qbEerB1WDeedEXPZcj2aa4TkZSJaHZrYxPSHopAigEbXZXLQr2GDHW6QhN+CAjkMemwZSuLx+7Y0mToFV9aRJlOHEagr9g/YYWFhwmxBgD6MGZ4M0B/iHF9i4XQ4Qj3wA453xL+j1oZuTN5kEZrospBqcfQjTaYWW9kR3ukWnEJHx9GPeMoYeyI6uJHbEBW3XNv29URuUkUrJoSOC8of62+jvHRVnErR8DjUZGqYo2ywem6DRamTJaG0huxIJh9Cf5BLEfMVTaglfbjGMcuqWYo8KIaMDPIpXVA+KFA6Qak+jGRAb/H1KNxXjvXkxq7m6lhnKH2MyRQmFsBbWDnxgPoN5PUpdelFwCYqawYmU5cD//zS/A1OweGx2B0jDZKaadX2wx4xU2KRYMPtdRZTtatvIkhS9llyYhG/PL3NAfHLt29TOlc1fnmcVUTFL4cikHdqIwYWWAjEIutUMLOMxCkG4pflhgQYxtkR4AVUITxHUZltRfo/f7lBSWDzBu8gujoKyYHtJkYuh4QsGHXxHqIZLDsvIFsh8NbSfVnDa9IgFaT/eo6HTwvYWFw3NwUWVphYXTe33/I9fg/wyKT/3sEFE/wiJlmAbxTEKW+3z/JY5R35Ge47u93vqu/AaQBOAdpu+4Tjl1Wc8jLnoFKpzXY5TlnFLy+vqDjmA1pdlXHNMg0Vfs/Jr5Z3z2gNLgnMzZ/knDyuinfH+6Wxzevd+GXm6Dv/+Ntg/PJ1N34Zsczg6ovxysPKrjQTaDDqoHPLLB8iJ91xnkets3c9sohh82KDTQIqYU7GSSIyjuyybSwOPpsDMN5Qm7ECFRpFOEmjNc8eQSC6MGvMQjRhozHXI7AYqp07yfc41kYxRUnGHkE6A0jBNzO8MMCdLtQTGKcNaswtUJjGDB5Zi4BKItfCygKfPl1j+6CjPIHA9Bh6rn0pTbV2DYM4pbi1wL6wwwJRawuElynWRDSzd0/WazY5z1UFpsxl+/WwhbS6QOAU0xAbkuezaWBYco1aNcSm1Jpf4CDKOEvZ9NyvwdZuMuAtbDYm3Kb9Ir88YR+CnYizFgVJSnpWtDlM+lAQrOaFpNvOUIfk2sOGAw0ipEXyhxrCawvkbXR+gTzYbQJ3wIhRu8kgsvw4FWaW0BsgrGsLxOwIYSJARHAk422nqqFlk+74QqWzpurDbgIxENZuJCyc/fxy/YFtGLzAOrLJ+rR9iIGdNOYoaDRIS4IBq8gEU88mww3YQjxVH3ZtXxrpFswEtojb6zPkVhT4kZ692GC0lKQNXmkCzkMgkxfo3XSEzdbigMB+wTk0gxEjabY4JU063+Llq7/JSdqssi9/ZLbm7r0v6OGjr+nhg685huzRo284UlAVRA5+wzFl7weaifcgB8yFiCjcOe9JNilC5cR999/f8Ws4gRYdRMFJ4fu7MkpOOzsXaUZV+lZwUIcyRzunWpcJZFFUEvNlTs281Zevc4tevNgiDfQRvvz+w+/sBKpymaqEqFAuwVn1/7g/I3Ce9Vck6T3mXLAq26qqHZLmoDZ5BmWZRZkTSK/ul6cEx4cIllTZaEVG+fM8aBL37fZZHlC5wbTbwUBaXEHDPd+U/pgihy5nnN444iJy7B7mmWlV5nO4sRb9PJXbqlCJ1w5kup6u1+2AF65KmrOs3u9L7wM9W3aF1v7H32i/RyX+Tab0+S1Xic8vB1ViNUuKM4UHdufkI23vXgrNfv2IVjeOaaWglK9Lx9liwfsYvyplkuBWFWt28IH9WuOkSXNxg1pRRvOtBWq1ECY2T1GUUsypflKK44xLFGWUJA3KGnP8PmYRZkquEqsVuxFGlPghk/5uGLMDgI5V2zZGegeBXy6nkBpzpAdIW+FwQiEoThwnNcSMP5Y1g68IVBHTF5Z2ZMoLglAo7s4Ebgl2mFCYtUj3AqGoWzZ7/LFKByRQl4aDR5BizTx3BqyZFaZkugEZtjulpT2321ik2x4TXtPZbWDUNW1qOi6lpkWJ7bDirgJfpjJiMGMbVGF7KvrORdkcBxVoaTg9/YE+dELp3M0U0gw4Kd2NOIXKTDwkwTwKNBpW8D2sMrCx2izcYHfBaokNxgiEwgkUz742CPqb/qGYFDXmKWo0SWvENfxgyx4KXA0w9cB+2+ZsxqHhRRziya4IU/ehDFTTa+aBHUrQIEHOQisiv5myVQQuW9VpuDF8CmzZVdbDki1AJYsWodpu4Musbi65UcCBGyqrG1NyMvp6NA0HtkJmIMPuxv6a8IZ0JK3JO185xdnX5I95HD1MVQnSIDkynbXjVkqhMvShoIbMUPSkddQmp+GQH4gTe3KAgd9Dw5WTXeNM96DfwlC4ukkDxkSRC2rYqGANFMQIqMD8YrOHdcVYkksJ7k+l3v+6NILm8dNVJrngws9epsirWyOFRbknRp+vZjG6vx5r9myVk0GkMlhIsWaKI1W8VA1ebzXvQ/RdIJ0aeSpyLLg/WZNVLcrTBZeTC7lDI3Rj6Miv3rTZa6+ssJPeymABlAAvcHTyg3Bo5PNS2iIqMM9lunfF8Yu78orXAIyCVBiMOsT7SrnXjo4uaG1dQa4Dtv/Drs8HjEjAs8rnbu3kJzYhNq2nFHOZvl7d781TulooK4P5S4tFnW2xzBhQ8AHdXKbnXeBzpXKZXhRzmfYDn/fU6QPiHeYCJPDhhLJAmetH4l4WBjpcuuwEgBGYCQY+yHGzUwA++wA+L7cpkqCnGaYMfAB6Gs05CqF3Q5lHQbYtzriVUITE0mmTwjDm1DR53GhxYGdhTEkQCl4qjHhOi0Se44DPUomyBAgGWAE1GA7yQSiAD+dzmAT4wI2/uUAmfJYQg+t4PI/hIzIZ8AliTsEggI8lgI8fCJ7UmRD4wCcbHOlsgE8Qs1ekbjmzAT5snQMfYNqzAT4ZAI9hUozUNNEsgE8YUWtujuwgqAApKvp9hWmLPJidAXxm4zuXcC5JJhemdXUDCtXdUACfWTQZwAfMGQOfWYBHJ8qYhoO/zUzGoWE7TGOC8J+Jy2UOfJpN0rKoJGNMXeDjBVxTxilTh9cp4IOFYRZP2Sxk6Jge+HgBLTQj8gB8kH4hjGYNfLzpgA/cYth5LAc+DgMfpLcG4LGDusDHFN7hmL9d4GNPAnxkwm3fF8G8aO4sgI8lHcmQ2VL/pwU+cQH4qI6fGfCBAj818FFK+myAjyGAD6xzfwrw0QuJDSYCPrY8VQNNRZMV4FF4pQh8+lO6DnVoVH0IAUWBCgjVc7mUYe9IdCyWL51L5fyHC0uEwBkGPlC2QVS9fL3D4Kduwe+AUUTmk09IVHLG0UYK7AD4MOApgJ6Ba+Gev79/zTIYVhwfXdK6PLBBHdwg2B9xj7NuBdtzyPd89i2zQfvyjOGD/PvMSb1e6Qc5g4zPcoHxGSgyioshyIYEPpMwPj0MZIEBYuCz08f4FN2vREoVBX4qMD77kvHJgU+U0lxzXgCfRhf4RJL1iQrsT5a1+PNyxieKKYWfUppwsAHm9ZTAJ6EgbZIGwzhWFKTt8YSBfJhaUgH4pJQ258kMRLYEtmuDvHbsksCNisDHUMDHtDi5kEq39/8a+MyI8Wn83wA+mQQ+WTQbggYRNAwrZgJ8TAV87BkDH/jbzAr4NGcKfCyHczr8OcCnMSvg4xaAjzkL4IOnPDPgYxoVcrLXYHzmmyF5jVSe4zMN8JG6DSKQkIUHwby+NyXwgZYFPt7xC8AnHAQ+TlXgkx8xkTM9EvhYEvg4NYGPUtT5AFNHEDXu2ANtRkRyoYYiZ9+MgU9SOB1H5SieKPBKefexOvxnAR+VVausyZWBjzpetR/oFGmP/x3gI8LZZwx8ijhFxUmp81uHRXONNWIohseTR2pNxfioFLjFeL2Js0+rp8ypR2WCVNUFE+cyhfs50uxF0pCh9yXcrhA87nIAAARTSURBVL8vOx6bWvrD6fqpt/7UcSO3UZOjMrspv/uvwyI1R3KjnEXetoYemjtZttUbNyhoNZiXn0HwWkStRvNPyLbaav7TZlt1RBpmBGC5NlmeI/M6jM62qqBZHnj18tUWZXFAMXLb4OQ1ZFZt4JqRz+9lFGQZM2Q9pwAGEUfY9GVbFedObCBxy7iyoxxpC2dVtC84IUxPttUtzsVyJkrnXGZAORNZV+V1R73eecv+mm8Gsq0KZK91to9ptRBcpYjWYuAV+8Kudg+QBLGo8rIUc7Owl+nrkyta5UwxIvBqvSfwqhuAtbreRfXrKolqoXBcGnKzcHLU72Vy1MthyVH/yvlZ9mUelmEFeVq6B0e2rzjajXOuPFunx0/XOfeKKk+frXPp8smb9PT5BueJVfFpsEEMyc3iUdMLqOEKLwx4j8O7hfOKYMHglFPFvCwmx+xxbpZbd9lUNbDaJBEMFjHZccTJSiCYIwoda6SnWmlyVODlsDFHhh+y5z0WXCZbJ8/NknJcgO6LFBagQjjF/8S5WZDiLGuyUy2fMqnr3E8T52ZxpNsqkkQ4zgzyipgqN4thzgjrYUhYjkjhY1Q/d7k0N8ucF9Cc61HiuvnBzqPVkAqZ5BF8hUDUmeVmwYPxODdLMAubg815ghxlc5jWQxIul6bri/iUWTg0Ii1S2lqgKMtmJzCTJ5NXO9y+AtkK9taBESMOZmNZ4lQqMLNEs0hHg+xFYUqGK9OOTp0plIeOIyxLU7n+wv/QsshDQL48WFyf5qHgHB/kx26mIoln0EjZ9KdVPChtJAqA7TXlA/s8Pigtp4gVsiqkthiZH9vDMYyeyENgyHz3MFlxllCktw5kfmyJoQXMGJHsRX0RNgZOoG+JPNm5uUqdJ1w9P7Yr8onI/NhYWBVPOlV+bEZOiM60rclPa4KqAeumX5Ife9zZhKWZT1otcZAuzANQQ9TpGhMPG5W805BOtsWz0+sdrpQf9TvPNcSpTZy5ts/GUNnmUDygSmWNmUl+bFWLfgSqDEL9iTfy05oWh3CjylRVTHuk3H+L53L1IlJjtP1QkQl5spdQvK5NtuaLQxhxNjc1wDmr0UiiZtw5PlHcdf/FeATf7HsDT7XW4UpZlorjyGaRHBURNKgdzFVQltwCmp8olQoSG7syL4tlmrNhK5COWS0Kw/Ky10ojzBtTYR+ZPFdVIQVuo5GRm0T5IC9mMprgHB9BsPpJN4fDlClwW3RnaYnCLBUpcLUp9UOcg4QsRkEskm5PrnCqFLhIIiZ9X5ECF4eYDmYk0/OiFocbg5rDKtkGcIotFE0TpnqTTfi4jrOKzM3f7HqM46xQ8PP37z2kuw++pDsPvqDP7n9Bdx5+SXfu/4Wvn8mCE08/u/t5XvD69u0H9N3jN+wxzuHGnK61cykPLy0cVJrfXxfKu6Fh2nkMKWrYH/E7TeEjY4aFDE9TtNGH1NQvWv9RqtMW7dvv3tAsy/8A1mlmeqIZYIkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;all&quot;
        title=&quot;all&quot;
        src=&quot;/static/ce9dd92d94c52e1dcd8738aac1531e22/f058b/all.png&quot;
        srcset=&quot;/static/ce9dd92d94c52e1dcd8738aac1531e22/c26ae/all.png 158w,
/static/ce9dd92d94c52e1dcd8738aac1531e22/6bdcf/all.png 315w,
/static/ce9dd92d94c52e1dcd8738aac1531e22/f058b/all.png 630w,
/static/ce9dd92d94c52e1dcd8738aac1531e22/0eb6d/all.png 913w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In the end, we got there but took quite a few detours.
Let’s see how it goes tomorrow!&lt;/p&gt;
&lt;h2 id=&quot;day-3-stay-tuned&quot; style=&quot;position:relative;&quot;&gt;Day 3 (stay tuned)&lt;a href=&quot;#day-3-stay-tuned&quot; aria-label=&quot;day 3 stay tuned permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[TypeScript Typelevel Tic-Tac-Toe: Overkill edition!]]></title><description><![CDATA[At Mirdin we help students to practice writing software. You might be familiar with how practicing guitar or some sport is very different…]]></description><link>null/typescript-typelevel-tic-tac-toe/</link><guid isPermaLink="false">null/typescript-typelevel-tic-tac-toe/</guid><pubDate>Fri, 16 Sep 2022 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;At &lt;a href=&quot;https://mirdin.com/&quot;&gt;Mirdin&lt;/a&gt; we help students to practice writing software. You might be familiar with how practicing guitar or some sport is very different from just playing/performing.&lt;/p&gt;
&lt;p&gt;You will get better from just playing but it takes much longer and your understanding of what you have learned is much worse. You will learn what to do but have a harder time explaining what you have learned.&lt;/p&gt;
&lt;p&gt;This is exactly how it normally is to work towards becoming a senior engineer. Senior engineers that have been through a lot gain intuition. They know that one design decision should be taken over another but they might have a hard time explaining exactly why. &lt;b&gt;So do you really have to spend 10 000 hours just working on projects to
achieve mastery ?&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;At Mirdin we believe there is a more effective way.
We try to give meaning behind every design decision to not have to use gut feeling or past experiences with similar design decisions to have an opinion on what direction to take.&lt;/p&gt;
&lt;p&gt;One way we do this is by giving students a series of short design exercises that takes just a few hours to finish but will contain a lot of opportunities for things to go wrong. Then we give the students immediate feedback on how their earlier design choices affected later requirements. With smaller groups or private students, we design specific requirements for each implementation that are meant to poke holes at a student’s design.&lt;/p&gt;
&lt;p&gt;The Tic-Tac-Toe challenge is not exactly in this vain but instead gives students the challenge to write a Tic-Tac-Toe program that cannot go wrong, and produce compile time errors for as many incorrect uses as possible. For example, making a move with the same player twice.&lt;/p&gt;
&lt;p&gt;When I was a student at Mirdin a few years ago I decided to try to write Tic-Tac-Toe completely on the typelevel in TypeScript. This proved to be very challenging but fun. I have now expanded on that initial attempt and written this post to explain how it works in the hope to teach some more advanced typelevel TypeScript.
And maybe also make you interested in doing something similar for fun.&lt;/p&gt;
&lt;p&gt;I have a lot to thank the excellent Type-Challenges for helping me learn enough type-level trickery to get this done.
&lt;a href=&quot;https://github.com/type-challenges/type-challenges&quot;&gt;https://github.com/type-challenges/type-challenges&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-post&quot; style=&quot;position:relative;&quot;&gt;The post&lt;a href=&quot;#the-post&quot; aria-label=&quot;the post permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This is going to be a post about advanced type-level programming.  I’ll be showing you a sequence of functions, from top to bottom (mostly). I recommend treating each snippet like a puzzle. Try to understand how each of them works as you go along until you feel you could have written it yourself. We’ll start off small, with some academic-seeming type tweaks, but pretty soon you’ll find implementing type-level board logic a piece of cake.&lt;/p&gt;
&lt;p&gt;I showed it to Jimmy and he was dismissive . He’s a PL Ph. D. with 10 years in Haskell, and finds type-level programming easy and uninteresting. After finishing the whole post he had a funny reaction, and shared the draft with his friends.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a8a635cc570e505fcbcd39f797b70311/46e51/jaw_dropped.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABXXAAAV1wEELLsZAAAAc0lEQVQI15XNsQ7CIBRG4b7/U5jYJzAakzp2qCN2oCZICxLq0E53uCQEfnwFevaTr7k9OmOsUmp8jc45ZiainHOpqLlfL9u2z3rWH83MAFJKBaVq7p+DtV+zGCml9z6EcEBuz6d1/b2nSQhBRABijEAV/Qdez+U023D0WAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Jimmy says post is jaw dropping&quot;
        title=&quot;Jimmy says post is jaw dropping&quot;
        src=&quot;/static/a8a635cc570e505fcbcd39f797b70311/f058b/jaw_dropped.png&quot;
        srcset=&quot;/static/a8a635cc570e505fcbcd39f797b70311/c26ae/jaw_dropped.png 158w,
/static/a8a635cc570e505fcbcd39f797b70311/6bdcf/jaw_dropped.png 315w,
/static/a8a635cc570e505fcbcd39f797b70311/f058b/jaw_dropped.png 630w,
/static/a8a635cc570e505fcbcd39f797b70311/40601/jaw_dropped.png 945w,
/static/a8a635cc570e505fcbcd39f797b70311/46e51/jaw_dropped.png 1003w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7cba2d05f0b2eac3fc0bce26a5055626/46e51/jimmy_comments_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.253164556962027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAABXXAAAV1wEELLsZAAAAsUlEQVQI13WNsQqDMBRF/f+PKKWFluLQQXQuFArtmqkSrUYT9JkYIgrmRW0HoZtnOJzlcr3X4x5EIU3TNEkIIbzkwzB0XTfP87Isq78beNHVPx12UrWc8yzLqqpqmqauaynlamPM5vh5vwVhQNNP/I4JIYwxY4zWehxHRLTWIqJzzlrr0P0bEadp8gL/fDnuG6UopUKIPM/XQwDQWksp27ZVSjHGAEAIAQC85EVR9H3/A/i22/5gpNjYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Jimmy says he did not like the post at first, then loved it&quot;
        title=&quot;Jimmy says he did not like the post at first, then loved it&quot;
        src=&quot;/static/7cba2d05f0b2eac3fc0bce26a5055626/f058b/jimmy_comments_1.png&quot;
        srcset=&quot;/static/7cba2d05f0b2eac3fc0bce26a5055626/c26ae/jimmy_comments_1.png 158w,
/static/7cba2d05f0b2eac3fc0bce26a5055626/6bdcf/jimmy_comments_1.png 315w,
/static/7cba2d05f0b2eac3fc0bce26a5055626/f058b/jimmy_comments_1.png 630w,
/static/7cba2d05f0b2eac3fc0bce26a5055626/40601/jimmy_comments_1.png 945w,
/static/7cba2d05f0b2eac3fc0bce26a5055626/46e51/jimmy_comments_1.png 1003w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I hope you can have a similar experience but maybe get past the ‘I Hate it’
quicker!&lt;/p&gt;
&lt;p&gt;It was also his idea to add the &lt;code class=&quot;language-text&quot;&gt;___DISPLAY___&lt;/code&gt; that i will show you in just a sec, thanks for that Jimmy!&lt;/p&gt;
&lt;p&gt;Let’s go!&lt;/p&gt;
&lt;h3 id=&quot;where-to-find-the-code&quot; style=&quot;position:relative;&quot;&gt;Where to find the code?&lt;a href=&quot;#where-to-find-the-code&quot; aria-label=&quot;where to find the code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The latest code can be found &lt;a href=&quot;https://github.com/note89/typelevel-tic-tac-toe/blob/master/tic-tac-toe.ts&quot;&gt;here&lt;/a&gt; just paste it into &lt;a href=&quot;https://www.typescriptlang.org/play&quot;&gt;typescript-playground&lt;/a&gt; to follow along.
&lt;/br&gt;
&lt;a target=&quot;_blank&quot; href=&quot;https://www.typescriptlang.org/play?#code/PTCwCgQAgFQeygBwDYEMCeVXLgOwOYTQAWApgE6lQCWAzlrOoqbQMbnWIAuSa6+5OAFdcAEyhwAZlC5korOKNIA6IsCjEuXRLQBcILtVzpleUsC5NSyUgDdrAWkOsnqF1zik1aqAGFFVFwsQeIA7tSyjMxsHNxQ9uS01HjxACzKAOzKqd6Q6gDEhUXFJaVlpT7lVdVllVD1DY0ACnwMAOKoALZUjb1Q+XV9Q1JDo-2VDpNT0zOzc9MDef1j9TBWNvbIK-WL0PkrMNQuMG4O8D1juwXzN7czV8vb9QCqAJJPjQ-7YwDKMACCACUYD8oAAJACigIh2y+NXh1UqCORFSWPhgxDoNHonUwqC0pE6cRGqCgSlYpFwPGeAA0oAAKMhkACUqiWAAZlFAftZSKwePgulQAEZwVDkcRJABeVHpAGYoABeAB8UDlAA85QAaKCpJWq1Lq1I60hcVjMqA+ACMXN8glo9HCyC2wsCckk1ESPA8UE6cHsPgATFyAFJCWg8SlBcjyOBwCVGfEsLD0XBCTqumP0q0KlV+OMJ3BJ+nqxVWnXoRVy5nMnzouQR-Hh+RkVgAa3orpwoSgTq2XCE5FwUGhABFLUt4FBaMQ4D3QsR8dOuEmZHJBd1sTRcGyQD5Xs7SIKtn77I7qM6oK7Y0SL6QnNRNxRBIkfOFIuSo1Bn-HfSxaKg+AsLuYBLGC-oUFAAD6MGjq8PxNAAMv8ACaMFQJIv6krYdBCNgUCUIglC0FG+LJLgPgjLIVCsIOlBUsuq5UeuQpspYzBQB03Q-NQMpKmqADcEA+DsKLIhA7FUDB0kydJcEIchaGybJ-GiCJ-RiQiwngBJVicUKPwrgO9CKvUdqoDOADy5BNBZtAADw8lwELkC+9kQPUXGkIhcaIPZADaHlQNAUCWQQcBGPgUAbl44D1NAOZaoG2pynK2nxeoo7kKgPZBQl2pQMlOqpTqVqBjqgblVAVrlmqVVyrVgZWulwXqH49r0AA6kYeVtTVxVVZVpX1QqLUhb4nqsDYUDdRRcWtfUiXVY1BVDdVI1jW1LQYAwK5tpSSBwEkhh4L1i21TVm31AAstgmHkN04inrFGXnTqABEYLWDg71XQeNjHr6EFnVAACsoNXVA22YM99CoJI0bRUKW6hKd80hf1dUVVVZXFQqOYtQAuhAyqk9pRAAFRU9TNMAAJcLQDikOqzD8kzrnxjT1OgSFGmaTUukccpUFtP810QlBKEQjAUEwJZUF-ECMsqaZXkoaa8CGeKXD2V5WvGcq6n8-C2nAFzXP04zzOs1w7MvubFM821fPG+UgtScLovi1B8FQZZABybSWa8gfC-xXmvLQYX4BFBC6wZRnhobSyia7bs6ZADvU5bTMs3yts-uQDtOw0adVO70Ge2LEu+-8UGjoC-ydcLUH8RipAR7Q-xZTl8fcYntDJ7zZfp5TWcUzn1v53bnPmyXqcj8UFct74gKWT8PxQWC-yb51Act63pl2kdtBghZnV4H3pD60nRuLyUpvjxPDO5zbM9F3Pd-30Uy-Kb4ryAl8IhCW29d77xbvxCa5ApqkDPrQC+uAr430Hl-b+iwkRoIfksTBqI9h3HwTcL42w1jMA2NYJ4RCxiHGOKcc4sIJgEMYQsQYTw3gfFLiw0YEJ-ajlBJCaEFCGFMKYZQ9hYjxjYNGDASEUA2G+EsqOGE8EoD-BgEMURjRpEwm4eOSyAAxWAMi9GvGAX0DR4jBHYOEcIuEOCf7YLsfY026hrGuLce4yYPgPHeJ8bcZxLt74YO-kEixnx7F7CKL0QEpAACOQhPSEijPQUu4SCiRNCQvIJgSHFoLrEsUcLBqD4GHKgYc-wmjvHugwahZxaGeCvGKCUOoFC4CSBGSKEhpCSVoD4QixEowdMbEEegzERSNNEDqbAeAorvmIBhEQ-JyL0B8M9HUe1SDXQggAITcG2HUC44AIOsj3UIkyxDYiaEdCI5FLKsFoogagpBRAgQnNACmKjLySAWSdVpvpww8GvIgQcsU3kfK2F83Aiy8A4n+QRU0g4SnTkpEkYU01bDYCEFQUpT0dq4DgN6YgggezMwpNwJZPh3n-CBvYeQpSJC4GQJga8nRUBKBoJIdSDg1xUBiluPFPAILkE5dy3gGBIJYmovIOiX4UBiqFSnKAXLJXPS3Oi5A1BxD0moMoFQUB+VYGQJQVlmBZXoCebWJY7zfDYHVQQWAqB9qbPsDs9s9KGCinFGECIcy8XUuTFiUkChbzTUME+Dm8rQXWudB0zqs4jnkBOW60kzhXDuHqR6iUV4hAEp5cjRcqZ8UYSMHQMg4gA03geSGx8VBC4UqgJHS5x0bl3KEA8p5vZ4wdgwr+IwDhTVYHOUGlApp20xVoGyLJuSck4JCWMeRiiVhL2nb8AEwJQSjCXREwoKx+EwkuKkgJU6t0zozse7JZ7F6zoyZutJ26hjPBgCY9dZiD3FAyZk6d57b3BLyOiV4TRdD5laRqyCtA2ycAeXa2QWISJQpKecmOHThS7JkAgI1ogOmSoUEoN8ZBhzoGEAREQ24fRmE6SKiFcGcQDJSGQSg-jrXkGGdQUpTRBCiCEPyeyNItQoSHuoCE6oujDsAz4RjzHWPsc4zrd6qB3pQAAD5QHesKd6H1WDyaU+9UQ71VSmVkxpxTynWWaeU8KQzWnhQ6YruJwpknFDScMhwOOMArTfnVEEMQ9BNZcGc4KVFpASEsC1DAQM7nPOiG83AJzkVUABaC-QPTUAAAGAASAA3q5gAvhl0LWXktCXAJJWA0XfOxfi1YEyy4-NGbTBmSCSnRRwBsHSxrRSjBcEK9AO4PhBOyqLD8wDtmkj2Y41xnjfGvF+KWP5duHygLCmyuR7AC3spHDJPiZNlXCaMi0DofQwB8B0C4MoI7sghDCmUEGw7lB8CZlacAUGpAACcohUDslYM90GqBnuoAAByiEDMKAAbKlP78NSDA+ew1dkwpnupFBha6AkcGACFIEuYiwhoFUGoNIAjQheylO9AgFrQ4gaUCwKKbNa46C5GgGlzLVocuZcDPl9EbnsWwDC6wOlopIjXlJCIci5GMOSEkBQL83SXk-AwD4BnxnTMqcV4Z5nymdNGfeqQRXkh5P5deeoTqVBFw0tkJQGis4jjJiqZKj0XokDa3I5KiMfnpcIEF7gYXzEzd-nq4kfZ3qKOegjPEDFVAPTqnbUYb8bg5nO46ViWJ8S1WS4QDboP3orAiWS6gDL2n3paa1xrnXWWjPJeFLn9XBftfvT10p5LrB0t5414XrTxfks+EN3qucGhUAm8JaQc3EUKT0Gtw2PkeBxCIAd6M6rkV9zSFCFQToQhkCGBQJgainQJDZv2Ty00IqedMbs8OIiDn+SO7kFwVG25rn4Slz4WTOmtOoBb8ZnXGurOK9dF-9-WnWCV+UwpGVx138X+ARkgnQ0wzkBW1IEW1JBJGQFW1QHWzexXBkEqwrEIx52HBIjdHxDfCoFwAH3EFJG6F9wwkEC3z5zmVcwHXEFCx1FoAQEXx7xpVoPeVC34lYAt2H1Q3kCNSCG3xjDjwIB8EPwkxPyk3PxGFky-2V3k05ybyryL3ky3AVHeVzCgGe1nwIB6VPT6igAAGpqojCTDjC3NzDTCLCzCbC3NTJnsRJH989jNX9ZNf8zMACVNXDhR3D3p-9ldXDWAQD9D6hswoB3kwjLDzCaxTCwiIjrCEiYjjC4iGQEirCYj7Cs8c9G8n9lNXDi9S9y8cjFd8ia9ktS9WAK8Sjq82cQjUirD0jwj6iojqoLRMilh5dZCP95CoBVclC8jq9ejyiRJ5QLQIjqx+IHCM4fBngPc8B4BXgqQKBYMfluN+N7V9o4YoAhcUh1V9oUsqUlMtkjNfByjOdKABwhw4ZhwOtlj85hc9iqBksqUAAyKAY4t404iuWY8iBYpYxIe4y+Z4JLIKBoKCJobNH4vAa6QkTMWgRYjwPRb5cif4cgfAdMKMRta5IE1UZmCLegekekNsQDIwcXGMV4ZkFUWwCKUQC0AAfnrSgEAyIISG0mK3BMhLmNwBhN93hKpDgCRMhR+VRPRO6CpCxNWOBP4meHC0pEiwHUwAZKJMA2eEpOVGpI1XqGZLsAoC6xcWm2gD6zQAG3IhVK5L+OjBWPInsilLEwEPjEAxDB52QClH1w0D2z0BADO2IAuyuzgE6GAE6COHtCkC4GACCx+HYE4DDLoFoExVoGAEDC+3h3yFjMxSDTFNtlBnZAyGBwyAanBimxuHrCxDIyxFRiY2IEwDiQiCxSvAiHI2tmNLIjwC5FeB4HzSvAHxwP9NIAXCXBJDJFgKTHEA8AeVYC1B8FxxoC4AAHItjFxXVfx+Uzky1pAGyZxhBkBxBrwjApohAlAy1hwpAPRWAWMth1VLtnkGYJAYx+UXlXhZyt8-Rg8KQmNkCGVMBRA8BZyCUjA2wad6By1FyAKlwbUdRpzoNHQtydyjUAKo9SQvlLiqAEgkgUgRh0QrBIzYguAIKO0V9JQdpZAlxUYCKrw4KGAcABVpB8U6MaddCQIfAfgsdh9dAfBNBtBPTgBGx2xBVJBuw-SAy4lggllHt2Q5QMhUhnt2Q-sLBspWl7pOgHAdjcAnArAnA4AHBbiAS4M1LmAxKJLQZAw-tgd8hszDLjLgd2KPSDtvTfTrsgz2AjpQzwysKozuBgA0yWBEzkzUhUyHR0z-TMyHBszcz8yrRCzf0oqL104t0oYlYTDX0tIlgISuAoTuTYTliESBTkS8ARSMTxSrlJSksZS8S5TrjFSGRiTZE1SNTxBtTWTP1y5or1AMQsQsRwwOkZSLIGBZyix9pRBZz0COIp9spuhoxpcB9Oh6AoKoBbUY4+USdplIJRrqKRUTyjhzyyQ4BWBaB9lMRuCtxSQZwhRJylg+xfQHUccOzPVIIfQRAlAvRsV9qN9MRdCsBz9HjuUvy4AXkOL9sQBQggblBul3KuBjT8BTA0TgBvzdrgBFwxAms2xEzgAWkMMflsA9LgJNBOhkB8gMM49hRs1qB7AHA0bsSixkAsa9DoAfB-YrrRy9JRqhRLSyRjsOAibhkJAEgGAVKuQfBZruhSkZq5ByaMathVrewLwXQsVEAUBHlRyEB0dDqyDMwL8qA+afBOdJViIV8eALqBdtiuTltLxUA5b1UecfkRkulRaJ8KbsA-qbKQAeK2w+KBLrthL2loVHsrRgdQYrQpLnsLBKswaHB+zbY6AHBUAHB+qnksa+1xQWaKA6d1BEJ99NxNyex8d+aWqoZOTyIeS4TsrBS4N8rMyJTrSpTTJSqPNyqFSoAlTqrVSqSaSmS9UdSI11ABa9J-gtlfB+IujLN5CfBUr0rC6sr+SS7hS0SCquAK7L5e7fB1ifBolZUKRZEpbIg4zzaFbhqqBF6dQZSsRY7JQEBvyGBCI0AKRMyfAqlla5lVbxUyk+66DLr9j3dPcbaqBdbV9x08leYuiyqvN67G7ANZCLR9R4hW6GrIIfAh7ZTgHSlKrlSzN3oIG8w6q26WTYGlg-95MgH5SkGG6qqwGNN0HVRMGYHO63TY0jhY9Hx5aPRkwfR1IUHwH6gMHW63SlM2HVNyGoHNTuGSHAC0GOGKGaT-71BbpjAkBSA4Bh0GQ9zkADyOlcQSJkB1zhxJUp8IwLRoNcAALiKeAtsRrE7xrk6lggI5ygKGUjBI9+SRVisyFwVcrhxHjGKUr87oTMrEhi7XGy7MSirrTB7UGNcNN1j6QQmlcwnRGCGKriG2G5NuiYn+HKH27Gq9xc6phDFlFlFOo15A4ABCKYFO9EBAKxtcJcV0Y3ZIcgNZS-JmsxkdO84gvg68WcqaWip5Wcjx6AXwKi0tdzYTGwF5VKxYqelEme8uoJnE-iekfyZ4QmBBwhmR0BmqluzUqhpHEuMZ3ACZvKqZwJptBevu-jFe0gNeqgGU2ZacVteW9tYrA+jerETp6iU+7akVS+twRJKkKc2xogl5HweZqJ1TGJpZuJkB4RkF+Q2q6B9JigbZmhg6+hokdVJhmauAIF6q6FlJyBuqlOl2KAAARTeAAC0XYymZBggoB8cASNG3VJVRcyTKR17XQr9uy9UGbX7XnS0zroA2qDH1a4U4zf7yNFjbUsVB0bUoCw9XGab1AbnF7X7F60pc7HmX6B6kn4G8Hu6OIVX+IlWlNVXMnoB1XfAfZ-nSAoJBN8SoIqVehTIlWIX6guiGg1nF62jxHNn4XqHit6aBrrXa6vM7X7IYBVQhhTJYB6hnWFdGg1mo3PWBH6qfXdWqB-WnlA3bWYsXNw3+Io3lnkkRCooEnqqE28W4XsHfW9J+munRBM3yqFYysc3+JZtwWg35T-Ii2ln421FE20nK2CW30SXXhyX-hWlF9EgKWlh-quLDBjBBxkBBLg7ohQ6aypQCWoJ-Z8VSBdAoIfAfYF8qBSLtyoAAArWFbg0pICRxvSEYUerk8e3xye-xw5wq45rRhAV0LFlUvtmk3ffCk943LFZAJg6KfFTzKFrV0JvB39jVF5TvIgh5uQGu-EyFn0AmsrTmt0DWrk5QPd3Op1DpVsyRw9WK29eK4EQqPmSdMjqAZQejpoJWNzCFwk6q0kyCCkjZ2k4h94Khmj2oNEJYZiqGB3NzQUGlcMbD4VvW1h7FuTVJrhuBqFvhsRpN+oJTthsh1T-F3O9uCnY+1PRpsayp-WrFCnL5s8u1OjUgRghAAg2lYcc94PIwCVwC6T1fHO2mpYekRoRJ0R8tjVC0dSIzXh-zzhwLt0hoHh7FrTgL2knwC0FjlB9j8k2FiLhk3jlN3O+kV4PHQjIDrvDs9HTNOLYQHgZLFL8o10e6KgHAOAUCnNEiba3ax2zig7UnKkEOnC5QJQWwYAdkIO5AQMMmu28WrS3AMk7ZjvMzqgACdADpazkz7lfTrYyjH5UI5Libjj2D7joxhzrst00gb1SCXoPznbyL0YX8UL874LvoK7mL0R8LtSJYds+cwrkVcUUUlPCjVxpb7Ag7nFvBl5PTmbtcb3EiZmwQtbpZTeuZWQI6Mzr7qkVc3sKgUcAOWctRNsPFecZF+lI9o96W1glQesCXGr9az87kf4PRGET72evg1jkkrb1LuLvRuQbSq09C6QG1Q6B0agALLAV9hmQFycRcHgIM-ATQHvHcjl0kYUBslpL5JIAgWzua00N7urhr-HoZ1FkFEuYrNRUyFBuBem7oc76LwDOBf4ICHbsQ6FHgSjNuw3uj+jkj3L1HrvecInPg50lxyFXsMXwXpHngc+lgxDxW6KEm664h6by8Fg783AX8qAbH7vactRLEY3iyU30gc7+7y3iya3nPuL13D38Pn3nnx3m5ulOnzMpbrEagzz9QYrUcOAKKUyE35GN4q3oCO31pEP1vtulvtv-g9HIIIfyJvRDVOANTNURFyjekb8-ARF+sUpACsd9AcCUIQyC57tGMWa4WidpbsgZAZgJ6I9jgQQ2azn3ANi6dp2w7b1ey-0wM4M5yhGVy5gbC6MzygK7ypM0GFMl5QzJRgQqOZDIOyBqjQ5cgvWITLr0AzwB0qAUcsOVDlCEwksbmJTGFiNYEsjSpSFsjfxKyICw2PgVEtlEwCdlSQRgJQOqGnBFIBswKcjMljqyZh28SwR5q5AwChsks6WKAP5CoHMxmS6YTMITHgEu96OWWHwKB2FCYB+B6oDpDcz6pCCKAQ1FghU2QyuoYArXAGsACBqhAQaXXaMhDShr4AYaO1BMgjVEBI0UacAYUKe3zjjocaeNWQQ4CSDFImwxECuAgK5KhsC2KiDgegHshINSYbcfyMwIoDExpiSwUlpwHsj-AtQWydYtEMQAyBr84oMgRiysZ0YYBwzHdlACSFICkoWoVAVqH8iyEtQSucoRpjQEtt-I5YWQoTBKHlQlcDQ-yNqD8LvRCYEQ4rPkLUQQskG-kBoRvT6HGABhOof4Hcl8H9ClmpkAYSCXmi9D229APgcz3BDo4JkYglLvagvDdsJwLwXwcsLJKrDWUVUejsoE2EnALwgYHYUFB6HIFkAOoC4UNx1D+RTh4wicrwK+isodQnwwHJ0NVCAY3hWpFRHckKz+Js2+AfwJCnxAwBW0NgByMQKWAhhY4MgWEcw1b6mg6KPoItvKygCCYchgGcEZCMtowjh0DkfyLUKSgtDtQqQP4S23ehlQ1M70OUKkA6E4CWYzZQbNyCbYQi8AxI1EfCPWJfQKcLBcUBrWV5RRSQt0OWu2gSxaCuKug-QSuxwpGD4wJg2GuYOxRWDAwgZM2qf2prKBHB+4Ocgam7D0B8cfBOrskMFQipH6k7BCnvR8D7QCM0gI7GeG2JbFisVfI2p-RNEionRNjWAGxD0iEjeR0I-kT4IhahClBdTPVNGMJizD+I6WfyAAGlSAMg4cE6JGAwARBKWXLCmLTHxj2QhMZnDAHzHoB4xVoYscliyygjl0UAW6JEGeCGAQOH6HwNdCMDhgwopAeyP7HWIFIPQRBGXuywOgc5zkVodkBOPRBXUGAYQmMP7DEyth4K0gGwAQEiAjBCQ3APEP4NMJkYRAKfUIMOF5C18E8cSO-AgHnEvd1yPALEBcQRRq9VxcyEkNuIXB0MtwZGOESLQOj+wHy0gfVJQFoiJAo+jKWlJeHbFpgo4RBWHgOkF5kC6+IySCUeK-A4ACAFAIMRxDAmdiiCPY3wbOLGGuRJhIw6YbwOqEzCgorw1yGdXqB7icec0eMbORXH4BZAs5NtqhwvH1AGSpA-yPRMpCMTiAzEoKIBgwkQTux-sZ4eRJjHUS5wuANAf4haCYSRJfY0gAOPbRstF8B0dkK-WexaSmKK4JjFBOr7biRgDEyIBpM5zcE+QS4mcluETxnioAF45HFeKOqiBxAZGRCQxB9CSo0hO0c4vCjJwRANePE2QD+Pe7-jBwSQTYJgF95QxlGwk-SSUm3F7dSyCEmwLX2QlARyAwPTEI6B2iqD98-sKwhXDknCTsJELXCX4JjDDD0AAwltiRN2G8DxJdE4yXxJYl102JbreqfR1IE6hJJB4xqYFOamgk26RUrsT2LEmdSKJRtfcdJOTg+A9ElBP4qwHsg+QJ2WoMEEUjoyKTlJQ4tScOFMnnItJUxaAG0Cj6dgUMdKUgTtAQJbBZxnYU0DtKgDLTIInONaZL0ghapIUMUqPoizxFwCoAc0-0gtPsjlg5QSWCkSgK6F6R-pnQQGVDJwnRiHhStRYbGN9yTIJhlU6qTMNqmwyIWw0rCfAFVAMk3ArANulDMBm4zuxUM5UAjLGnKAiZOoKGWgNrHQBSZcAApItJel0YtQj08gJtLsbbSOWB01+uyB8DHS3R6g0CmUkMnc9LwN0rssOOHAcynp5ybmYow+mdV7A302ASJj+nzTWZfIeyNqCtCgztQ5USsRXBZlsz7I2MpGWVKnClT4ZH1YmejKIkJjTI1s1DkJJGn4ziGRMkmbrMtmeysJlM6mR1Npl3J6ZlBRmeTCaooh+OyVY9PUFHCbYogyYG9KR3EgxyM5hUvgJBCPgdQTik0GwIVnqDaVJA3zPwIXKoA8CYIkkMBpZHegCRegEg+aKXPLnHwHQ9QauVBFrnKYaQDcpuWyWDGniKcpkaGA1lxFEhLAxckjBQDLnr0IQk8zAFAC7k9z3oC8zcf3ObnRyYqjidOMVh4h8RVYBkXiKQD1Lpzd5uCdQPSAPlHseqi3arvGBxyXU2UkqNhEuElRjlluSkx+Z8yeR8g0A2UH5Ii0WIMAkKDA1Cj6MlQxQ1klWKWpeB8CAomm0YE+TuVeqzcT5QrGKCX2Xyr5OA00MdCLlxzMsGI0oZMP9x8DMxjsWAHNNOGRihoSegnaAJvw7rfh7Aw4HHqwooDoB9GUUF5tgFohoAQgFBf0iKhvlMUEAhoPUAQtFG88UUNgOORfKXQKKv0hLBoP4GUadBcAwAQEHOGADz1hwKSQoMosvRLB1F6YeDOIB0U9h-uiAbdlSHPLATrwTLCXCQpPk4iMQwgSXlLVwAe47UKQRlixhjiU04FWwArj6EvYoS3S7vKBcjAM48BaAw8hhcVjMWaK+gpkLwdaRZmLFFp5YG+aTEKzFYrFYwdJXAEQFZLIUQMrUHkuVAFLq2BYDDANmTBHxtYx+NjGfi4Dgj7IKS3ADqCsUzTM5R6b9L0Fmi+Koo+i5JIYtsS7zSehOTACKIpyIYoMCAXAuygYCmpIInZVGPhlNBTlOwmATqlBndBuACUJFKgPuID5Lgg08vE0lzx8C2L32cMYUUYFGUQVueoqM1DGAoGXhRkW+aiOQN7xHtiOQnIIPtgJY2h2oo-OsipRNr9g5A4QHxR0nuUU0cRDQUoTVBn70jAwGKnMB0KMylCmoGKyqISrlC4qlMpw-XEGFtCLiLlNCgCfRHiVGQqAV09WlvlFHBd-IUCGBDqHbl7UJ5m4pZkpg5WVzuVwqiudAhsBLNyVBLOULaAEKSsZ5OldbvDya5DJgsr9SgCqk8n+CLAqI9lZyumifF85bxdeZYAFW8D9VVAT4pXKgBWrxVpAM1VKoVS8DK2ZqoVXaoiG8wfWBcu1cFwtUEswowE+hR7wqbYRQ8KMPDL6NNwD5BeUnACN0AJZbt5wNEOlOZNdSQU5A6ymMBKjhXPKKAOoBBZFMXHx4v6Cq6-rGCpAfktima3pt+kcQhIRlHScZasJP7LEp2O8qdMVjaCmgrF4yrpb4O6W9LfBfS-iINMBBDru8g09ieapaUjZcAbSsbB0u5FdLelyoJZpOqwYd1axna00N0t7X90IWA6kcOOtCBzDGg+6pGd0rqlxtp1R+WdfOscxLrfAK6tdfNEaBUNaxPgANZgFtzB5iszNcxlmrhjOg5wDzT9rNzubqonkFcUcIErwDYAHIN8uGSjKvVPAoILMxDfbN9wYydZAMuANksqV5L81r61DTfPgDuy66s47DRbP1k3zSoVMlDdsCSx1SlM+QtDbrNo3QR0NJ81UEFBY0xC2NuGjjQrBPlkbKC-S7dVwBg2AQ4NyAXtaCAhZ5L+IIYqEVwBJFwj7IUmoJfBschkwQiDaggOMuyG68fAaKq0NiqxUfQcVrq96ASo+hEq7NJKh1a7yWD-BLwkqeFaMt57Ird+1SI4LUmOD1IsFFcfTfgCbWKgzoVivQvUCUxdquAPamZq0i6XNZzFvSucMnFejdKotRmWLbuoS0ORD1fSs6Jppk1ZaYtpoYrZTTk3cb-EiiqZdsC2TjJYQSVC+QS0FJvZMy+EVAiYyZUlqgtSwBrZ6nLUrgjAWxFlHLQ6SSBKC+YeMA0tXA+gfgiSkgdyESXWTjuMYE1egG5UdQdQv4C1R42KwDbM0pkHgZ223DTbCwSYWgDmIW14QKcNY7ebWrsRXpegXkLkZdo3TNbplovXNJuH+67ljykEr3NGtVV6BrQXIHRQ9TO2n40cDoSlTNDRjQAZVUAE5IPI4h6xGVVWCHWIECHGAzkm2hUqqCUwnIcd+OoIUZhGUUASdeOvHf0vbU-oE5KwLHeIEXSfa61jC9QFSiZ094tiRNSFI+OkA3bRR1xEgtFLlRwT26HmPgs9AfLGMQOCACgUgEoA4RhA9ALnb+H9gXg1kYGynCGjdzAaewVSB6rHCiiww2Qrc9ekzvcjzRjiELQ7RMiChNBfBY8upkFDHUQtLdSDanQTqMwa7kAJMXwXAjYx2Bkg4YeyICFVDpYgoNcwCGA0EAPUG5QUDNKIEAxbJp5RBDzPACdS5CmghWZuebrTYXhGgK8qwGA1939z6gW8pYJ3gh6J1BCWOcEBZCD3K7mw+e4Rb8rkBc789lLAXAL3upNcGyUeLplmv+JzzgIJA85GEr0jON5kQpGHguAlwU9gJLSZ3B+WvEi18CSwBsp2UlSB6ldIemxtGFH1m6R95c3fcHpV1h6I9QUIiOfvDCAZAQue7SK3op3kArd9QR3TjJzku75oTet3UjI9246FSNOyiX4Doi+C7d-uiFmfub0ORf9V++aNHvwBgMPNFANTEFA82RR9FQ2OiNPJQPkBAMOeiAJXtb3E6-9qHAA6TsANBCdQNupGXbtxJIzoD++y-cvMQNgNRA2UUIA3Mr106VFb6RoF5HoCqqNA1gZgDGEmXGKR4qOqgLFrt1h7fB6Oy7elosSmR117CMg3XWJ2e7twhwhIWMAZJbI1D2we-eOoer2RNhWyL3WTqnWGHiN7CEwxCxf1U6gDOhyCHoeIa2HQk76mrYoqvSLFb8LoRrW8Tj3nIP0vBkxZk2Kz+HDA2AO3YmN4FOiztmY6QHbpzEbbeitSjiNEfPJc7TIlu7I7EfGRbaT4OoX3TUp8Mta6xfQV7eMKtrqJWdT23OmXBo43QIIC8Bo2JBI6d5U1lk5VG0axBqpNSNzD+XpGX2+ZV9KidFBeDiw2BBdHg77cOBFHm1XqS4FVJzhWXprCCeJEcMIAn09VSQL+4KQ2W-LMMI1LBW8WTklSHH58dkwtCwR6OrL-Jn478Ochny8obmW7TZJQDmNj7LxVk8st-V8mIoTkwU-VOcaBMip09PAJnTWoekWRjGQvRarLu7CgaDuOjEiEeR1Cc0twkncQALTQxPJOMVADjPLUtrC4o8NuX7qKFEAmAK4Wet-aAdchRgud7u3Y6IHsh26dQTQYAw7qd1f6QD+i3wf8CmNoAAsPx-LdKipBM7ShSejoVTKj3+w8ScR23Y1tMhOQfjXSyU3FrZMynxkHQrkwlq5PymEDipjzCyf-1smqdnusnXkctObslTRRziKaFNNz0v99kJoPRt8BammdycOYXAgQTumtQ9ps02yYYOodfMmKOqQyScPcnGT9KpnTqGDNcB6DAk2418eviJKHISZ+g74IjMvR2pxOr00yalNsnEzLplM8RsAxJmmdg0io7VqwQM7qjyMfWFQH2a-IX0RigZb4ZCLimluMi+5XIsCAIB+0aMR5iKZmMZnbtLADk+AfGTcCgoHK+pYmEEJR5kj7xHMVskXMzblz9q3wekYZL+BtzjSjdQkFz3+Q1zWyQmFur0ixaXTzu903yblRJYP9F6-OQeetVDYOoTM9QE5C2I-G+CpIZ3RXHVOJKZzKpz1AaffaaxTQXJr-fOfmj+RG0SRtMSMEvMEGjoTuhLdBZ4AMlndbdTc42ivNEHvzfgRcUBS-orcu85OWbpmb4IjmdwFcT44-PFNgW6Dc5g1uObFOZmOTYZijR3SCgMk8zqZsuSB1PkMYyLqy0kJmu50doGLRWPSP6cvi8nP9cqEA7QfIOWntDWl4wL6f4gvnUOsWpw5uZUx6nqhgl8gJGcAwiWSIJF6JYt3LR4GztkqXs6fhwiHluUWjHNT4vFT0ALjg4tCTIdNBGXZznqPTKCR+LCVFiPIYSpCm7E+R6uraQ8xduGT2QQt4y+Ibpp8DxW2wraQU35eePCGZ8CSqc3DEjAx4vN63dVBGCg0zZ6RZmyzRZuUxWbFUqoN1VyrFXtWLVEMjiNlcStLnGl+W+pfQAhYXSAhSV2bcMno3qW66OZ8LfNBO2pj0xyfFC9IHGv0ANzW5iULQDLGdDei-iOywvoDQyNRrf3PAMNt+R4BA1DYZGG5K4AC0I1e3W6yEoO5+WarxWCK5iiiuJ4WW3Y-S3XVGv2QepuAYIXNff1Cn-BgNgxjRIJmyJzSeG-4tf3dNRjfc1QvjpEMkONHGzvQG1ktjbMj4ptHZurU8GiQ1kNVSSFnZ2fCNs7issaQ5HgGOScHYhvgrQ7jrJ1KYYz-Jlw0EKSz0ggoqqgERAETZUpHDua1-ZsNjPaX0Ayh3C1-pf2dKPTqZk5OCOnnN9OD4IgenNneP7GyQnBhPRnGKzO65bS6v68A2d3Pn+1lcgSx1ZsAIJwRqZnlbbe5FBRkllcx2zVn0wWr4dnln7VrmdvVsOobtjpB7fzkIIRUMUX6Prb0gnBHU2yXZPIagON699F+ig1YZ0sg2RwpQm-TAY6HXmsjtAfRbcnuQK0GTgITqL4KcOS2adRmFO1zZ0sgHxr-a-q5drUshWjtTp5M+MjD2dRdLRvIKJufGsvrEuSMjbVbesv5nAMeZj9V2b4PpIhgMACEH8D8AWRkw9Rym49pPQmt1AW7IIIwT3LYcmuMiySA4Gn3DIby9nUIN73CXUrrcekQuI6ExDTQWCF99yRmsEACAugPvf0pWj14pyYg0ZSPm6ObCzULBkUoKl+HuN0pJOPva+7+GKx32XkAAHUnh5w2YhcN0m1SA2mj3RfBCpnfdWXx8fyAoffHA-DR-0QizRusTAGpZNiLwySNORQ687QAEOrTJgpuCPvT7ia6qSwDPqox8Fj+yQ5sMMZYjdAXkEIU8VsE5x9Z84PDuowV1dAHR1kw4SbSIslQkpvokudSpe0PAoTfLFzX6tZTa5elH+l2a7Efa0cMTvKZjxcNo6AgJlUUNgnUdVfIDABOHCZWQT1xBo4j-EuI8R9xl4w8aU4vgalZBWvzdIY134cRy8kVS+IYnBpNqHol-BfJLwBNWiHzxSDig2TbnSSIwQHy38QoM7WysY6XbtinKTBd-hGTBo-84yf-cAYGD8pACwHVIBwKkCahGVnsftYWezqgCqhTh7ZOFJBvgnlr0a5EO-LAtdAdIlAZJSgGEAjXp8C0PAKaY326cqI+ebg+Xlw8wAjBJnz4dtGLRGf9hYFlAAZ0mhuL-FgldAILK8CUD2LnSU4Ho0RugCqgXxh1JKYGosth5YH1+PZzJr3rkW8n6gAJ484aDvIGtkQb58ErCdhLrrv2+3mtl+ZLBc2HBS-O89fpj3yKpScydbQaRgvRuMPQ+9C8CCZ4EXiqd0oY4f7nYTHz-EpyGXKduUcKVT+MomVqf1Pf+wApp-7QG51PAw7IKyoJwrhiO8IyAPx1AD4wjr5o9ILgfSETYLDUOdIBkm5kAyBgh7qHIKBK7DZSvIGMruuihGIYKvCo9JGQCi6svwaxLIRKR1xgRFHSo+e9Y+zqS2BoO0+SJw15in5coOdYWr4BnmaSwwASL3ZvYOwnnuL2PgUyzGwUDnTxh-xDKvzBMt6AhuT0Ltu1YHYIBUPg8pkc1zrAFfYAw9QJoLKlbjT02E0jN2aBasn6U1SYOoa26QCTf4B8lNmAO3gHBEpueA-EdN-ZEzdCvoklxXALm9pvxpidxbjqKW+wDlu1F9b3AOCNrfyWOISt7kU27SW4i3Xbb3x524RQ9v83uABm73BORDvkAI7voDO78yTuMbrsThAcAXtqJg3x742Ke8aBbttqF2aaLDA3RXv+YPgZB2-FrRTu02rM4QAFiz38R6T9Jgo8gATPtQSjymVKLpmKMOhLNJK7p768qP+uPggbi95Yiptpwb3d7xsHpJuae3Y3L7zSG+5fhTxUH4aRi6Vm1jdRZAnt0yEB49wxGQPpZytx9Eg-lHIh6Hk95ImQ-nv2EcbzBJh9TwOoOkguDE9OBW07ACPnRpYO++nifu-WcAaO5FH+DPAMT-52jxBHsh0eAjoHnlSx5JVUyLVen3THWdDePAngKH3j5J9jlcfgPXOzsr6izv76JPXHlvon2RPd4PJ04jwAgBZQyMJESHsYE+-Fn0Jp7Uh6T8R7dfvxyPqmuANI3QBZ7aALqACukqupZ6kv9kWz6Ganscfr3XH8zzx8veheGHYb0YLdHAx2pSCbRy4De9fp7R48AKFDGYhYSizkwwXp3LpIZWrhnPOX191+-rEQQux87rTwx50-baIP+nzI1QCS-wAt2D0fCCl5jvOo47WersWx+KyWRs0QaC4A0DTeLv23GX+jzkaY-Te4As3llLu7Y8VwkvUMxNLt5thLvBXobVL7HfbAabODO7+jTO4uZ-ZJ3B23ZFDNmgtu9vvj6Oxshe9thUrRgHlR951ADuT42-RAKkCPdFeMPeX4hAV7Q-r3BlZnxoA2gS2F3W0u9Jryj848G9qWd3-OAyf294-32BPttOybh8Ogd3DVqDxhBNe+nJvsAYIGFgp9cZqf+d-Hy2np+Q-cA0PxMPcPG+s+vXa3qO8EE0Ktv+fBdoX8Xcy8PUjP9Gse5O+gAyfSPL4TwcED1C8+M3vjmnxTTp8q-Dv2AUD0yP09rJ3nyPqzxnIC-o+g3mP8+XwYEPVxYAgfOuvaI4M5RPgjv5KqrZygI+7C-X+wAd+09MfdPTVib9BrVsgqefEf7sV98QC1RDPymZKLpk59p-NC9JtP1VFj82+c-Cf0PyCsN8p+3v5fi5gVEz+YrS-fXtP6DAA8ae0-xoMDzB6z9YqZf07xPxc2Byt-I-zfkVXass1mbe-aPfv4gAyBD-U-0-4HNB95VMie-uf6f39jn-V+t+IKjIKP-atMiJ-a-nKDu839p+-sS-uzYf7L+hANvZoXskD-u8s3NtZOiFtu-F-EM8zbdTXwh6+3O+z3rvkLx69CPNH04gvfDECXAeVGaBG11EIPxNg+vRn1oAw-Tf1V8xAC-zj9G-Gmyh8OoBH2T96TBALD89-GwHH8MAvSHwCQVfPw08yAi5iL8xvEv0n8oA0X2wCK-TfyoDEAOv1FUbNK-3gCsAk+BP91PSP1YCO-Yv2z96AhANv8tvB-0p99vUEgQCd3UoTwN9TTvz0JkfIAKk8--KhAx9AArH3p0SvBoC9gYQcAJ4BPbWaBjduvbQOyRMA0X0rkkA-gO7EUA9YWL8cVUQKh9rApPxYCXAu1QIDmPJqy4DLAi1QR8KAgQI8CYEHALQC6Azn2LdXAi5kr88A4INmNyAwgJs4s-XwNIC4g6+BBUW-WwJF9-AivzCCiVZwKsC7VPgKr9IgzwIyDEgljxSCOIUoJgRxA+-yN8HvLNxkC0guQPegFAwYT9VwAB3xJ9gA1QPjkhle9HeB50PdFXs+PGe0aNYA5qixsGgNhC+gW1SdkJtJg0eCWBZyQai3AnOYnA0AQMEVHRQOACcxTA-kQ6h6oBzfnmmgKTZDneBSuAMD69xAUeWcwuALyBg1aAU1CQQB4WnVaoyAA+wpxoeaFAAdCXDiDwd59YcF5Q4lJyzIBPQRiCCBSeRYxoh-Sa5TwJ9aAPB18C4cND4J+KTgCW5qmXvFqZPBMgE7hu4Rmw9d5SJ-xp1vXOtxPhFLAxSgAIxJGScNY-SW1Jh0lGzErlKQ+oBpDUOOkNFUGQskL69O4aOGN1qQokNV1NLKg0AMU7a0zTseQztSFB1YGLy1gmMdkLrp7AnkKWCBOaYM8gvfRCEshLIR3VGDVQ1EArgvIeKz8hhbJGQBtZxejSMM+gDQ2AZxQ1mx0t+IewKI12EE23lI8LPORPhT1FRH2FNhH4R1BThc4TuFu2QaR+EkNNWjpJ11R4XBsyBeyAtCG6Iw39h0wHzFf0fhXi2AZxrHc3oAIwuw16BEw6GVKwUwtYTTD5SYUzuEJzFi0BBdTT1DlN4wnML6B6TQEC1BuTPMOTD7IVMOWdWTMwwlDn-B0OzD2EI0N8gnvTXSr9Gw5sKTCCwtsKLDunHUFvM8Se8w9N-hBjSoQ7hfYWuE6wsYAbCmwrUBbCJw9sICdxEQDH0DrWQEDXhAQeyGSw73P0Apwn3G1BA11hEEJGQEgZLGUNRgQ8Orhjw08PPD-zWcgywfhLLCGpsAdDA3wrqXAGfCjDN8O9goQT8OSwMw48x-D0sP8KGp2qQ8GPBnwpcIgiJYKCMsgzw5LCjCRgWCNXAvJGQRxA7oeMBZQCQUQDAjKzUAMgiTw7CPPCCIwQngjQwiFmTDysGwASxiGUMKoZ-wp11JBZxKiKBFAQaQxojMIuiLPChQnQhrd+IZLBggsIwEBghAMXLFqJ95U0Bcg3IMNhbYYAB4QUN3w+SPsgi2GG01xw0eTDAY8UdSPjBWRPr3MgrIGyDshFQ4Bn8ggbD6HMiTI2qVLEixTnx3CnMEqRtloxJLAZx-YWon1CGzAYKGB5IJCFQgPtNe3d9ivabkJx3JYcykI6yNhC+ofASPQVQ5QQDH8geMHjEsgGhdSEDBsonjCggtQfKL5ZnYK0GyjSo0qPKifAZuU3tuQWcB7B2vJiF61kYIEI0BBUGVm3BGwexRHIHRPrzYwOsR4LoAXgySPpBFDLmhi09I8SIMjuRZUGZAvQySKmjkwBkh+BmouQ1kNO7MNkXCYAMEXv9NyI-BjBOcD3DfI5qOMHK8ooWgHQAMwZrBHxYHOQCeDTUCAFb06QdLDz0T9dekshl5T6MP1y5VuA+j-EN4AgNTFJuy5osRXsh4UluJ+0vsEAZ6L4BviV4DiNjtU7SjxGIlgBzEgbHgwTkIoxSHBAIQRCCaAoQUECUU+vDaLnA5Daa2AZZrJqLnAQYnaNKVkYzuwSFLvScCZjQY-lgzVtYI4BXxxQBpEG1YYxKOnBmonSQst+QQcBtRSdWRGZjPUTwQ5iWY1u1EBuBNGOHAMYq7SGwEaICA1NNzK7WVB7tSOw4ggnK9knNRRRyF8EfjJLHk1XzE+CnUaQK0PfQhgAkQts7VYhksgHYx2N6BnYiFnSNiGfDk9j7DH1hItO8Z+wFRBwWMCPNVwG6OqtfleXQBVqoLUDcw+cDwC3wbABGC1pzkWjUQ1P5DgEl47rPr0i0kvC+y2sOGHDXzDLZWjSNkbMZLU0VaABJ3IBi424LLjAZXJWq0ezZqIZi5Y8mI7jZYiUFYtUOTuMzQvQpMUSNVzFax2NQgRL12RG4uGHoBFreAAAA1UPDD05wKePbAZ4rUCdFV1e-VXii4z1G2snRFqWAZZxFDQZI1NUgAxjerHQHsh8hTLXrjG4rUFXpR+FeMni94ra3PMCxHUGqUaDRcMrYS8FqGKx54uACXjlGbsUkiAbIG3o1kxXwTXNNI1QxzDoEiFgZxZxPXDPiUxJZm8MM4eoEKULmZ+O0i7JMMLzUYJaMM4E4E4iS9Db3XwQ0lCZfCXv1cE-EFDYdQQOQUlnhfBNOE0hKOSwS96WAFRFL4y6NbR4RfYTKlZxeMUGFqY+UkHjlYsVyL0yxZC2dFYAHMXPi+EhKz8hSxRazET9Y2sWwSo7XhPBjvIfhNUShEh2RESaDXwUkSKE3MUyx-IIsRLFahKsRgTx444gMN-IBnA8jixPMUrF8sDBKDimKHuLiMIQMQBM8N7cwIiMQksL3UCGgAJJclpAaHWM5n3EANWAEaLtCqRICO1GJ8+gp3zCTivWKJHggAA&quot;&gt;TypeScript Playground as of 2022-09-16&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;first-end-result-demo&quot; style=&quot;position:relative;&quot;&gt;First: End result demo!&lt;a href=&quot;#first-end-result-demo&quot; aria-label=&quot;first end result demo permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There is gonna be a lot of code so to peak your interest let me present you with the end result.
A UI for playing Tic-Tac-Toe on the typelevel where type errors are used to display the state of the game and provide feedback for correct play.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          Play a Game           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              of                #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #           Typelevel            #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          Tic-Tac-Toe           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              UI                #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          STARTS HERE           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// This is my attempt of a decent UX (hehe).&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 0. Select game board size (3 =&gt; 3x3, 4 =&gt; 4x4, etc) &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1. Cross will be the first to move&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Just enter coordinates as a number xy&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    (13 =&gt; Coordinate(x=1, y=3))&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The status checks below will turn RED &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// To show what state the game is in.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Illegal moves will be compile-time errors&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// with decent error messages.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Hover ___DISPLAY__ for a visual representation&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// of the current state of the game.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;display&quot; style=&quot;position:relative;&quot;&gt;Display&lt;a href=&quot;#display&quot; aria-label=&quot;display permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/4c0ca763e79315d7ea882ec739c7eff3/display_2.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;current-state-highlighting&quot; style=&quot;position:relative;&quot;&gt;Current state highlighting&lt;a href=&quot;#current-state-highlighting&quot; aria-label=&quot;current state highlighting permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/b3b4ec0e74b85401b242ff2f6d2332b5/states_of_game.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;error-handling&quot; style=&quot;position:relative;&quot;&gt;Error handling&lt;a href=&quot;#error-handling&quot; aria-label=&quot;error handling permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/1a19974e484f98d7163eb396d1252e92/errors.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;requirements&quot; style=&quot;position:relative;&quot;&gt;Requirements&lt;a href=&quot;#requirements&quot; aria-label=&quot;requirements permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you would like to give this a try yourself, here are the requirements.&lt;/p&gt;
&lt;p&gt;Design an API for a Tic-Tac-Toe board, consisting of types
representing states of the board, along with functions
&lt;code class=&quot;language-text&quot;&gt;move&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;takeMoveBack&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;whoWonOrDraw&lt;/code&gt;, and &lt;code class=&quot;language-text&quot;&gt;isPositionOccupied&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All functions must be pure&lt;/li&gt;
&lt;li&gt;All functions must return a sensible value and may not throw exceptions&lt;/li&gt;
&lt;li&gt;A move can only be made if
&lt;ul&gt;
&lt;li&gt;the game is not over&lt;/li&gt;
&lt;li&gt;the player is the current player&lt;/li&gt;
&lt;li&gt;the &lt;code class=&quot;language-text&quot;&gt;move&lt;/code&gt; is valid (i.e. not already played)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Calling &lt;code class=&quot;language-text&quot;&gt;TakeMoveBack&lt;/code&gt; on a board with no moves is a compile-time error&lt;/li&gt;
&lt;li&gt;Calling &lt;code class=&quot;language-text&quot;&gt;WhoWonOrDraw&lt;/code&gt; on a tic-tac-toe board but the game has not finished is a compile-time error&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;IsPositionOccupied&lt;/code&gt; works for in-play and completed games.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;some-extra-design-decisions&quot; style=&quot;position:relative;&quot;&gt;Some extra design decisions&lt;a href=&quot;#some-extra-design-decisions&quot; aria-label=&quot;some extra design decisions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I wanted the game to be possible to play on boards of any size, (3x3, 4x4, 5x5, etc).
To achieve this the winning positions need to be calculated from &lt;code class=&quot;language-text&quot;&gt;Size&lt;/code&gt; instead of hard-coded.
This is possible but a bit fiddly. I have not yet achieved the ability to have two games of different &lt;code class=&quot;language-text&quot;&gt;Size&lt;/code&gt; in the same project. To do that I would have to parameterize the program a bit more, this is something to try in a later version (famous last words).&lt;/p&gt;
&lt;h2 id=&quot;show-me-the-code&quot; style=&quot;position:relative;&quot;&gt;Show me the code!&lt;a href=&quot;#show-me-the-code&quot; aria-label=&quot;show me the code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Soon!… The reason this is written in TypeScript is that it’s the language I know best, and also the language I want to get better at the most but also TypeScript has a bunch of typelevel features that very few other mainstream typed languages have.&lt;/p&gt;
&lt;p&gt;We will go through the code top to bottom, except for the “UI” code, which will be left for last.
There are a lot of comments in the code that are also meant to explain the program, so I will reuse them here.&lt;/p&gt;
&lt;style&gt;
details{
 background: #ededed; 
 border-radius:5px; 
 padding: 10px;
 margin-bottom:10px;
}

summary {
  cursor: pointer;
  user-select: none;
}

&lt;/style&gt;
&lt;div style=&quot;background:rgba(255,99,71,0.8);  padding: 10px; border-radius: 10px;&quot; &gt;
  &lt;h4 style=&quot;color: yellow; margin: 0px; padding: 15px 0px;&quot;&gt;&lt;b&gt;A Note about Utils&lt;/b&gt;&lt;/h4&gt;
  &lt;div class=&quot;font &quot; style=&quot;color: #fafafa; &quot;&gt;The code contains a quite extensive section of utility functions, 
  Instead of going though all of them first, the explanation is inlined as a optional reading at first use. So if you are more interested in how to model the problem and would like to be able to take functions like &lt;b&gt;UnionToIntersection&lt;/b&gt; for granted you can. 
&lt;p&gt;But if you really want to know how that is implemented you can by clicking the arrow next to the section&lt;/p&gt;
  &lt;/div&gt;
  &lt;details&gt;
  &lt;summary&gt;Util name: Click here to expand&lt;/summary&gt;
    Here is an explanation.
  &lt;/details&gt;
&lt;/div&gt;
&lt;h1 id=&quot;capturing-the-concepts-contained-in-tic-tac-toe&quot; style=&quot;position:relative;&quot;&gt;Capturing the concepts contained in Tic-Tac-Toe&lt;a href=&quot;#capturing-the-concepts-contained-in-tic-tac-toe&quot; aria-label=&quot;capturing the concepts contained in tic tac toe permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h3 id=&quot;player&quot; style=&quot;position:relative;&quot;&gt;Player&lt;a href=&quot;#player&quot; aria-label=&quot;player permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Player&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Cross &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Circle&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;O&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Cross&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;X&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We use &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; to get the type-level information
(when you hover / or read a compile time error) to show &lt;code class=&quot;language-text&quot;&gt;Circle&lt;/code&gt;
instead  &lt;code class=&quot;language-text&quot;&gt;{__type: &quot;Circle&quot;}&lt;/code&gt; which it would do with &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;.
It makes it a bit more pretty (not much more difference than that).&lt;/p&gt;
&lt;h3 id=&quot;square&quot; style=&quot;position:relative;&quot;&gt;Square&lt;a href=&quot;#square&quot; aria-label=&quot;square permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Square&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Player &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Empty&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Empty&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;size&quot; style=&quot;position:relative;&quot;&gt;Size&lt;a href=&quot;#size&quot; aria-label=&quot;size permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ##############################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Size&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; GameSize&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##############################################&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;GameSize&lt;/code&gt; is set to &lt;code class=&quot;language-text&quot;&gt;3&lt;/code&gt; for this walk-through. &lt;/br&gt;
&lt;em&gt;(Size was here before i made the UI at the top therefore the redeclaration)&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;column--row&quot; style=&quot;position:relative;&quot;&gt;Column &amp;#x26; Row&lt;a href=&quot;#column--row&quot; aria-label=&quot;column  row permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Column and Row can potentially be different sizes&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Note: winning on the diagonal will have to change &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// If the game is not square.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Column&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ToUnion&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Size&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Row&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ToUnion&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Size&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Coordinates&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CartesianProductString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Row&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The type of &lt;code class=&quot;language-text&quot;&gt;Column&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Row&lt;/code&gt; is (in this case) &lt;code class=&quot;language-text&quot;&gt;1 | 2 | 3&lt;/code&gt;.
First, we generate numbers between &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Size&lt;/code&gt; which gives us&lt;code class=&quot;language-text&quot;&gt;[1,2,3]&lt;/code&gt;
then we turn that into a union and end up with &lt;code class=&quot;language-text&quot;&gt;1 | 2 | 3&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Coordiantes&lt;/code&gt; have the type instance of&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&quot;22&quot; | &quot;21&quot; | &quot;23&quot; | &quot;12&quot; | &quot;11&quot; | &quot;13&quot; | &quot;32&quot; | &quot;31&quot; | &quot;33&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;h5 id=&quot;utils-used&quot; style=&quot;position:relative;&quot;&gt;Utils used&lt;a href=&quot;#utils-used&quot; aria-label=&quot;utils used permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h5&gt;
&lt;!-- Arithmetic START --&gt;
&lt;details&gt;
&lt;summary&gt;Arithmetic: FromToInc, FromToDec, PlusOne, MinusOne&lt;/summary&gt;
&lt;h3&gt;Arithmetic&lt;/h3&gt;
&lt;p&gt;In a &lt;code class=&quot;language-text&quot;&gt;3x3&lt;/code&gt; game, &lt;code class=&quot;language-text&quot;&gt;11,22,33&lt;/code&gt; form a diagonal, in a &lt;code class=&quot;language-text&quot;&gt;4x4&lt;/code&gt; game the diagonal is &lt;code class=&quot;language-text&quot;&gt;11,22,33,44&lt;/code&gt;.
Any player that has one of these diagonals has won the game.&lt;/p&gt;
&lt;p&gt;To be able to derive diagonals and other winning positions from  &lt;code class=&quot;language-text&quot;&gt;Size&lt;/code&gt; we need the ability to do some
math on the typelevel. Luckily that is very possible in TypeScript.
Our needs contain only the ability to do plus and minus one. This ability will allow us to perform
typelevel recursion.&lt;/p&gt;
&lt;p&gt;With many of these more exotic recursive types, there is a limit to how far they will work and
sometimes there are issues, which means you will have to try something different.
A recursive type in TypeScript 4.5 has a max call stack of &lt;a href=&quot;https://github.com/microsoft/TypeScript/pull/45711/files#diff-d9ab6589e714c71e657f601cf30ff51dfc607fc98419bf72e04f6b0fa92cc4b8R15233&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;999&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// MinusOne&amp;lt;N&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Defined between 1 and 1000&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Take a number N&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Check if length of empty array + 1 unknown element &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// is equal to N, if it is, return length of array &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// which then is one less then N.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// If not, recursively call MinusOne with an array &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// that is one element longer.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MinusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Arr &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Arr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;length&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Arr&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;length&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MinusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Arr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// PlusOne&amp;lt;N&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Defined between 0 and 999&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Start with an array of length 0 and check if it is &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// equal to N. &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// If it is add one element to the array and return &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// it&apos;s length.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// If not recursively call PlusOne with an array that is &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// one element longer.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// This way we get N + 1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PlusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Arr &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Arr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;length&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Arr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;length&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PlusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Arr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// FromToInc&amp;lt;Lower,Higher&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Gives back an Array of all numbers &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// between Lower and Higher (inclusive)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example: FromToInc&amp;lt;1,3&gt; = [1,2,3]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;From &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
               To &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
               acc &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        From &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PlusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;To&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
          &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; acc 
          &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PlusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;From&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; To&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; From&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// FromToDec&amp;lt;Higher,Lower&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Gives back an Array of all numbers &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// between Higher and Lower (inclusive)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example: FromToDec&amp;lt;3,1&gt; = [3,2,1]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FromToDec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;From &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
              To &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
              acc &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        From &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MinusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;To&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
          &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; acc 
          &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; FromToDec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MinusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;From&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; To&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; From&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;
&lt;!-- Arithmetic END --&gt;
&lt;!-- UTIL ToUnion START --&gt;
&lt;details&gt;
&lt;summary style=&quot;cursor: pointer; user-select:none&quot;&gt;To Union&lt;/summary&gt;
&lt;h3&gt;To Union&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Example: ToUnion&amp;lt;[1,2,3]&gt; = 1 | 2 | 3&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ToUnion&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Array has a index signature of &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// something like&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So by indexing with &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt; we get back &lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt;.
See &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures&quot;&gt;index-signatures&lt;/a&gt; for more info.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ToUnion&lt;/code&gt; is purely to have a nicer API that explains better what is being done.&lt;/p&gt;
&lt;/details&gt;
&lt;!-- UTIL ToUnion END --&gt;
&lt;!-- Cartesian Product START --&gt;
&lt;details&gt;
&lt;summary&gt;Cartesian Product&lt;/summary&gt;
&lt;h3&gt;Cartesian Product&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// CartesianProduct&amp;lt;X,Y&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example: &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// CartesianProduct&amp;lt;&quot;a&quot; | &quot;b&quot;, &quot;c&quot; | &quot;d&quot;&gt; = &quot;ac&quot; | &quot;ad&quot; | &quot;bc&quot; | &quot;bd&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CartesianProductString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; ToStringableTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T2&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; ToStringableTypes &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T1&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T2&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ToStringableTypes&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; bigint&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Cartesian&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T2&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;T1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;T2&lt;/code&gt; can both be a union with multiple members.
Say&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;T1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt; 
&lt;span class=&quot;token constant&quot;&gt;T2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which gives us&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We have three choices for the first part of the string, and three choices for the second part.
So for each choice we have three other choices to choose from&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;c{&quot;d&quot; | &quot;e&quot; | &quot;f&quot;}&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we multiply the three choices for the second part, we get the cartesian product of the two initial types.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ad&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ae&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;af&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bd&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;be&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bf&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cd&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ce&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cf&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/gregberns/5e9da0c95a9a8d2b6338afe69310b945&quot;&gt;The Algebra of algebraic data types&lt;/a&gt;
Is a great resource if you want to learn more about this
and after reading that, you can see that
we need a member from both &lt;code class=&quot;language-text&quot;&gt;T1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;T2&lt;/code&gt;, so we have &lt;code class=&quot;language-text&quot;&gt;T1 * T2 choices&lt;/code&gt;.
So for our &lt;code class=&quot;language-text&quot;&gt;T1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;T2&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;&quot;a&quot; | &quot;b&quot; | &quot;c&quot;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&quot;d&quot; | &quot;e&quot; | &quot;f&quot;&lt;/code&gt;  we have
&lt;code class=&quot;language-text&quot;&gt;3 * 3 = 9 possible pairs&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Algebraic refactoring&lt;/span&gt;
 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;
 &lt;span class=&quot;token string&quot;&gt;&quot;ad&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ae&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;af&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bd&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;be&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bf&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cd&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ce&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cf&quot;&lt;/span&gt;

 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;
 &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; | &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;b$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; | &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;c$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;

 (1 + 1 + 1) * (1 + 1 + 1) = 9
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;e&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;f&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;` 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A goal in the program is that as much as possible of the types are derived from other more basic types.
The &lt;code class=&quot;language-text&quot;&gt;CartesianProduct&lt;/code&gt; function is used to produce coordinates between &lt;code class=&quot;language-text&quot;&gt;Rows&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Columns&lt;/code&gt;,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// simplified&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AllCoordinates&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  CartesianProduct&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Columns&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Rows&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Col1Row1 &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Col2Row1 &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Col1Row2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;
&lt;!-- Cartesian Product END --&gt;
&lt;h4 id=&quot;side-note&quot; style=&quot;position:relative;&quot;&gt;&lt;em&gt;Side note&lt;/em&gt;&lt;a href=&quot;#side-note&quot; aria-label=&quot;side note permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;Actually, the type of Column and Row is &lt;code class=&quot;language-text&quot;&gt;2 | 1 | 3&lt;/code&gt;.&lt;/em&gt;
&lt;em&gt;When you define a union like &lt;code class=&quot;language-text&quot;&gt;type A = 1 | 2 &lt;/code&gt; the type will become &lt;code class=&quot;language-text&quot;&gt;A = 2 | 1&lt;/code&gt; which on the typelevel is equivalent, however, in this application, we very much care about traversal order and numbers being in order so we need to do some extra tricks sometimes to combat this.&lt;/em&gt;
&lt;em&gt;Maybe TypeScript makes no guarantees on the order of union members, so by scrambling them on purpose
it hinders people from depending on something that is not part of the spec.&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;winning-positions&quot; style=&quot;position:relative;&quot;&gt;Winning positions&lt;a href=&quot;#winning-positions&quot; aria-label=&quot;winning positions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The way we are going to see if a player has won yet
is by using the fact that we know what combination of
positions are winning, if a player has all of them they have won.
Steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a union of all the winning positions&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;11&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;13&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;21&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;22&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;23&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check what the current state of all of them are&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Empty&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create an intersection those states, and remove the array/tuple&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Circle &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; Cross &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; Empty&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Circle &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; Circle &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Circle&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Circle
Circle&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Only time we get a value is when &lt;strong&gt;all three are the same&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now we can check if the player is the winner,
by checking if the intersection contains a player.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;PlayerCircle &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intersection&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// WinningPositions&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// All the winning positions for a Tic-Tac-Toe game.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [&quot;11&quot;, &quot;12&quot;, &quot;13&quot;] | [&quot;21&quot;, &quot;22&quot;, &quot;23&quot;] | ...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinningPositions&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Rows&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; GetRowPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Row&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Columns&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; GetColumnPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Row&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Diagonals&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; GetDiagonalPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Size&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ###################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #### Winning Positions Helpers ####&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ###################################&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetRowPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Row&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Row&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;CartesianProductString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetColumnPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Row&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Column&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;CartesianProductString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetDiagonalPositions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Size&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    StringConcatTuples&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Diagonals&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Only first type parameter is allowed to be supplied&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Diagonals&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      Size &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      _FromToSize &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Size&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      _SizeToFrom &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FromToDec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Size&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  
    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;_FromToSize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _FromToSize&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;_FromToSize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _SizeToFrom&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;WinningPositions&lt;/code&gt; is just the union of all positions that are winning. A position for us is just a combination(array) of coordinates. &lt;em&gt;(A chess position is not just a bunch of squares but also the pieces on those squares so maybe &lt;code class=&quot;language-text&quot;&gt;WinningPositions&lt;/code&gt; is not the best name).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;GetRowPositions&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;GetColumnPositions&lt;/code&gt; “iterates” through either row or column and
then creates the Cartesian product between those values.
In code, it would read something like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Row&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCatesianProduct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Column&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So the output is &lt;code class=&quot;language-text&quot;&gt;[&quot;11&quot;, &quot;21&quot;, &quot;31&quot;] | [&quot;21&quot;, &quot;22&quot;, &quot;23&quot;] ...&lt;/code&gt; for &lt;code class=&quot;language-text&quot;&gt;Row&lt;/code&gt; for example.
When you do &lt;code class=&quot;language-text&quot;&gt;R extends Row ? ... | ...&lt;/code&gt; in TypeScript, that is “looping” over &lt;code class=&quot;language-text&quot;&gt;R&lt;/code&gt; and creating a union of all the results.
The details of this are discussed in great detail in the &lt;a href=&quot;#union-to-intersection&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;UnionToIntersection&lt;/code&gt;&lt;/a&gt; util explanation.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Diagonals&lt;/code&gt;  have two parameters that are not allowed to be used when calling the type-level function.
This is so they can be used to bind the result of a typelevel function to allow for reuse in the function body.&lt;/p&gt;
&lt;p&gt;Here we are generating two arrays &lt;code class=&quot;language-text&quot;&gt;[1,2,3]&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;[3,2,1]&lt;/code&gt; and then we do two &lt;code class=&quot;language-text&quot;&gt;Zip&lt;/code&gt; operations&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which produces &lt;code class=&quot;language-text&quot;&gt;[[1,1],[2,2],[3,3]]&lt;/code&gt;
and &lt;code class=&quot;language-text&quot;&gt;[[1,3],[2,2],[3,1]]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;We then turn each tuple into strings using &lt;code class=&quot;language-text&quot;&gt;StringConcatTuples&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;GetDiagonalPositions&lt;/code&gt;. Resulting in
&lt;code class=&quot;language-text&quot;&gt;[&quot;11&quot;, &quot;22&quot;, &quot;33&quot;]&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;[&quot;13&quot;, &quot;22&quot;, &quot;31&quot;]&lt;/code&gt;.&lt;/p&gt;
&lt;h5 id=&quot;utils-used-1&quot; style=&quot;position:relative;&quot;&gt;Utils used&lt;a href=&quot;#utils-used-1&quot; aria-label=&quot;utils used 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h5&gt;
&lt;!-- ZIP START --&gt;
&lt;details&gt;
&lt;summary&gt;Zip&lt;/summary&gt;
&lt;h3&gt;Zip&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Zip two arrays together&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example: &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Zip&amp;lt;[1,2,3],[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&gt; = [[1,&quot;a&quot;],[2,&quot;b&quot;],[3,&quot;c&quot;]]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      Acc &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Head&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Tail&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Head2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Tail2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
  Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Tail&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Tail2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;Acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Head&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Head2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Acc  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Acc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Zip is a quite simple recursive function looking very much like the code version would, there is some neater ways where you would infer both heads and tails at once.
&lt;a href=&quot;https://github.com/type-challenges/type-challenges/issues/4495&quot;&gt;https://github.com/type-challenges/type-challenges/issues/4495&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But with that implementation TypeScript fails to do type inferencinging later in the program.&lt;/p&gt;
&lt;/details&gt;
&lt;!-- ZIP END --&gt;
&lt;!-- String Concat Tuples START --&gt;
&lt;details&gt;
&lt;summary&gt;String Concat Tuples&lt;/summary&gt;
&lt;h3&gt;String Concat Tuples&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Join tuples together to strings&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Example: &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// StringConcatTuples&amp;lt;[[1,2],[3,4]]&gt; = [&quot;12&quot;,&quot;34&quot;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StringConcatTuples&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;StringConcatTuples&lt;/code&gt; is so we can use coordinates as keys, and do a lookup from coordinate to a square.&lt;/p&gt;
&lt;p&gt;We use &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/2/mapped-types.html&quot;&gt;mapped types&lt;/a&gt;
since it allows us to loop over the members in a type
&lt;code class=&quot;language-text&quot;&gt;keyof&lt;/code&gt; gives us a type that is the union of all the &lt;code class=&quot;language-text&quot;&gt;keys&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt;.&lt;/p&gt;
&lt;/details&gt;
&lt;!-- String Concat Tuples END --&gt;
&lt;h3 id=&quot;board&quot; style=&quot;position:relative;&quot;&gt;Board&lt;a href=&quot;#board&quot; aria-label=&quot;board permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Fundamental data type of the game.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Board contains a mapping from Coordinate to Square&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// A Square is either Empty, Cross, or Circle.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Board&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;s &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; Coordinates&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Square &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;game-states&quot; style=&quot;position:relative;&quot;&gt;Game States&lt;a href=&quot;#game-states&quot; aria-label=&quot;game states permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// The game can be in one of three states:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1. Round in progress&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Won&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 3. Draw&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameStates&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;round&quot; style=&quot;position:relative;&quot;&gt;Round&lt;a href=&quot;#round&quot; aria-label=&quot;round permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ###################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ####           Round           ####&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ###################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// A Round has a bunch of Squares and a Player that is next &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// to move. It also has a previous Round or Nil, &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// to be able to allow for undoing moves.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Nil
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HasPrevious&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  __tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;round&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  board&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  nextToMove&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Nil&lt;/span&gt;    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Nil&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// We separate our HasPrevious interface from the &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Round interface.To be able to use it in other interfaces.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// And have type level functions where the only &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// constraint is that it has the HasPrevious interface.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HasPrevious&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  previous&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;winner&quot; style=&quot;position:relative;&quot;&gt;Winner&lt;a href=&quot;#winner&quot; aria-label=&quot;winner permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  PrevR &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Curr &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HasPrevious&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrevR&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  __tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;winner&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  winningPosition&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Curr&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  winner&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;draw&quot; style=&quot;position:relative;&quot;&gt;Draw&lt;a href=&quot;#draw&quot; aria-label=&quot;draw permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HasPrevious&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;__tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;draw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;initial-board--round&quot; style=&quot;position:relative;&quot;&gt;Initial board &amp;#x26; round&lt;a href=&quot;#initial-board--round&quot; aria-label=&quot;initial board  round permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitialBoard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; Board&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Empty &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitialRound&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialBoard&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Nil&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;game-state-helpers&quot; style=&quot;position:relative;&quot;&gt;Game State Helpers&lt;a href=&quot;#game-state-helpers&quot; aria-label=&quot;game state helpers permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; GameStates&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
                    &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;
                  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;
                  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;
                  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;game-actions&quot; style=&quot;position:relative;&quot;&gt;Game actions&lt;a href=&quot;#game-actions&quot; aria-label=&quot;game actions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h3 id=&quot;move&quot; style=&quot;position:relative;&quot;&gt;Move&lt;a href=&quot;#move&quot; aria-label=&quot;move permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;There is only one action, it’s to make a move.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Last two arguments are not allowed to be passed in, &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// It&apos;s used to reduce duplication in the function body.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  CurrentRound &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Board&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Position &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; AvailableSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CurrentRound&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;board&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  _NextBoard &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    SetSquare&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CurrentRound&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;board&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Position&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  _NextRound &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;_NextBoard&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GetNextPlayer&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CurrentRound&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
HasWon&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_NextRound&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CurrentRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _NextBoard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; NoMoreSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;_NextBoard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CurrentRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _NextBoard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; _NextRound&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Move steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Check if the position is part of &lt;code class=&quot;language-text&quot;&gt;AvailableSquares[CurrentRound[&apos;board&apos;]]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create two variables, which are the board and round after the move has been applied
&lt;code class=&quot;language-text&quot;&gt;_NextBoard&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;_NextRound&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Check if player has won in the &lt;code class=&quot;language-text&quot;&gt;_NextRound&lt;/code&gt;, if &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; return &lt;code class=&quot;language-text&quot;&gt;Winner&amp;lt;P, ...&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Check if the game will have no more squares after this move, if true return &lt;code class=&quot;language-text&quot;&gt;Draw&amp;lt;...&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Else return next Round.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;game-state-functions&quot; style=&quot;position:relative;&quot;&gt;Game state functions&lt;a href=&quot;#game-state-functions&quot; aria-label=&quot;game state functions permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h3 id=&quot;available-squares&quot; style=&quot;position:relative;&quot;&gt;Available Squares&lt;a href=&quot;#available-squares&quot; aria-label=&quot;available squares permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Squares that are possible to play on&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AvailableSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coordinate &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coordinate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Empty&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
        Coordinate 
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;AvailableSquares&lt;/code&gt; loops through the coordinates and replaces every square with either the &lt;code class=&quot;language-text&quot;&gt;Coordinate&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token string-property property&quot;&gt;&quot;11&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token string-property property&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We then lookup all values for all keys with &lt;code class=&quot;language-text&quot;&gt;[keyof B]&lt;/code&gt; this produces a union like
&lt;code class=&quot;language-text&quot;&gt;never | &quot;12&quot; | ... &lt;/code&gt; and since &lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt; represents the absence of a value.
&lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt; gets removed from unions leaving only the squares that are possible to play.&lt;/p&gt;
&lt;h3 id=&quot;get-next-player&quot; style=&quot;position:relative;&quot;&gt;Get next player&lt;a href=&quot;#get-next-player&quot; aria-label=&quot;get next player permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Toggles between the players&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetNextPlayer&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Cross&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Circle &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;set-square&quot; style=&quot;position:relative;&quot;&gt;Set square&lt;a href=&quot;#set-square&quot; aria-label=&quot;set square permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Find and replace what is on a square, by looping through all coordinates
until we find the one we want to set.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Sets a Square to a Player&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SetSquare&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CoordinateToSet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Player&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coord &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Coord &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CoordinateToSet&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
      Player 
    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coord&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;no-more-squares&quot; style=&quot;position:relative;&quot;&gt;No more squares&lt;a href=&quot;#no-more-squares&quot; aria-label=&quot;no more squares permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If the &lt;code class=&quot;language-text&quot;&gt;Board&lt;/code&gt; extends &lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt; that means there was nothing in the union
returned by &lt;code class=&quot;language-text&quot;&gt;AvailableSquares&amp;lt;B&gt;&lt;/code&gt;, thus there are no more squares to play on.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoMoreSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  AvailableSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;get-winner&quot; style=&quot;position:relative;&quot;&gt;Get winner&lt;a href=&quot;#get-winner&quot; aria-label=&quot;get winner permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// If there is a winner in the Squares provided then &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// the winner is returned.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetWinner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
   UniqueInSequence&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;LookupCoordinates&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinningPositions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// LookupPosition returns the state of the squares &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// at each position listed&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// [&quot;11&quot;, &quot;12&quot;, &quot;13&quot;] | ... -&gt; [Circle, Circle, Circle] | ..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LookupCoordinates&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
        Coords &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Coordinates&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; Coords &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coords&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// If there is any Array that contains only the same element&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// then that element will be returned&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UniqueInSequence&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
    UnionToIntersection&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We use the &lt;code class=&quot;language-text&quot;&gt;WinningPositions&lt;/code&gt; together with a &lt;code class=&quot;language-text&quot;&gt;Board&lt;/code&gt; to look up the state of all those winning tuples.
We then see if any of those tuples of coordinates only contain one player.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;GetWinner&lt;/code&gt; might not be the perfect name, because it gives back whatever is unique in a winning set of squares so for example it would return &lt;code class=&quot;language-text&quot;&gt;Empty&lt;/code&gt; for the initial board.
&lt;em&gt;(So the game starts out with &lt;code class=&quot;language-text&quot;&gt;Empty&lt;/code&gt; as a winner one could say)&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&quot;utils-used-2&quot; style=&quot;position:relative;&quot;&gt;Utils used&lt;a href=&quot;#utils-used-2&quot; aria-label=&quot;utils used 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;!-- Union To Intersection START --&gt;
&lt;details id=&quot;union-to-intersection&quot;&gt;
&lt;summary&gt;Union To Intersection (very long!)&lt;/summary&gt;
&lt;h3&gt;Union To Intersection&lt;/h3&gt;
&lt;p&gt;This is going to be the longest explanation in the whole post (it even has a quiz!)
so bear with me. I think this can be very instructive if you don’t already know all this
at a deep level. This was very useful for me to write if nothing else.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// UnionToIntersection&amp;lt;X&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Takes a union like `A | B | C` and &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// returns an intersection like `A &amp;amp; B &amp;amp; C`&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UnionToIntersection&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  _PutUnionMembersIntoFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; 
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
          &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt; 
          &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The creator of &lt;code class=&quot;language-text&quot;&gt;UnionToIntersection&lt;/code&gt; is as far as i know &lt;a href=&quot;https://github.com/microsoft/TypeScript/issues/29594#issuecomment-507673155&quot;&gt;Jcalz&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It’s not much code is it, but there is a lot to unpack! and it’s worthy of a through
explanation.
The function has been somewhat of a debated topic, if it’s a hack or not?, and if it should be included in official &lt;code class=&quot;language-text&quot;&gt;lib.d.ts&lt;/code&gt; or not.
I’m most certainly don’t think this is a hack at all, if this would break in a future version of
TypeScript, i think that would break a lot of other things too.&lt;/p&gt;
&lt;p&gt;Sources where i learned about this function&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type/50375286#50375286&quot;&gt;https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type/50375286#50375286&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/microsoft/TypeScript/issues/29594#issuecomment-507673155&quot;&gt;https://github.com/microsoft/TypeScript/issues/29594#issuecomment-507673155&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are two parts to the &lt;code class=&quot;language-text&quot;&gt;UnionToIntersection&lt;/code&gt; function and i will go through them separately now.&lt;/p&gt;
&lt;h3 id=&quot;part-1&quot; style=&quot;position:relative;&quot;&gt;PART 1&lt;a href=&quot;#part-1&quot; aria-label=&quot;part 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is using &lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; as a ‘naked’ type parameter.
Seems this lingo is no longer part of the &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#distributive-conditional-types&quot;&gt;official docs&lt;/a&gt;, which is a shame,
will make it harder to understand, why things act like they do.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/51651499/typescript-what-is-a-naked-type-parameter&quot;&gt;Naked type parameters distributes over a union&lt;/a&gt;.
This means the conditional part will be applied to each member of the union.
and the result will be a union of all applications of the conditional.
)&lt;/p&gt;
&lt;p&gt;Let me show you.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; 
        &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _PutUnionMembersIntoFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;replacement-steps-naked-type-param&quot; style=&quot;position:relative;&quot;&gt;Replacement steps naked type param&lt;a href=&quot;#replacement-steps-naked-type-param&quot; aria-label=&quot;replacement steps naked type param permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To Replace &lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; with supplied type &lt;code class=&quot;language-text&quot;&gt;ABC&lt;/code&gt; in the body
of &lt;code class=&quot;language-text&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;/code&gt;
check if &lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; is ‘clothed’ or ‘naked’.
&lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; is naked do a replacement for each member in
&lt;code class=&quot;language-text&quot;&gt;ABC&lt;/code&gt; and make a union of the results.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt; 
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt; 
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Which simplifies to&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;common-error&quot; style=&quot;position:relative;&quot;&gt;Common error&lt;a href=&quot;#common-error&quot; aria-label=&quot;common error permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Many people (including myself in the past) think that a type parameter
get’s inlined into the type level function like.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;---------this-is-wrong---------&quot; style=&quot;position:relative;&quot;&gt;&lt;strong&gt;-------- THIS IS WRONG! --------&lt;/strong&gt;&lt;a href=&quot;#---------this-is-wrong---------&quot; aria-label=&quot;         this is wrong          permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;To get that behavior, the type parameter need to be ‘clothed’.&lt;/p&gt;
&lt;h4 id=&quot;clothed-example&quot; style=&quot;position:relative;&quot;&gt;Clothed example&lt;a href=&quot;#clothed-example&quot; aria-label=&quot;clothed example permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;_PutInFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 
        &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _PutInFunctionArgumentPosition&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;replacement-steps-clothed-type-param&quot; style=&quot;position:relative;&quot;&gt;Replacement steps clothed type param&lt;a href=&quot;#replacement-steps-clothed-type-param&quot; aria-label=&quot;replacement steps clothed type param permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To Replace &lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; with supplied type &lt;code class=&quot;language-text&quot;&gt;ABC&lt;/code&gt; in the body of
&lt;code class=&quot;language-text&quot;&gt;_PutInFunctionArgumentPosition&lt;/code&gt; check if &lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; is ‘clothed’ or ‘naked’.
&lt;code class=&quot;language-text&quot;&gt;U&lt;/code&gt; is ‘clothed’ so do the replacement &lt;strong&gt;inline&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Which simplifies to&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;(k: &quot;a&quot; | &quot;b&quot; | &quot;c&quot;) =&gt; void&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;quiz&quot; style=&quot;position:relative;&quot;&gt;QUIZ&lt;a href=&quot;#quiz&quot; aria-label=&quot;quiz permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To test yourself on the difference between ‘naked’ and ‘clothed’,
Think of the results of &lt;code class=&quot;language-text&quot;&gt;Inline&lt;/code&gt; and calling the functions
with &lt;code class=&quot;language-text&quot;&gt;ABC&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ABC3&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;ABC3&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ABC_Inline_Extends_A&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;   &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                                     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ABC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Naked_Extends_A&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;  &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;   &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                                     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Naked_Extends_String&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;  &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;  &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                                     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Clothed_Extends_String&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                                     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;quiz-answers&quot; style=&quot;position:relative;&quot;&gt;QUIZ Answers&lt;a href=&quot;#quiz-answers&quot; aria-label=&quot;quiz answers permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/play?#code/PTAEBEEsGcGMBsCGkC2BTATgLlAFwBYyhEAOGA9gEaKXwCeoAdubqGgB6Ky72j7kB3YqwHkMAa2gBYAFAhQAIQCuIsZNCJoG0Oka5E8HeQAmaeLNm46JNKACCCgMKhQAXlAAiRB9AAfT5Q+-h6wHpbWtg6OAMxu9k5+oNEWMlY28Y4A+gCSjPCQjGiZAKLsuGiMxtCZdi51cVFsZRVVdV4+dQD8oAAU4jhRAJRuAHygAG7kkMagOIXjmOHpAHKI4mjGJc2V1XYAPAAqY-V17qAHLhzlO23e9d19OOegw65jk9OzTGgLGEu2q3Wm1K1yqmQAyrgMAUAOaHY5xZ5NUFaUDQKGwlwPfouC6vd5TGZzH6LVIRUCOeAsfAbLYoiEYxhwo5xADaBwAusiWlpWejoUyudinnjRhNCV95qT-qBcvlCgAlNDQJTwXBadxRHJ5ApFEE8mqyEBGsAK4rggCqABkDsTfiaTaBigANAAKVrsyzsB2yAHlllhHQBaEOhsPhiNhx0HQhaaD8ARaOjkJR4fCIViNAQ0xjEHWFGZEZisWDkRjQaaYDagADkjDWGxrjug5GEoGM5GVTBYoBhaFYxhgGMoKmrKdwADpHY0rjzPHdhRl8eLPnbpWT0gqAAxxQG0-U7Gp7KJjB1yU3m6223o49rLj7GM-yF3uz3ev0B4OR78-x3FBa5gQKYwvgbYoJAIGsAAZmgZigPk6xprYBBEPGKbwDMlC2GgACOSiQOMBgVKwjq4K2BC2HKuoaJQ5ALAANKA2YVKApblpWAowkhaI2LAkBQZAsCgEojCQGWTG2OmCxTue5w0ng5IkIgGCIOg5QYL2-Y1log78pAI7lDM46gHRmDcWxg64GJ9bmLJFaMLAyHyWkthKSpalmRcRB1g2xg1jJxqyXuwLbGC+wnk+ppoCQSCOc8AiQAQaJKCQMWQNWLkZIxXlaPWQJoq2HbaBg0WxWgui4I6UFiGwXCgegKBYRpBQZBolQ6A22gidZJlQdxJUqmq0ABcAjouO03I3BNi53mKD6SiSfyycEgSTa0003jgHiBPeEprkt8jBKEa1aBtjyeKEu2rt89rnpFm3zh4V0zP4Uoaa9i33eds1vCuj53bJ2R9RRCnpG5qn9mZRa+RJrGIIBhCMOIvXcSDFYoGlAmwBmPUIU5MCOgAYiJsB7BNK1BBdHgjETJNk94Yz+MTDlk4EjOgMzpMhNTjrKKwkDtmWNasCVBi8HjaYZox9lxQQGagFhUliUozU6dFLTESZCO2KR5KoDF5XETjZYjbKoAqRRGnQLBbaaNo1upZgGa2CVMVcIbejm6qtjVRpNYHDWoCOtQ1tGbmCbPEQSih3m3G0cYDDkMD8lQSTVkmykmUKgAjLuvl0gakKcceTg0wD8hmpaNpPN93jPUHsknC4-jfTtc2EmNTct7el3t9M90vh6Xo+v6gayT+E8Ro6wUF4eRewiXjhl4FFele78WJaBKqpfkGXklE2XELlMMtoLxVr45FVVTVaB1To5VNbHjTwzMKCdYgwmieJSf9cqqrqiNTuE1Zw3D0kyUAM0659yJDdUkh0Ag+BAa0MBXEZpt1+vNfajojqINCnGRkqCHrc3rlg8uYAXC1yetAhu8DW5UIwR3ZaRDe4MP7gDGUCoABMcRKTUn3HghkxcIpkNAJXK8OBzpDGgQPN0Q93yjy-JPJRjpeEURCvSeeTJF7L1GrJJUbs4oXASklbeaU97pAPpHLQCA+EzFPkVD+jpXZlQqnmeUaBAGyVZFELkSDeQoKFA9KRrCYFvS+jiYJBI2EcNiO4GeB4wSaLhFEaIOjRGXmrhQ28UCQk0PIV3Ih6Con-XkE3RI30WHFJka+YeH4x7yCUY0oBdw-FogIRAohOTikLVuvA7auCURtM4h0uhJDYEHTADgk6QzMQzUqX9HpcDJkuFiNMlBIycRJBeNQ0hK98mUPrtgwp9CqlMIqScv6RywkiKyVtLpCyjmjOkWcnuFyHyZ3JAqAALDwqkajZ6JIIYvVJjoxGZOuXsp0si3wj0-OPRpk9HSsgyLEXxeDQB8gIYEyRTgxkQt0fIN6QA&quot; target=&quot;_blank&quot;&gt;Typescript Quiz Answers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt;
&lt;em&gt;If we would change the type of &lt;code class=&quot;language-text&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&lt;/code&gt; to be
&lt;code class=&quot;language-text&quot;&gt;(k: U) =&gt; void&lt;/code&gt;, we would also get &lt;code class=&quot;language-text&quot;&gt;(k: &quot;a&quot; | &quot;b&quot; | &quot;c&quot;) =&gt; void&lt;/code&gt;.
We need the &lt;code class=&quot;language-text&quot;&gt;U extends any ?&lt;/code&gt; to distribute the union.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Moving on…&lt;/p&gt;
&lt;h3 id=&quot;part-2&quot; style=&quot;position:relative;&quot;&gt;PART 2&lt;a href=&quot;#part-2&quot; aria-label=&quot;part 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PART1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So Part 1 gave use the result&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;  
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are not replacing any type-parameter in PART2, so we can just
inline the results from calling &lt;code class=&quot;language-text&quot;&gt;_PutUnionMembersIntoFunctionArgumentPosition&amp;lt;U&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
   &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
   &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(If you have not heard about &lt;code class=&quot;language-text&quot;&gt;infer&lt;/code&gt; before look at these docs.
&lt;a href=&quot;https://learntypescript.dev/09/l2-conditional-infer&quot;&gt;https://learntypescript.dev/09/l2-conditional-infer&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;We are saying here that there is a function&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;that can be either&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
  &lt;span class=&quot;token function&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
  &lt;span class=&quot;token function&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;It’s not the argument to the function that can be &lt;code class=&quot;language-text&quot;&gt;&quot;a&quot; | &quot;b&quot; | &quot;c&quot;&lt;/code&gt;.
There are three separate functions with those argument, and we DON’T know which one we will have.&lt;/strong&gt;
Therefore ghe only &lt;strong&gt;SAFE&lt;/strong&gt; argument to&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;the intersection of all possible arguments.&lt;/p&gt;
&lt;p&gt;That might had been a bit confusing, so let’s look at one example&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HasName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HasAge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; func &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we now want to call &lt;code class=&quot;language-text&quot;&gt;func&lt;/code&gt; what argument do we need to give it ?&lt;/p&gt;
&lt;p&gt;Well we don’t know if &lt;code class=&quot;language-text&quot;&gt;T&lt;/code&gt; is&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HasName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 
&lt;span class=&quot;token function&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HasAge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we need to call &lt;code class=&quot;language-text&quot;&gt;func&lt;/code&gt; with an argument &lt;strong&gt;that is both&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dog&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HasName &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; HasAge
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dog &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Dog &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createDog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Fido&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dog&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Thank AnyHowStep for this &lt;a href=&quot;https://github.com/microsoft/TypeScript/issues/29594#issuecomment-507701193&quot;&gt;answer&lt;/a&gt; that helped me write this section&lt;/em&gt;&lt;/p&gt;
&lt;/details&gt;
&lt;!-- Union To Intersection END --&gt;
&lt;h3 id=&quot;has-won&quot; style=&quot;position:relative;&quot;&gt;Has Won&lt;a href=&quot;#has-won&quot; aria-label=&quot;has won permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HasWon&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetWinner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;squares&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;extra-functions-from-requirements&quot; style=&quot;position:relative;&quot;&gt;Extra functions from requirements&lt;a href=&quot;#extra-functions-from-requirements&quot; aria-label=&quot;extra functions from requirements permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h3 id=&quot;who-won-or-draw-&quot; style=&quot;position:relative;&quot;&gt;Who won or draw ?&lt;a href=&quot;#who-won-or-draw-&quot; aria-label=&quot;who won or draw  permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Just a function that gives back a string informing
who won or if it’s a draw, only possible to call when the game state is
either &lt;code class=&quot;language-text&quot;&gt;Draw&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;Winner&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WhoWonOrDraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Player&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  state&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; PlayerWinnerString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; DrawString&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawString&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The game was a draw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PlayerWinnerString&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Circle&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
    CircleWonString
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; CrossWonString
  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CircleWonString&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Circle Won the game&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrossWonString&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cross Won the game&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;take-move-back&quot; style=&quot;position:relative;&quot;&gt;Take move back&lt;a href=&quot;#take-move-back&quot; aria-label=&quot;take move back permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Any round except the initial round has a previous round.
This function gives back that previous round.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TakeMoveBack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
        &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; HasPrevious&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;previous&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;is-position-occupied&quot; style=&quot;position:relative;&quot;&gt;Is position occupied?&lt;a href=&quot;#is-position-occupied&quot; aria-label=&quot;is position occupied permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IsPositionOccupied&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;RW&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Coord &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Coordinates&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; GetBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RW&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Coord&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Empty&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;That is all the code related to the fundamentals of the game!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There is some extra code for the ‘Game UI’ to play the game in a nicer
way than you will see in the tests.
We will go through that code last.&lt;/p&gt;
&lt;h1 id=&quot;tests&quot; style=&quot;position:relative;&quot;&gt;Tests&lt;a href=&quot;#tests&quot; aria-label=&quot;tests permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Note, since these are &lt;code class=&quot;language-text&quot;&gt;typelevel&lt;/code&gt; tests we want to be able
to test that we do get &lt;code class=&quot;language-text&quot;&gt;type-errors&lt;/code&gt;, when we should while
allowing the program to compile. TypeScript gives us this handy comment we can use to check for type errors.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@ts-expect-error&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-9.html#-ts-expect-error-comments&quot; target=&quot;__blank&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@ts-expect-error&lt;/code&gt;&lt;/a&gt; gives an error if there is &lt;strong&gt;no&lt;/strong&gt; error.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;I have hidden the tests in a collapsible section, so you can skip them if you want.&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;test-utils&quot; style=&quot;position:relative;&quot;&gt;Test Utils&lt;a href=&quot;#test-utils&quot; aria-label=&quot;test utils permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;To be able to write any useful tests we need &lt;code class=&quot;language-text&quot;&gt;equality&lt;/code&gt;! How do you check if two types are Equal?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Once again type-challenges to the rescue!&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;Equal&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Expect&lt;/code&gt; functions used in the tests have been taken directly from
&lt;a href=&quot;https://github.com/type-challenges/type-challenges/blob/master/utils/index.d.ts&quot; target=&quot;__blank&quot;&gt;
type-challenges
&lt;/a&gt;
repo.&lt;/p&gt;
&lt;h4 id=&quot;equal&quot; style=&quot;position:relative;&quot;&gt;Equal&lt;a href=&quot;#equal&quot; aria-label=&quot;equal permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
Check &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; two types are equal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;Y&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For full discussion around this function see this  &lt;a href=&quot;https://github.com/Microsoft/TypeScript/issues/27024#issuecomment-421529650&quot; target=&quot;__blank&quot;&gt;TypeScript issue&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;…It relies on conditional types being deferred when T is not known.
Assignability of deferred conditional types relies on an internal isTypeIdenticalTo check,
which is only true for two conditional types if:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Both conditional types have the same constraint&lt;/li&gt;
&lt;li&gt;The true and false branches of both conditions are the same type&lt;/li&gt;
&lt;/ul&gt;
&lt;a href=&quot;https://github.com/Microsoft/TypeScript/issues/27024#issuecomment-510924206&quot;&gt;
- fatcerberus&lt;/a&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;expect&quot; style=&quot;position:relative;&quot;&gt;Expect&lt;a href=&quot;#expect&quot; aria-label=&quot;expect permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Expect&amp;lt;T&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Give type-level error if T is not true&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;details&gt;
&lt;summary&gt;Show Test Cases&lt;/summary&gt;
&lt;h3&gt;Test cases&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #         Correct strings        #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CircleWonStringTest&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
          ReturnType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WhoWonOrDraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleFinal&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
          CircleWonString
          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrossWonStringTest&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
          ReturnType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WhoWonOrDraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossFinal&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
          CrossWonString
          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStringTest&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
          ReturnType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WhoWonOrDraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawFinal&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
          DrawString
          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #         No double moves        #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoDoubleMove&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
                      Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                                         Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;13&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #      No start with Circle      #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoStartWithCircle&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #      No taking a used square   #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoTakingAUsedSquare&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                    Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #  InitialRound has no previous  #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #  Don&apos;t allow to take too many  #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #           moves back           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NotToManyMovesBack&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TakeMoveBack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #         Making a move          #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #       and taking it back       #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #   Gives back the start state   #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MoveOne&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BackToNormal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TakeMoveBack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MoveOne&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Outcome&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    BackToNormal
  &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BackFromDraw&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
                      Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
                        TakeMoveBack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawFinal&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                        DrawStep8
                           &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BackFromWin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
                      Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
                        TakeMoveBack&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossFinal&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                        WinCrossStep4
                            &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #       IsPositionOccupied       #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Test&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;IsPositionOccupied&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossFinal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Test2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    IsPositionOccupied&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossFinal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Test3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    IsPositionOccupied&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Test4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    IsPositionOccupied&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #    GAME That ends in a draw    #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;13&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;23&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep3&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep4&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;22&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep6&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep5&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep7&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep6&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;32&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawStep8&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep7&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;31&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawFinal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;DrawStep8&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;21&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawOutcome&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DrawFinal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #     GAME That Cross Wins       #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossStep1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;13&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossStep2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossStep1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossStep3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossStep2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossStep4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossStep3&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;21&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossFinal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCrossStep4&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;23&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCrossOutcome&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
   WinCrossFinal&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;winner&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross
&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              TEST              #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #     GAME That Circle Wins      #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleStep1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;13&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleStep2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleStep1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;11&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleStep3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleStep2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;33&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleStep4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleStep3&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;21&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleStep5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleStep4&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;22&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleFinal&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WinCircleStep5&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;31&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WinCircleOutcome&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Expect&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Equal&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
   WinCircleFinal&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;winner&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Circle
&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;
&lt;h1 id=&quot;ui&quot; style=&quot;position:relative;&quot;&gt;UI&lt;a href=&quot;#ui&quot; aria-label=&quot;ui permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;I know it’s a bit silly to call this a UI, but hey, it gives you visual indications
of the state of the game and yells at what you are doing wrong if you
try to play the game incorrectly.
So that is a rudimentary UI.&lt;/p&gt;
&lt;h4 id=&quot;display-1&quot; style=&quot;position:relative;&quot;&gt;Display&lt;a href=&quot;#display-1&quot; aria-label=&quot;display 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;/4c0ca763e79315d7ea882ec739c7eff3/display_2.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;current-state-highlighting-1&quot; style=&quot;position:relative;&quot;&gt;Current state highlighting&lt;a href=&quot;#current-state-highlighting-1&quot; aria-label=&quot;current state highlighting 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;/b3b4ec0e74b85401b242ff2f6d2332b5/states_of_game.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;error-handling-1&quot; style=&quot;position:relative;&quot;&gt;Error handling&lt;a href=&quot;#error-handling-1&quot; aria-label=&quot;error handling 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;/1a19974e484f98d7163eb396d1252e92/errors.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;UI Display Code that was shown at the beginning of the post&lt;/summary&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// To play along&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Copy the code into the TypeScript playground&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// https://www.typescriptlang.org/play&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          Play a Game           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              of                #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #           Typelevel            #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          Tic-Tac-Toe           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              UI                #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          STARTS HERE           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// This is my attempt of a decent UX (hehe).&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 0. Select game board size (3 =&gt; 3x3, 4 =&gt; 4x4, etc) &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1. Cross will be the first to move&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Just enter coordinates as number &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    (13 =&gt; Coordinate(x=1, y=3))&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The status checks below will turn RED &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// To show what state the game is in.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Illegal moves will be compile-time errors&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// with decent error messages.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Hover ___DISPLAY__ for a visual representation&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// of the current state of the game.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameSize&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;____________DISPLAY___________&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameStatus&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  CrashOrPass&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;SetError&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  GameLoop&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  Ongoing game&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 13,23,33&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Draw &lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 13, 23, 33, 12, 22, 11, 32, 31, 21&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//  Cross Win&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  11, 32, 22, 12, 33 &lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//  Circle Win&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  13, 11, 23, 22, 12, 33&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//  Play a taken position&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  11, 11&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//  Malformed move&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  11, &quot;Hello&quot;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Illegal move&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  55&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//  Play moves after game is won&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  11, 32, 22, 12, 33 13&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&gt;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;/**********@ts-expect-error*******/&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_______GAME_YET_TO_START______&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        GameYetToStart&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**********@ts-expect-error*******/&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;________GAME_IS_ONGOING_______&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        GameIsOngoing&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**********@ts-expect-error*******/&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;________GAME_IS_A_DRAW________&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        TheGameIsADraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**********@ts-expect-error*******/&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;________CROSS_HAS_WON_________&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
         CrossHasWon&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**********@ts-expect-error*******/&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_______CIRCLE_HAS_WON_________&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        CircleHasWon&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   ##############################&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #           Typelevel            #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #          Tic-Tac-Toe           #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #              UI                #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #           ENDS HERE            #&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// #--------------------------------#&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ##################################&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/details&gt;
&lt;h3 id=&quot;ui-code&quot; style=&quot;position:relative;&quot;&gt;Ui Code&lt;a href=&quot;#ui-code&quot; aria-label=&quot;ui code permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&quot;ui-helpers&quot; style=&quot;position:relative;&quot;&gt;UI Helpers&lt;a href=&quot;#ui-helpers&quot; aria-label=&quot;ui helpers permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// &apos;d&apos; is just to hide the variable as &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// much as possible in the UI above&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ShowBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GetBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GameStatus&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// These are functions give type errors when the game is &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// not in their state.Then we combine that with &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @ts-expect-error to flip that behavior&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TheGameIsADraw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Draw&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrossHasWon   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CircleHasWon  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Circle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameIsOngoing &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; 
                    Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameYetToStart&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; InitialRound&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I use &lt;code class=&quot;language-text&quot;&gt;@ts-expect-error&lt;/code&gt; to turn the type errors around. So it shows an error when the types actually type check.
That is useful here, in the absence of something like “extends everything except X”.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrossHasWon&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Not&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Winner&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Cross&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;game-loop&quot; style=&quot;position:relative;&quot;&gt;Game Loop&lt;a href=&quot;#game-loop&quot; aria-label=&quot;game loop permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameLoop&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; InitialRound&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Player &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Cross&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Head&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;infer&lt;/span&gt; Tail&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
    Head &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
      Tail &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
        NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Coordinates&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
          NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AvailableSquares&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;board&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
            Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Round&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
              GameLoop&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Tail&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GetNextPlayer&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; 
              Tail &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                Move&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
                &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;No more moves allowed, game is over&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Square &apos;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Head&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; already taken&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Coordinate &apos;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Head&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; is illegal&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Tail of Coordinate array is malformatted&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Coordinate &apos;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Head &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ToStringableTypes&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Head &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; is not a number&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;__ERROR__: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SetError&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;error&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;noError&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrashOrPass&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;noError&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NumToStr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;First of we create some data abstraction in that we allow the players to enter &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt; instead
of &lt;code class=&quot;language-text&quot;&gt;Coordinate&lt;/code&gt; then we do some conditional checks to see if that number can be cast into a
&lt;code class=&quot;language-text&quot;&gt;Coordinate&lt;/code&gt; this makes the UI easier to use since we don’t have to add &lt;code class=&quot;language-text&quot;&gt;&quot;&quot;&lt;/code&gt; around all moves.&lt;/p&gt;
&lt;p&gt;We are kind of able to simulate &lt;code class=&quot;language-text&quot;&gt;X extends not&amp;lt;...&gt;&lt;/code&gt; (i.e type-error if X does extend) a bit with &lt;code class=&quot;language-text&quot;&gt;SetError&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;CrashOrPass&lt;/code&gt; which needs to be used together, I don’t know how to put them together into one typelevel function or even better get &lt;code class=&quot;language-text&quot;&gt;GameLoop&lt;/code&gt; to have this constraint by itself. With more work, it’s probably possible.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;GameLoop&lt;/code&gt; is a recursive typelevel function that ends when the game ends or an error occurs.
The errors give informative information like &lt;code class=&quot;language-text&quot;&gt;__ERROR__: Square &apos;${Head}&apos; already taken&lt;/code&gt;
I think it’s really cool that we can just inject &lt;code class=&quot;language-text&quot;&gt;Head&lt;/code&gt; into a string and get type errors like
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0979961bdbc29276a0ade8d3637e8350/e40ed/custom-errors.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.278481012658226%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAABXXAAAV1wEELLsZAAAA6UlEQVQY00WPWY7DIBBEc5DY0BgwmN4wMU4y0cz9bzVyFuWpVFJ9vJb6FBew3roALoILYCfr02SsGYZhHMfzMJzPr3wZPpwS+Zkkr2tWnlPI2XsPMTofYJpsjC5GCAHClxhCMMaM43iai9t6fzx++359/Nzu9+1665emRJm5tCa1kgiKqmhd1yaixOyce8uq2vtOSMxaConUWhuRqK6qK7MiMrPkvJSCc8rznN5yQr/Ipv2vtu1ysO37tbUL4nEMkRCplIJI6amllHNevPfHz5kCFmaqZcHJTy8AwFqwH57zaAD37GMaY/4Bnos4bP/jXIAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;custom errors&quot;
        title=&quot;custom errors&quot;
        src=&quot;/static/0979961bdbc29276a0ade8d3637e8350/f058b/custom-errors.png&quot;
        srcset=&quot;/static/0979961bdbc29276a0ade8d3637e8350/c26ae/custom-errors.png 158w,
/static/0979961bdbc29276a0ade8d3637e8350/6bdcf/custom-errors.png 315w,
/static/0979961bdbc29276a0ade8d3637e8350/f058b/custom-errors.png 630w,
/static/0979961bdbc29276a0ade8d3637e8350/40601/custom-errors.png 945w,
/static/0979961bdbc29276a0ade8d3637e8350/78612/custom-errors.png 1260w,
/static/0979961bdbc29276a0ade8d3637e8350/e40ed/custom-errors.png 1378w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To not just get a return type of a custom error but actually get a compile-time error highlighting it we wrap &lt;code class=&quot;language-text&quot;&gt;GameLoop&lt;/code&gt; in
&lt;code class=&quot;language-text&quot;&gt;SetError&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;CrashOrPass&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SetError&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
                    &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; 
                        &lt;span class=&quot;token string-property property&quot;&gt;&quot;error&quot;&lt;/span&gt; 
                      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;noError&quot;&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the return type that extends &lt;code class=&quot;language-text&quot;&gt;GAME_ERROR&amp;lt;string&gt;&lt;/code&gt; then set the second value in the tuple to &lt;code class=&quot;language-text&quot;&gt;&quot;error&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;CrashOrPass&lt;/code&gt; then takes the return type from &lt;code class=&quot;language-text&quot;&gt;SetError&lt;/code&gt; and if the second value is &lt;strong&gt;not&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;&quot;noError&quot;&lt;/code&gt;
we get a compile time error, which is exactly what we want.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrashOrPass&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;noError&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we do not get a compile-time error the first value of the tuple is returned
which is just non-error type.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(In TypeScript types propagate if possible even if there is a type-error, like here &lt;code class=&quot;language-text&quot;&gt;T[0]&lt;/code&gt; is not the part with the type-error so that propagates.  We use this to also show the error in &lt;code class=&quot;language-text&quot;&gt;___DISPLAY___&lt;/code&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I know it’s common in Erlang and &lt;a href=&quot;https://elixirschool.com/en/lessons/intermediate/error_handling&quot;&gt;Elixir&lt;/a&gt; to follow this type of pattern on the value level.
by returning &lt;code class=&quot;language-text&quot;&gt;{:ok, data } | {:error, reason}&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;display-2&quot; style=&quot;position:relative;&quot;&gt;Display&lt;a href=&quot;#display-2&quot; aria-label=&quot;display 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Best for last, the display is the coolest feature!
We want to produce a UI like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To show the state of the game when hovering the type&lt;/p&gt;
&lt;p&gt;We use the Board, to first change the Squares from
&lt;code class=&quot;language-text&quot;&gt;Circle | Cross | Empty&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;X | O | _&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then it’s a matter of producing a layout that the type-checker
will display in a nice way. String was no good because multiline
strings become &lt;code class=&quot;language-text&quot;&gt;XXO\nX_O\n__O&lt;/code&gt;.
Multidimensional arrays are also just one line
&lt;code class=&quot;language-text&quot;&gt;[[X,X,O],[X,_,O],[_,_,O]&lt;/code&gt;]` So settled for an object where the keys are the rows.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Show the state of the game when hovering the type instantiated type&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrintGameDisplay&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;GameStates &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GAME_ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GameStates&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; ShowBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GetBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Some shorter and nicer looking symbols for the Display&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// UIBoard&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Coordinates to something that we want to Display&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UIBoard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;s &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; Coordinates&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// #### DISPLAY HELPERS ####&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ShowBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ShowUIBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ToUIBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ToUIBoard&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The particular board we want to show&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Structurally, a UIBoard&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ToUIBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Board&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;s &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; Coordinates&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ChangeSquare&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChangeSquare&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; Square&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Cross&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Circle&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Empty&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; _
                                    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// We want our coordinate system to have 1,1 bottom left&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and Size,Size top right&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RowsBackwards&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FromToDec&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Size&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ColumnsForward&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FromToInc&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Size&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ShowUIBoard&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ShowUIBoard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; UIBoard &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; RowsBackwards &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; KeyToValue&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;RowsBackwards&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; RowsBackwards&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt; 
    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; TupleCoordinateLookups&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Zip&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ColumnsForward&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Repeat&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;RowsBackwards&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Size&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; 

  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KeyToValue&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;unknown&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;K&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Repeat&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arr &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
      &lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Repeat&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MinusOne&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TupleCoordinateLookups&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; UIBoard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TupleCoordinateLookup&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TupleCoordinateLookup&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; UIBoard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;keyof&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ShowUIBoard End&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I indented the types that are just helpers for &lt;code class=&quot;language-text&quot;&gt;ShowUIBoard&lt;/code&gt;.
We only have some limited ability to create named type variables in a scope
which I have already shown, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;..., MyType = MyTypeFunc&amp;lt;T&gt;&gt;&lt;/code&gt;
So here is another approach based only on convention and there to make the code
easier to browse. When you have access to creating multiple files you can ofc
create your scope that way.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ToUiBoard&lt;/code&gt; loops through all &lt;code class=&quot;language-text&quot;&gt;Coordinates&lt;/code&gt; and maps the members of the &lt;code class=&quot;language-text&quot;&gt;Square&lt;/code&gt; type to another type that we would like to display.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ShowUIBoard&lt;/code&gt; uses one trick we have not seen yet.
&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#key-remapping-via-as&quot;&gt;https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#key-remapping-via-as&lt;/a&gt;
it’s the &lt;code class=&quot;language-text&quot;&gt;as&lt;/code&gt; syntax that lets us change the &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; while we are mapping.
That is perfect here because we use the keys &lt;code class=&quot;language-text&quot;&gt;0,1,2, ...Size&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;RowsBackwards&lt;/code&gt;
to be mapped to the value at each index, so we get the rows of our display object.&lt;/p&gt;
&lt;p&gt;ex. &lt;code class=&quot;language-text&quot;&gt;RowArray[0]&lt;/code&gt; value is &lt;code class=&quot;language-text&quot;&gt;Size&lt;/code&gt;
&lt;code class=&quot;language-text&quot;&gt;RowArray[0]&lt;/code&gt; value is &lt;code class=&quot;language-text&quot;&gt;Size-1&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Size&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Size &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Size &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then for the values on each &lt;code class=&quot;language-text&quot;&gt;row&lt;/code&gt; we combine the column values together
with the current row value, by using the Zip operation, where
the second argument is just the &lt;code class=&quot;language-text&quot;&gt;row&lt;/code&gt; repeated column length times.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;Zip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then we do a lookup for each tuple &lt;code class=&quot;language-text&quot;&gt;[x,y]&lt;/code&gt; to get the
corresponding symbol representing the state.
We do that by first turning &lt;code class=&quot;language-text&quot;&gt;[x,y]&lt;/code&gt; into a string &lt;code class=&quot;language-text&quot;&gt;${x}{y}&lt;/code&gt;
and the end result is an object that looks like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And this is our display!
Now we have everything we need to produce the final product.
&lt;img src=&quot;/adb31bbdbd12e42b529c6e9978e59907/display.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;closing-thoughts&quot; style=&quot;position:relative;&quot;&gt;Closing thoughts&lt;a href=&quot;#closing-thoughts&quot; aria-label=&quot;closing thoughts permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Thanks for reading this far! I hope you learned something on this journey.  TypeScript is very powerful and you can basically do anything you want as long as you are willing to spend enough time.
It just gets more and more awkward to achieve the constraints on the typelevel.
I would not say that this is any good practice in general, but knowing that something is possible could
make it worth exploring in cases where it would be worth the end result.&lt;/p&gt;
&lt;p&gt;A few years ago I was of the opinion that if you could have static guarantees you should.
Now I still want those guarantees but I think it’s very prudent and acceptable to use something like
type guards&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isDog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//do something&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And write code that is still safe but does runtime checks,
usually this lead to simpler solutions.&lt;/p&gt;
&lt;p&gt;Don’t forget to check out the next cohort of our course in Advanced Software Design.
&lt;a href=&quot;https://jameskoppelcoaching.com/advanced-software-design-web-course/&quot;&gt;https://jameskoppelcoaching.com/advanced-software-design-web-course/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Cheers!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[State of emergency! The four ways your state might be wrong]]></title><description><![CDATA[Alert! Your state might already be infected! What if I told you that while you are walking around all happy and content in these times of…]]></description><link>null/state-of-emergency/</link><guid isPermaLink="false">null/state-of-emergency/</guid><pubDate>Sun, 19 Jun 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;alert-your-state-might-already-be-infected&quot; style=&quot;position:relative;&quot;&gt;Alert! Your state might already be infected!&lt;a href=&quot;#alert-your-state-might-already-be-infected&quot; aria-label=&quot;alert your state might already be infected permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;What if I told you that while you are walking around all happy and content in these times of peace and great economic prosperity, your application state might be modeled wrong!&lt;/p&gt;
&lt;p&gt;What if I told you I could help you with that, all while introducing another mnemonic to the world ?!?
Feel intrigued? Then keep reading!&lt;/p&gt;
&lt;h1 id=&quot;what-is-state-anyway&quot; style=&quot;position:relative;&quot;&gt;What is state anyway?&lt;a href=&quot;#what-is-state-anyway&quot; aria-label=&quot;what is state anyway permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;State is a description of how things are right now.&lt;/p&gt;
&lt;p&gt;Examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The oven is on.&lt;/li&gt;
&lt;li&gt;The traffic light is broken.&lt;/li&gt;
&lt;li&gt;The theme is set to dark-mode&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;the-four-levels-of-state&quot; style=&quot;position:relative;&quot;&gt;The four levels of state&lt;a href=&quot;#the-four-levels-of-state&quot; aria-label=&quot;the four levels of state permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d2971e31a2fb95d47f58557b400b81c2/2fb2d/the_four_states.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVQY0z3Rza6CMBAFYN5/5UP4Em7YYEiMYAiaSPG3TVFKG1AaKhQ7c3Mh9367mc2cyfG01t/vFwBwMgzDd+Kcgwkiwp95iX+8MAyDIHi9XuM4IuJms1mv11mWFUUBAJzzPM+zLKvr2lp7vV4550VRUEqNMd4wDEEQRFHEOUdE51w0GYYBEZVSURSdz2dE7PteCHG/3ymlhBCllGeM0VoXRWGMQUQhRBiGnHMppbVWSrnb7Rhjxhil1PF4PJ1OQojP5wMAntb6cDjMl33fXywWq9VqDlZVVRzH2+12P6mqKk3TPM+llE3T/P6cJMlyuUzTdBzHsizjON7v94SQ5/MppSSEPB4PSukcjTFW13XTNEop55x3uVwYYwCglLrdbr7vJ0nSdV1ZlgBQT97v9/9TSikp5Tx6fd9rrdu27SfW2q7r2radK3HO2cncDQDMXc5V/QCA3rZkYxAf2AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The four level of state&quot;
        title=&quot;The four level of state&quot;
        src=&quot;/static/d2971e31a2fb95d47f58557b400b81c2/f058b/the_four_states.png&quot;
        srcset=&quot;/static/d2971e31a2fb95d47f58557b400b81c2/c26ae/the_four_states.png 158w,
/static/d2971e31a2fb95d47f58557b400b81c2/6bdcf/the_four_states.png 315w,
/static/d2971e31a2fb95d47f58557b400b81c2/f058b/the_four_states.png 630w,
/static/d2971e31a2fb95d47f58557b400b81c2/40601/the_four_states.png 945w,
/static/d2971e31a2fb95d47f58557b400b81c2/78612/the_four_states.png 1260w,
/static/d2971e31a2fb95d47f58557b400b81c2/2fb2d/the_four_states.png 1695w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;State-space differs depending on which of these levels we are talking about.
Let’s dive in to see what they represent.&lt;/p&gt;
&lt;h2 id=&quot;the-real-world&quot; style=&quot;position:relative;&quot;&gt;The real world&lt;a href=&quot;#the-real-world&quot; aria-label=&quot;the real world permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The real world is messy and full of more details than we can even conceive.
Imagine writing software for a washing machine.
The most apparent thing about it is that it has one or more knobs conveying different states.&lt;/p&gt;
&lt;p&gt;But it has more than that; it has a color, air inside, spin speed, and hinges, screws, all in different shapes, sizes, and conditions. The list goes on.&lt;/p&gt;
&lt;h2 id=&quot;the-abstract-state&quot; style=&quot;position:relative;&quot;&gt;The abstract state&lt;a href=&quot;#the-abstract-state&quot; aria-label=&quot;the abstract state permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;The abstract state is a mapping from reality to a much simpler subset that still is useful to model what we are after.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When it comes to data modeling, it’s for us, the programmers, to select such a subset.
Continuing with the washing machine, maybe the only interesting states for our purposes are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;is it On or Off?&lt;/li&gt;
&lt;li&gt;is it running?&lt;/li&gt;
&lt;li&gt;What program is it set to?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And we actively choose not to model&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Electricity consumption&lt;/li&gt;
&lt;li&gt;More descriptive states like Stopped, Ready, Empty, Full,  Error.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;So what is an abstraction ?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;An abstraction is a mapping from a complex set to a simpler one, where operations and results in the abstract domain still tell us something relevant about the original set.
That is precisely what we did above with our mapping from the real world to the abstract state.&lt;/p&gt;
&lt;p&gt;I first came across this idea of thinking of the abstraction mapping instead of “the abstraction” by reading Jimmy Koppel’s article &lt;a href=&quot;https://www.pathsensitive.com/2022/03/abstraction-not-what-you-think-it-is.html&quot;&gt;Abstraction: not what you think it is&lt;/a&gt; .&lt;/p&gt;
&lt;p&gt;I have been asked a few times about “what is a good abstraction?” so here is my current &lt;a href=&quot;https://matt.might.net/articles/intro-static-analysis/&quot;&gt;favorite example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Imagine a mapping (abstraction mapping) from the integer
&lt;code class=&quot;language-text&quot;&gt;... -3, -2, -1, 0, 1, 2, 3, ...&lt;/code&gt; to the set &lt;code class=&quot;language-text&quot;&gt;{-, 0, +}&lt;/code&gt;. This is the abstract domain.
Negatives to &lt;code class=&quot;language-text&quot;&gt;{-}&lt;/code&gt;, positives to &lt;code class=&quot;language-text&quot;&gt;{+}&lt;/code&gt; and 0 to &lt;code class=&quot;language-text&quot;&gt;{0}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We can also map the &lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt; operators to versions operating on the abstract domain&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// A positive number plus a positive number is a positive number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
etc&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Why do such a thing?&lt;/p&gt;
&lt;p&gt;To perform a very simple static analysis of signs without having to evaluate a complete mathematical expression.&lt;/p&gt;
&lt;p&gt;For example, we don’t have to evaluate  &lt;code class=&quot;language-text&quot;&gt;4 * -3&lt;/code&gt; to know that the answer is negative.&lt;/p&gt;
&lt;p&gt;A short, sweet, and useful abstraction mapping in my opinion.&lt;/p&gt;
&lt;p&gt;So to tie this back together with the mapping between the real world and the abstract state.
Just like we can create an abstraction mapping between the integers and the set of signs, we can create an abstraction mapping from the real world to our abstract state.
Our abstract state only contains the details we are after.
However, the operations and expressiveness in this more restricted domain still tell us useful things about the real world.&lt;/p&gt;
&lt;h2 id=&quot;the-concrete-state&quot; style=&quot;position:relative;&quot;&gt;The concrete state&lt;a href=&quot;#the-concrete-state&quot; aria-label=&quot;the concrete state permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;The concrete state is the data types.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The goal is to as close as possible have a one-to-one mapping between
the abstract and the concrete state.&lt;/p&gt;
&lt;p&gt;This to only allow states that should exist nothing more, nothing less.&lt;/p&gt;
&lt;p&gt;Example&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Purposly a model with a lot of bad states&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Off and running ?&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	running&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	isOn&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	temperature&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Celsius
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;the-interpretation-of-the-concrete-state&quot; style=&quot;position:relative;&quot;&gt;The interpretation of the concrete state&lt;a href=&quot;#the-interpretation-of-the-concrete-state&quot; aria-label=&quot;the interpretation of the concrete state permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;The interpretation of the concrete state is the code&lt;/strong&gt; &lt;strong&gt;using the concrete state to produce your program.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Imagine you have a concrete state that can represent states that should not be allowed.
Then the solution you should &lt;strong&gt;always&lt;/strong&gt; try first is to make your concrete state stricter.
This is because if there is no way for your concrete state to represent illegal states, then the code using that concrete state also cannot represent those states.&lt;/p&gt;
&lt;p&gt;While this is always the preferred solution, there are reasons to not follow this.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It might be very hard to capture the details of the abstract state in your concrete state, so you will have to resort to enforcing correctness in the code.
Example: Abstract state says that a list can only be of even length.
Most languages will not be able to express such a thing in a reasonable way in the data type.&lt;/li&gt;
&lt;li&gt;A totally correct concrete state is not worth the performance impact.&lt;/li&gt;
&lt;li&gt;A totally correct concrete state makes the code much harder to work with, and the gains in correctness is not worth the price.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In all of these scenarios, it’s an active choice to have an incorrect concrete state. This decision must be documented and well known. Code can/will change, and the compiler will not save you here.&lt;/p&gt;
&lt;p&gt;Unless you are making an intentional choice, make sure your concrete state corresponds precisely to your abstract state.&lt;/p&gt;
&lt;p&gt;This part touches on a much deeper topic of thinking about the logical level of your code. To learn more about that, attend the next cohort of &lt;a href=&quot;https://jameskoppelcoaching.com/advanced-software-design-web-course/&quot;&gt;The Advanced Software Design Course&lt;/a&gt; (one starts very soon!). For a primer read Jimmy’s article &lt;a href=&quot;https://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html&quot;&gt;The Three Levels of Software&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;the-goals-of-data-modeling-&quot; style=&quot;position:relative;&quot;&gt;The goals of data modeling ?&lt;a href=&quot;#the-goals-of-data-modeling-&quot; aria-label=&quot;the goals of data modeling  permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Make your mappings as close as possible to one-to-one between abstract and concrete and concrete and interpreted.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Now on to the bugs!&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;the-four-ways-your-state-can-be-wrong&quot; style=&quot;position:relative;&quot;&gt;The four ways your state can be wrong!&lt;a href=&quot;#the-four-ways-your-state-can-be-wrong&quot; aria-label=&quot;the four ways your state can be wrong permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Now it’s time to talk about how to spot and how to fix faulty states.
We will only look at the mapping between the &lt;code class=&quot;language-text&quot;&gt;abstract state&lt;/code&gt; and the &lt;code class=&quot;language-text&quot;&gt;concrete state&lt;/code&gt;. This is because any issues avoided or not avoided here will propagate onward.&lt;/p&gt;
&lt;p&gt;There are four ways for the concrete state to be incorrect. I.e., not in a one-to-one mapping with the abstract state.
(The name of each incorrect mapping refers to the &lt;code class=&quot;language-text&quot;&gt;concrete state.&lt;/code&gt;)
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b541b25f06cf504e0268dcac73dd3456/e67dd/the_quadrant.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDUlEQVQoz02STW/jIBBA8///TG/toamrbqMoyl6iSm5JaptgjG3wBybGjk0CrGKyVt5pJOYxMwwLa+16vf76+gIAfHx8dF1nrTXG2P+4+O9EEAR9389Hi6qqdrvdn4mXl5c4juu6Vkq5Y6VUURRN0+x2u9fXV9/3q6qilLorFowxIUTf9xhja63WuizL0+nk5LZtKaVKqfP5TAjp+75pGs65EOImCyGyLMvz/HA4QAiVUn3fSymdLKUUExhjCGHTNIyxOWFBCEnT1FrLGCvLUinVtu0sCyGSJMmybBzHqqqklGma1nV9l9fr9Wq1ghAGQbDf7wEAGONxHOeZwzDcbre+7x+PxzAMf39/gyAYhuEma62NMUoprfXlcjHGaK3tA5fLxQUu83EXi6ZpKKVzkp54XJJrtZto25Zz7sreZACA53nPz8/v7++e5z09PeV57kwnc86Xy+Xn5+dqtXp7e/M87+fn5y5jjIuiiOMYAIAQIoQkSfL4VQghZVkKIeI45pznee6e9t72fr+v6xpCOAyDMUZK2bbtXJxSej6fEUIAAELI8XiUUnLOjTG3PUdRhDH2J7quG4bBbcJVTtPUGHO9XqMoghAyxsZx5JzfKn9/f3uehybIBELosW0AwGazwRgzxqIoCsMwSZJ72wghCGGe50VRpGmaZVlZltfrdZaLonD3MsYopW5m97f/AdmaCLZBSt4/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;the quadrant&quot;
        title=&quot;the quadrant&quot;
        src=&quot;/static/b541b25f06cf504e0268dcac73dd3456/f058b/the_quadrant.png&quot;
        srcset=&quot;/static/b541b25f06cf504e0268dcac73dd3456/c26ae/the_quadrant.png 158w,
/static/b541b25f06cf504e0268dcac73dd3456/6bdcf/the_quadrant.png 315w,
/static/b541b25f06cf504e0268dcac73dd3456/f058b/the_quadrant.png 630w,
/static/b541b25f06cf504e0268dcac73dd3456/40601/the_quadrant.png 945w,
/static/b541b25f06cf504e0268dcac73dd3456/78612/the_quadrant.png 1260w,
/static/b541b25f06cf504e0268dcac73dd3456/e67dd/the_quadrant.png 1801w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;missing&quot; style=&quot;position:relative;&quot;&gt;Missing&lt;a href=&quot;#missing&quot; aria-label=&quot;missing permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKUlEQVQoz42TTW+qQBSG+1v7K/wFbrp049KktsZFF7CytwkL8SO0JBaBmY5QoIxRpCpfBb2CMzdxCNrbu7jv6uSc85x5c2bmiv5LhBAWHI9HFleZS11ddqdp2ul0bm9vfd9PkmQ+n7uuCyF0HMe27WpWNegbjDFut9uNRuP+/p7juLu7O47jrq+va7VavV5n8N8nE0L2+32WZbquy7IsSdLDw4MgCKPRaDweG4bR6/WazeZqtXp/f3ccZ7vdnuHtdjsYDN7e3izLQic5jjObzXieRwgBACaTCYTQ8zyM8XK5FEUxy7ISNk3TsqyfW5EkqSiKywyzrShKkiQljDGezWaU0qIoMMa73Y61AgA2mw2l9HA45HlOCMnznFI6nU6/vr5KeLPZKIrCgFar1e12Pc9L01RVVV3XLx2xACF0hn3fV1WV1fI8j6IIADCdTn+dpOs6z/ODwaCy7ThOGIYlbNs2QojV9vs980YpXSwW6/WaUirL8vPzcwUHQeC6bgmzPTOg0+lACFn88fGxXC5/2o7j2DTNEtY0LQxDwzDW63VRFNWTZBfjeV4QBNW2j8djHMeGYZSwruthGAqCcHNz8/T0NBwOTdOEEGKMfd8HALy8vLy+vgIAOI4DAKRpeoajKBJFURAEnucfHx/7J0mSpGmabdsAgH6/r2kahFBVVYSQ67qfn5/nt838EELYSvI8/31SHMdBECRJkqZplmWs4dvHIBei/yfW+QcjOGz6ZlE/cwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;missing&quot;
        title=&quot;missing&quot;
        src=&quot;/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png&quot;
        srcset=&quot;/static/98cad2589cab6149879700b9939b7a38/c26ae/missing.png 158w,
/static/98cad2589cab6149879700b9939b7a38/6bdcf/missing.png 315w,
/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png 497w&quot;
        sizes=&quot;(max-width: 497px) 100vw, 497px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have &lt;strong&gt;Missing&lt;/strong&gt; states when abstract states exist that the concrete state cannot express.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;how-to-spot&quot; style=&quot;position:relative;&quot;&gt;How to spot?&lt;a href=&quot;#how-to-spot&quot; aria-label=&quot;how to spot permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Requirements that should be straightforward but are not because our concrete state is not expressive enough to include that case.&lt;/p&gt;
&lt;p&gt;The most common example is probably not having an &lt;code class=&quot;language-text&quot;&gt;Error&lt;/code&gt; state when one should.&lt;/p&gt;
&lt;h3 id=&quot;how-to-fix&quot; style=&quot;position:relative;&quot;&gt;How to fix?&lt;a href=&quot;#how-to-fix&quot; aria-label=&quot;how to fix permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Add unique concrete states&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Example&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ### before ###&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// function can blow up&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; head &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; li&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ### After ###&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Function with extra concrete state&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; head &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; li&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;just&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;li&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nothing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Function with stricter abstract state input&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Now head can&apos;t be called with an empty list, so we don&apos;t need to handle that case&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; NonEmptyArray&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; li&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;illegal&quot; style=&quot;position:relative;&quot;&gt;Illegal&lt;a href=&quot;#illegal&quot; aria-label=&quot;illegal permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 484px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQoz6WSS8+iMBSG/eUu+Qeu3LhwYeJKExIxMcZgxAUS7uEmImAtFxGUREWcToY66Hy6m2dB2qbP255DG+iD/X4fx3E9/VWBvtF431GWJUKIYZjxeCyKYhRFSZLcKsIwRAg9/vKPXEfgkxmGIQii2Wx2Op12u02SpCAIWP558uPxgBDudjvP85IkGQwGrVZrOp2ORqPJZEJR1Gq1sizL8zwAAP7ilD+yYRiyLPu+77zh+/5isVBVFVQ4jmOa5raC4zjf958yx3G4pLoxeMCy7Ol0+qwLQmgYxlMWBKHuR1mWdUtUVT2fz1i73+9xHON1AIBpmk+Z5/nPk7Mso2naNE3XdXVd5ziu1+vh33E8Hr/ICKFutzscDkVRtG17NptpmhaG4e12QwgVRYHT0zS1bftLzYqiQAhxkGmaeZ7jcZqmAAAsZ1m22WxechAE79fGtRmGUdcsyzJJknj9p5znOU3Tuq4XRVGWJU5RFOV6va7Xaxx9qciy7HA4vK7NsuzlcqEoiiCIfr8vCIIsy7quC4JQlqWmaVwFy7Lz+VySpCiKLMt6ypqmLZdLx3F4nlcURZZlSZIMw8BtcxxHFMXtdovfFgDAdV3P815vG0Lo+35SASGMKoIggBVxHAcVeFuWZbiuBvoPfgNgcHFQnrjgSAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Illegal&quot;
        title=&quot;Illegal&quot;
        src=&quot;/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png&quot;
        srcset=&quot;/static/3605ac863781006a654db36a87324b30/c26ae/Illegal.png 158w,
/static/3605ac863781006a654db36a87324b30/6bdcf/Illegal.png 315w,
/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png 484w&quot;
        sizes=&quot;(max-width: 484px) 100vw, 484px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;illegal&lt;/strong&gt; states are states which have no mapping to an abstract state&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You might have heard illegal states being talked about before, usually expressed as “Make Illegal States Unrepresentable”.&lt;/p&gt;
&lt;p&gt;There is a strong connection between &lt;strong&gt;Illegal&lt;/strong&gt; states and &lt;strong&gt;Redundant&lt;/strong&gt; states because sometimes it’s just a matter of perspective.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Are extra keys in a map just redundant states or illegal states?&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;how-to-spot-1&quot; style=&quot;position:relative;&quot;&gt;How to spot?&lt;a href=&quot;#how-to-spot-1&quot; aria-label=&quot;how to spot 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Say you are using some program, and there and in the settings, you see the following text &lt;em&gt;“only applies if extraFx is activated”&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If you use that setting anyway without activating &lt;code class=&quot;language-text&quot;&gt;extraFx&lt;/code&gt; and you get undefined behavior, then the application contains &lt;strong&gt;illegal&lt;/strong&gt; states. If the setting is just ignored when &lt;code class=&quot;language-text&quot;&gt;extraFx&lt;/code&gt; is not activated, then you have &lt;strong&gt;redundant&lt;/strong&gt; states.&lt;/p&gt;
&lt;h3 id=&quot;how-to-fix-1&quot; style=&quot;position:relative;&quot;&gt;How to fix?&lt;a href=&quot;#how-to-fix-1&quot; aria-label=&quot;how to fix 1 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Remove concrete states&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Make illegal states unrepresentable by removing possible states from your concrete state.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;
&lt;code class=&quot;language-text&quot;&gt;hyperBlur&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;extraRainEffects&lt;/code&gt; are options under &lt;code class=&quot;language-text&quot;&gt;extraFx&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  extraFx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hyperBlur&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  extraRainEffects&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// (extraFx, hyperBlur, extraRainEffects)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The states we have: 8&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;////////////////////&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//  These are all illegal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//  &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;///////////////////&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// the states we want: 5&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Potentially also illegal depends on abstract state&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//     i.e does `extraFx` has some effect even without options ?&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Our new concrete state&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExtraFxOptions&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   hyperBlur&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   extraRainEffects&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Settings&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 extraFx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Off &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; ExtraFxOptions
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Even stricter concrete state without the (true,false,false) state&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Settings&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 extraFx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Off &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; ExtraFx&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NonEmptyList&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Options&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here is an example of illegal states in the &lt;a href=&quot;https://github.com/bitcoin/bitcoin/blob/2f71a1ea35667b3873197201531e7ae198ec5bf4/src/coins.h#L112-L126&quot;&gt;bitcoin codebase&lt;/a&gt;. These are avoided by careful coding in the interpretation of the concrete state. Can you think of ways to make the state stricter and make bugs impossible?&lt;/p&gt;
&lt;h2 id=&quot;redundant&quot; style=&quot;position:relative;&quot;&gt;Redundant&lt;a href=&quot;#redundant&quot; aria-label=&quot;redundant permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 507px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNklEQVQoz5WSTW+qQBSG/dX+hUZXLhpXJtq46KJJY1jZrloXolZlMMBxhDBWgeGjFqcqERFprnOD9qab+y4mZ86cZ87wHgpZlp1OpyzLgiD4+vriW57ha5qmx+Mx316rkGUZP6tUKk9PT0mSMMa63W5ylm3blFJN06IoOhwOs9ksTdNf4Eaj0Ww27+7uBEGoVqu1Wq1er5fL5Zubm1KpVCwW7+/vb29vPz8/81cU+B1pmoZhCACj0Wg+n1uWtVgsNE1brVayLBuGYdt2EASO4+z3+x+doygajUYYYwDAGE+nU4yxqqq9Xg8hZBgGACiKghDCGCOENE27wJ7nIYR4f/6k9CxJkuI4/sek0+kkyzLP/4F9359MJtcY/6TxeOy6LrfKNM1Wq8VrAOACf3x8qKrKL357exsMBqIoaprW6XQkSQIAXddFUXx8fOQ1uq5vt9tfOjPGKKXdbncwGAiCYJrm4XDIJ8wDQghj7ALLspzPLC+SJElV1el0CgDtdvv5+ZmfzufzC+x5nqIouWF5oOv6ZrPhmeVyaRgGj03TXK/Xf+HlcmlZliiKr6+vYRgyxuKzACCKouFw6Lru8XgMw5AQEsfxD9i2bdM0EUL1ev3h4WE4HI7HYz7t/X4PAKIoAoAkSf1+nzFGCLnA2+325eVlNptZluU4zmKxeH9/p5RijAkhjuPYZ1FKXdd1HIcQstvtLr9nkiS+73ueFwQBpdQ/a7VaBUHgX8nzvPV6nZtfuLb3f/UNlMNpRl6tVisAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;redundant&quot;
        title=&quot;redundant&quot;
        src=&quot;/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png&quot;
        srcset=&quot;/static/7542063ba02332f20ff73bbfdc0c1380/c26ae/redundant.png 158w,
/static/7542063ba02332f20ff73bbfdc0c1380/6bdcf/redundant.png 315w,
/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png 507w&quot;
        sizes=&quot;(max-width: 507px) 100vw, 507px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have &lt;strong&gt;Redundant&lt;/strong&gt; states when there is more than one way to represent one abstract state.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As mentioned before, &lt;strong&gt;Redundant&lt;/strong&gt; states have a strong connection to &lt;strong&gt;Illegal&lt;/strong&gt; states.
It’s easy to go from having &lt;strong&gt;Redundant&lt;/strong&gt; states to having &lt;strong&gt;Illegal&lt;/strong&gt; states; all that one has to do is interpret one of the extra redundant states the wrong way.&lt;/p&gt;
&lt;p&gt;A easy way to add a &lt;strong&gt;Redundant&lt;/strong&gt; state is adding a extra field to a map/object/record.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     name        &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age         &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; extraField &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// or&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Mood&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Good &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Bad &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; AlsoGood&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first kind is not as bad as the second because extra fields in records create a subtype of the previous type, so in many cases the code will function the same as long as nothing discriminates upon it. There however still are issues like, for example, an equality check that fails because of the value of a redundant field.&lt;/p&gt;
&lt;p&gt;The second kind leads to real pain in scenarios like this: you can flip an image either by writing &lt;code class=&quot;language-text&quot;&gt;new FlippedDrawable(image)&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;image.setFlipped(true)&lt;/code&gt;.
Then, to check if an image is flipped, you need to look at both every time.&lt;/p&gt;
&lt;h3 id=&quot;how-to-spot-2&quot; style=&quot;position:relative;&quot;&gt;How to spot?&lt;a href=&quot;#how-to-spot-2&quot; aria-label=&quot;how to spot 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Continuing with settings menu example from illegal.
Anytime an application has options that only apply in specific scenarios, but they are always possible to select, there are either illegal or redundant states.
Redundant if selecting them has no effect (noop).&lt;/p&gt;
&lt;h3 id=&quot;how-to-fix-2&quot; style=&quot;position:relative;&quot;&gt;How to fix?&lt;a href=&quot;#how-to-fix-2&quot; aria-label=&quot;how to fix 2 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Remove concrete states&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;
&lt;br&gt;
&lt;em&gt;Same example as in the illegal state, but seen from a different point of view.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// (extraFx, hyperBlur, extraRainEffects)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// The states we have: 8&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/////////////////////////&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;////////////////////&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//  All of these map to the same abstract state &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//  As long as extraFx is false the other fields are ignored.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;///////////////////&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Same...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;overloaded&quot; style=&quot;position:relative;&quot;&gt;Overloaded&lt;a href=&quot;#overloaded&quot; aria-label=&quot;overloaded permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 485px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.64556962025317%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQoz52TzU/iQBjG/b+9Gq9ekERMxIMGiZFEvAiFA5FiKRTaSkuBdsS2UGCpLS3hw87HZpluXa/7nCYz83ufmeedOSKEYIwJIZPJhGVZCCHGGB1ECEEIQQgRQvggOpnoKBk9Pj4yDCMIAiEEQkgIsSwrCAK6GgQBhHCz2Uwmk8Qvhj3Pe3p6QghdXl4KgnBxcVEsFs/OzhiGqVarsixfXV2l0+nb29tisZhUj2GMcalUyufzlUqlUCicnp7e3Nz0er1cLpdOp+/u7nK5XCaTSaVSHMf9cAYA8Dwvy/Lr66uu66qqDgYDTdMqlcrgrzRNMwzj4+MDAPDy8hKGYQwLgjCbzWi9KIr2+30URdvtluO43W4HIYyiiEZFDfv9Pt3/BxZFcbFYJNkmm7rd7mq1ovM0cFpC13XXdWP47e1tPp8TQhRFOTk50TRtNBo5jsPzvO/7//aGFrVtm2Z+RB0cx6G9yWaziqLoug4AeH5+brfb4/HYNE3btpMmu647Ho9juNVqUZgWTgYcx4miyLLs/f39+fn5ZrOhq77vf8PJnYMgOD4+rtVq9Xqd53mGYVRVDcMQYxwEQfLsPM8zDCOGJUlar9eu64ZhyPP8er2mDgCA7Xa73+/pzekLJYR8fn7quh7DnU4HIVQul6+vr1VVtW3710HdbjeKIlEUFUUxDpJlWZKk5XIJAIjh9kEsy6ZSqYeHh2q12mg0ms2mIAi+7zuO02q1JEnq9Xocx3U6nff39+9j73Y7AIBlWbQH0+mUJmxZ1nA47Pf7w+HQsizTNJfLped5q9Xq6+vrx6/6D/0GmW1b8D2vU2sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;overloaded&quot;
        title=&quot;overloaded&quot;
        src=&quot;/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png&quot;
        srcset=&quot;/static/54ed4b8640134969f239afcc4306507a/c26ae/overloaded.png 158w,
/static/54ed4b8640134969f239afcc4306507a/6bdcf/overloaded.png 315w,
/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png 485w&quot;
        sizes=&quot;(max-width: 485px) 100vw, 485px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A state is &lt;strong&gt;Overloaded&lt;/strong&gt; if we have one concrete state representing two abstract states.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is probably the most common bug I run into when using software.&lt;/p&gt;
&lt;h3 id=&quot;how-to-spot-3&quot; style=&quot;position:relative;&quot;&gt;How to spot?&lt;a href=&quot;#how-to-spot-3&quot; aria-label=&quot;how to spot 3 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Have you ever used a piece of software, and the following occurs?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;There is text saying “no messages | likes | etc…”&lt;/li&gt;
&lt;li&gt;A second later, the data does pop up.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you have, then you have observed the effect of overloading.&lt;/p&gt;
&lt;p&gt;Say you have a model like this&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  isLoading&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then there is no way to differentiate these two abstract states&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Empty list because nothing was returned from the backend&lt;/li&gt;
&lt;li&gt;Empty list because we have not asked for it yet&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So we need extra contextual information to know how to interpret the state.
It’s not possible from how the state is currently designed to make that distinction.&lt;/p&gt;
&lt;p&gt;Both Slack and Twitter have had this bug. And you can read more about
it in this excellent blog post.
&lt;a href=&quot;http://blog.jenkster.com/2016/06/how-elm-slays-a-ui-antipattern.html&quot;&gt;How elm slays a common UI Antipattern&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;how-to-fix-3&quot; style=&quot;position:relative;&quot;&gt;How to fix?&lt;a href=&quot;#how-to-fix-3&quot; aria-label=&quot;how to fix 3 permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Add unique concrete states&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How do we make it so we can differentiate these two abstract states ?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Empty list because nothing was returned from the backend&lt;/li&gt;
&lt;li&gt;Empty list because we have not asked for it yet&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  isLoading&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we start by asking ourselves what states should exist for data fetched from a backend, it becomes clear that these four states are a better abstract description of what is going on.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; NotAsked &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Loading &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Success&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Failure&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So if we instead use that as our concrete state there would now be a distinction between &lt;code class=&quot;language-text&quot;&gt;NotAsked&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Success&amp;lt;List&amp;lt;number&gt;&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Depending on our abstract state requirements, we can take this further or be happy with this.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;How would you change the model to allow for pagination while keeping the current data you already have?&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;i-was-promised-a-mnemonic-where-is-it&quot; style=&quot;position:relative;&quot;&gt;I was promised a mnemonic! Where is it?&lt;a href=&quot;#i-was-promised-a-mnemonic-where-is-it&quot; aria-label=&quot;i was promised a mnemonic where is it permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I will give you two for the price of one!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;When designing your data model avoid MIRO concrete states&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you don’t like avoiding the painter &lt;a href=&quot;https://www.wikiwand.com/en/Joan_Mir%C3%B3&quot;&gt;MIRO&lt;/a&gt; spilling paint all over your code, then change &lt;strong&gt;Redundant&lt;/strong&gt; to &lt;strong&gt;Superfluous&lt;/strong&gt;, and you got &lt;strong&gt;MISO&lt;/strong&gt; Soup! Don’t drop &lt;strong&gt;MISO&lt;/strong&gt; in your code! &lt;em&gt;(For a quick demonstration of the effects, pour some MISO soup into your computer and see what happens!)&lt;/em&gt;.&lt;/p&gt;
&lt;h3 id=&quot;m---i----r---o&quot; style=&quot;position:relative;&quot;&gt;M -&gt; I -&gt;  R -&gt; O&lt;a href=&quot;#m---i----r---o&quot; aria-label=&quot;m   i    r   o permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d9b986ddf920ebf5c63c46b26d82acf9/719d0/MIRO.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVQozz2Se2/TMBTF81X5GID4CySEeAgQME1ICJgAaYINscK6rV0fi7qlY90KgzRrS7OmdZzYifNOGtc2pBU7si3ryj/p3HMtiYUODg70S/3813mnc8IYK0qM82IVWwgRJ7Esy5qmAQDEf0lpmmKMm81mo95s7B9WKjIJ4yhLOefLFzllScp8P6nXG5VKpd/ve55n2zbnXLJtG2OUpKkbwra6oY0/HR6tfv12V5afdZUPQ6Ws7Kwdye+GeiMMPYydJImDIIAQUkoljFGcpMPez9rn1c039/Y+PwcXHf20A3+rwWAcjyaD7+3RWWt/Y+XT21uXuu66rueRIAgKGCFkmqZlmmxGXRIm6VwI4QdBntOlbew40MIpE6326k95J8koNE1CSJ7nkud5tVpNURT9Uu/1VFX9raqqaZpszsSi6yiKfnTPOp2uolT3Np//0S81TTMMowiMFXlyxhildL4QX+gqUs75nBYusiis1e5SMVsWC7gwhjEhRAgxn8+X5xW8vCCEMMJJlh1tv5yAXhxneZ4XMOe82+1Wq9XS1la9Xt8ub5dKpSRJluQSHo1G5fK28v1k/cWD9Y+rrVZ7OW3Jdd3pdIoxBpY91HVo2TbCEFqU0qJnLmbpDBhmFCdxPC+vPR5Pz23bsSwYRZHkLDz3NO1HdafT3HNdkIYOMIZh5DCRc0GjzLPIBMI/X97fX9+8bSFsjI00TX3flzDGYRj2L/qvb1x7//TmVumJUl/Z33rU+PqwuXOvtntn99vtjfXrjb07yumr3kg1p9B13dlsVsBBEBwfHx/IcuesMtIvphAaYGpMJnk2o0GS+V5MvKNmq33SxsSfGmAw6Pf7AwBAGIZSlmXj8RgAQEjoOi6EENnI94OrUTHGkIOhCS3LwgshhAgh/37YX+eW6dO+qjNSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;MIRO&quot;
        title=&quot;MIRO&quot;
        src=&quot;/static/d9b986ddf920ebf5c63c46b26d82acf9/f058b/MIRO.png&quot;
        srcset=&quot;/static/d9b986ddf920ebf5c63c46b26d82acf9/c26ae/MIRO.png 158w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/6bdcf/MIRO.png 315w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/f058b/MIRO.png 630w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/40601/MIRO.png 945w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/78612/MIRO.png 1260w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/719d0/MIRO.png 1779w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;br&gt;
If this article intrigued you and you like thinking deeply about software you should consider joining the &lt;em&gt;Advanced software design course&lt;/em&gt;. That is where I started as a student and learned the deeper foundations that underlay all software. That knowledge led me to the ideas that underlay this article.
&lt;br&gt;
&lt;strong&gt;The next batch of the Advanced Software Design course starts on the 23 of June. &lt;a href=&quot;https://jameskoppelcoaching.com/advanced-software-design-web-course/&quot;&gt;Click here to join&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;introducing-the-state-fixagram&quot; style=&quot;position:relative;&quot;&gt;Introducing the State Fixagram™!&lt;a href=&quot;#introducing-the-state-fixagram&quot; aria-label=&quot;introducing the state fixagram permalink&quot; class=&quot;custom-class after&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;22&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;22&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I will leave you with this easy to follow &lt;strong&gt;Fixagram™&lt;/strong&gt;.
Next time you find yourself with an invalid state, don’t fret! Just follow the &lt;strong&gt;Fixagram™&lt;/strong&gt;, and you will be alright.
&lt;strong&gt;No need for a state of emergency!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7860a7028f21cd21be1cd235625411e/0d6fe/fixagram.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 119.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSklEQVQ4y4VUaU/rOhTs//8xIAFCSAgErWgrqtA2XUmdOvu+OI7tZq3fI47yuPfLmw+WsszxeM4cjzjnQRB8fHyMx+PHx8fn5+e3t7fpdDqfz19fXxeLhSRJ0+l00uHl5eX+/v729tZxHM75iHM+n8/Fw3a7XS6XWZZ5ntc0jaIoDw8PqqpaluU4jqIoURRxzn3flySpJ8uyjBDinGuaNpvNJEl6f3/HGLdte3Nzc3d39/T0tN1u1+u1pmlVVcVxfDgcevJkMhmPx5+fn7PZ7Ovra91B7vD9/Q0h1HVdURTY4Xw+r9fr3W7XkxeLhaZpvMP1euWcF0Uhy7Ku6wCA0+nE/wSlVPw/opSKMtcO4nOapr7vQwg1TYuiSBxq+IEQAgD4IRNC9vs957xt26F2mqYYY8/zdF2nlBJCfu9MCFFVtd/5eDwOgsXqed5utzMMAwBg23aWZX+Rz+fzD/lyuQjrBs2c87quT6cTpbRtW1VVkyT5S3ZPZoz9JjPGhLHiJefcsqzZbHY8Hj3PE/oppbqu97LF6a/Xa9M0VVVlWWYYRtM0g/8AAEppWZbCF0ophLAni2a0bSvL8msHTdPathVaqqoKw3AymSyXS4RQXdeMsf9aJQxLOoRh6Pt+WZZDe5IkKYoiTdM8z7Mso5Qyxnq3kyQRZRBCcRwnSWLbdlVVeZ6LnUXRKIowxnEcF0VBKe3Jpmn6vi9mS5Ik3/dN0zQMQ+zMOXdd93A4WJZl27ZlWZfLhTHWu62qahAEZVlSSvM8t23bNM22w+/Amh0YY4SQOI57t8MwhBCGYeg4Tthh6OpvcpZlcRyL2LquaxjGH/Gs69p1XXFCoWUIDITQ6eC6Luf8crn0rSKEiMFACK1Wq/l8LlbP84YZ2mw2siwvl8vVaoUxLsuyl10UhQgTQigIgiiK4jhumgZjLARjjIuicF3X932EkMisaZp1Xf/M8+FwKMsSYwwAgBACAJIkGYYBIeQ4jmVZQxcEuSiKkbi6EEJCv2EYtm0bhpGm6fV6bdtWJDlJEoRQFEWMMc75fr8nhPyQ8zzfbDbH41FRFADA+XyGEJ5OJ3GNaJoWBIEwLOjguu5qtSrLcsT/D2VZCiNE/kTPKKX/GvYPgAguW6UvdpkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;fixagram&quot;
        title=&quot;fixagram&quot;
        src=&quot;/static/d7860a7028f21cd21be1cd235625411e/f058b/fixagram.png&quot;
        srcset=&quot;/static/d7860a7028f21cd21be1cd235625411e/c26ae/fixagram.png 158w,
/static/d7860a7028f21cd21be1cd235625411e/6bdcf/fixagram.png 315w,
/static/d7860a7028f21cd21be1cd235625411e/f058b/fixagram.png 630w,
/static/d7860a7028f21cd21be1cd235625411e/40601/fixagram.png 945w,
/static/d7860a7028f21cd21be1cd235625411e/0d6fe/fixagram.png 1115w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item></channel></rss>