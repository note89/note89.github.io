<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:description" content="Alert! Your state might already be infected! learn how and what todo about it in this article."/><meta data-react-helmet="true" name="twitter:title" content="State of emergency! The four ways your state might be wrong"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="Alert! Your state might already be infected! learn how and what todo about it in this article."/><meta data-react-helmet="true" property="og:title" content="State of emergency! The four ways your state might be wrong"/><meta data-react-helmet="true" name="description" content="Alert! Your state might already be infected! learn how and what todo about it in this article."/><meta name="generator" content="Gatsby 4.16.0"/><style data-href="/styles.47be8bfa9afca1bc2633.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}code,kbd,samp{font-family:monospace,monospace;font-size:1em}img{border-style:none}button,input,optgroup,select,textarea{line-height:1.15}button,input{overflow:visible}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]::-webkit-search-decoration{-webkit-appearance:none}details{display:block}[hidden]{display:none}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#b3d4fc;text-shadow:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

/*
! tailwindcss v3.1.8 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:450px){.container{max-width:450px}}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.fixed{position:fixed}.absolute{position:absolute}.m-\[5px\]{margin:5px}.m-0{margin:0}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-8{margin-bottom:2rem}.mb-5{margin-bottom:1.25rem}.block{display:block}.flex{display:flex}.w-full{width:100%}.max-w-\[40ch\]{max-width:40ch}.cursor-pointer{cursor:pointer}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.rounded{border-radius:.25rem}.rounded-xl{border-radius:.75rem}.rounded-2xl{border-radius:1rem}.border{border-width:1px}.border-4{border-width:4px}.border-solid{border-style:solid}.border-yellow-400{--tw-border-opacity:1;border-color:rgb(250 204 21/var(--tw-border-opacity))}.bg-orange-300{--tw-bg-opacity:1;background-color:rgb(253 186 116/var(--tw-bg-opacity))}.bg-sky-700{--tw-bg-opacity:1;background-color:rgb(3 105 161/var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249/var(--tw-bg-opacity))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity))}.bg-neutral-900{--tw-bg-opacity:1;background-color:rgb(23 23 23/var(--tw-bg-opacity))}.p-2{padding:.5rem}.p-10{padding:2.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.pr-3{padding-right:.75rem}.pb-2{padding-bottom:.5rem}.pb-1{padding-bottom:.25rem}.pl-4{padding-left:1rem}.pr-10{padding-right:2.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem}.text-lg,.text-xl{line-height:1.75rem}.text-lg{font-size:1.125rem}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225/var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240/var(--tw-text-opacity))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59/var(--tw-text-opacity))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21/var(--tw-text-opacity))}.text-neutral-200{--tw-text-opacity:1;color:rgb(229 229 229/var(--tw-text-opacity))}.text-neutral-300{--tw-text-opacity:1;color:rgb(212 212 212/var(--tw-text-opacity))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px rgba(0,0,0,.04)) drop-shadow(0 4px 3px rgba(0,0,0,.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.card{display:grid;grid-template-areas:"overlap";grid-template-columns:1fr;grid-template-rows:1fr;transform-style:preserve-3d;transition:all 1s ease-in-out}.card-back,.card-flipped{transform:rotateY(180deg)}.card-back,.card-front{-webkit-backface-visibility:hidden;backface-visibility:hidden;grid-area:overlap}.custom-class{fill:purple;margin-left:5px}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity))}.hover\:bg-stone-900:hover{--tw-bg-opacity:1;background-color:rgb(28 25 23/var(--tw-bg-opacity))}.hover\:text-yellow-500:hover{--tw-text-opacity:1;color:rgb(234 179 8/var(--tw-text-opacity))}.hover\:drop-shadow-xl:hover{--tw-drop-shadow:drop-shadow(0 20px 13px rgba(0,0,0,.03)) drop-shadow(0 8px 5px rgba(0,0,0,.08));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:450px){.xs\:flex-row{flex-direction:row}.xs\:text-right{text-align:right}.xs\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width:640px){.sm\:pr-10{padding-right:2.5rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}}img{max-width:100%}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--blogpost-padding:15px;--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji";--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--fontSize-8:3.583rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5;--background-color:#e2e8f0}.style-font-serif{font-family:var(--fontFamily-serif)}.style-font-sans{font-family:var(--fontFamily-sans)}.font{font-family:var(--font-serif)}.bold,.style-bold{font-weight:var(--fontWeight-bold)}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{height:100%}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{align-items:center;display:flex;font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-4);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:calc(var(--maxWidth-wrapper) + var(--blogpost-padding));padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post{background-color:#fafafa;padding:var(--blogpost-padding)}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}.mirdin--container{container-type:inline-size}.mirdin--iframe{height:20rem}@media (min-width:640px){.mirdin--iframe{height:14rem}}@container (max-width: 501px){.mirdin--iframe{height:20rem}}@container (min-width: 500px){.mirdin--iframe{height:14rem}}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .custom-class.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .custom-class.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .custom-class svg,
    h2 .custom-class svg,
    h3 .custom-class svg,
    h4 .custom-class svg,
    h5 .custom-class svg,
    h6 .custom-class svg {
      visibility: hidden;
    }
    h1:hover .custom-class svg,
    h2:hover .custom-class svg,
    h3:hover .custom-class svg,
    h4:hover .custom-class svg,
    h5:hover .custom-class svg,
    h6:hover .custom-class svg,
    h1 .custom-class:focus svg,
    h2 .custom-class:focus svg,
    h3 .custom-class:focus svg,
    h4 .custom-class:focus svg,
    h5 .custom-class:focus svg,
    h6 .custom-class:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6YK6MBEL0X"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-6YK6MBEL0X', {"send_page_view":false});
      }
      </script><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=77cd5232de819220c659b2bb53b0cf28" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=77cd5232de819220c659b2bb53b0cf28"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=77cd5232de819220c659b2bb53b0cf28"/><title data-react-helmet="true">State of emergency! The four ways your state might be wrong | Note&#x27;s on software</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="background:rgb(226,232,240);width:100%;height:100%;min-height:100vh"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Note&#x27;s on software</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline" style="font-size:var(--fontSize-8)">State of emergency! The four ways your state might be wrong</h1><p>June 19, 2022</p></header><div class="mirdin--container"><iframe src="https://note89.github.io//next-course-iframe/?mode=base" width="100%" frameborder="0" scrolling="no" class="mirdin--iframe"></iframe></div><section itemProp="articleBody"><h1 id="Alert-Your-state-might-already-be-infected" style="position:relative;">Alert! Your state might already be infected!<a href="#Alert-Your-state-might-already-be-infected" aria-label="Alert Your state might already be infected permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>What if I told you that while you are walking around all happy and content in these times of peace and great economic prosperity, your application state might be modeled wrong!</p>
<p>What if I told you I could help you with that, all while introducing another mnemonic to the world ?!?
Feel intrigued? Then keep reading!</p>
<h1 id="What-is-state-anyway" style="position:relative;">What is state anyway?<a href="#What-is-state-anyway" aria-label="What is state anyway permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>State is a description of how things are right now.</p>
<p>Examples:</p>
<ul>
<li>The oven is on.</li>
<li>The traffic light is broken.</li>
<li>The theme is set to dark-mode</li>
</ul>
<h1 id="The-four-levels-of-state" style="position:relative;">The four levels of state<a href="#The-four-levels-of-state" aria-label="The four levels of state permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d2971e31a2fb95d47f58557b400b81c2/2fb2d/the_four_states.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVQY0z3Rza6CMBAFYN5/5UP4Em7YYEiMYAiaSPG3TVFKG1AaKhQ7c3Mh9367mc2cyfG01t/vFwBwMgzDd+Kcgwkiwp95iX+8MAyDIHi9XuM4IuJms1mv11mWFUUBAJzzPM+zLKvr2lp7vV4550VRUEqNMd4wDEEQRFHEOUdE51w0GYYBEZVSURSdz2dE7PteCHG/3ymlhBCllGeM0VoXRWGMQUQhRBiGnHMppbVWSrnb7Rhjxhil1PF4PJ1OQojP5wMAntb6cDjMl33fXywWq9VqDlZVVRzH2+12P6mqKk3TPM+llE3T/P6cJMlyuUzTdBzHsizjON7v94SQ5/MppSSEPB4PSukcjTFW13XTNEop55x3uVwYYwCglLrdbr7vJ0nSdV1ZlgBQT97v9/9TSikp5Tx6fd9rrdu27SfW2q7r2radK3HO2cncDQDMXc5V/QCA3rZkYxAf2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The four level of state"
        title="The four level of state"
        src="/static/d2971e31a2fb95d47f58557b400b81c2/f058b/the_four_states.png"
        srcset="/static/d2971e31a2fb95d47f58557b400b81c2/c26ae/the_four_states.png 158w,
/static/d2971e31a2fb95d47f58557b400b81c2/6bdcf/the_four_states.png 315w,
/static/d2971e31a2fb95d47f58557b400b81c2/f058b/the_four_states.png 630w,
/static/d2971e31a2fb95d47f58557b400b81c2/40601/the_four_states.png 945w,
/static/d2971e31a2fb95d47f58557b400b81c2/78612/the_four_states.png 1260w,
/static/d2971e31a2fb95d47f58557b400b81c2/2fb2d/the_four_states.png 1695w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>State-space differs depending on which of these levels we are talking about.
Let’s dive in to see what they represent.</p>
<h2 id="The-real-world" style="position:relative;">The real world<a href="#The-real-world" aria-label="The real world permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>The real world is messy and full of more details than we can even conceive.
Imagine writing software for a washing machine.
The most apparent thing about it is that it has one or more knobs conveying different states.</p>
<p>But it has more than that; it has a color, air inside, spin speed, and hinges, screws, all in different shapes, sizes, and conditions. The list goes on.</p>
<h2 id="The-abstract-state" style="position:relative;">The abstract state<a href="#The-abstract-state" aria-label="The abstract state permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<blockquote>
<p><strong>The abstract state is a mapping from reality to a much simpler subset that still is useful to model what we are after.</strong></p>
</blockquote>
<p>When it comes to data modeling, it’s for us, the programmers, to select such a subset.
Continuing with the washing machine, maybe the only interesting states for our purposes are:</p>
<ul>
<li>is it On or Off?</li>
<li>is it running?</li>
<li>What program is it set to?</li>
</ul>
<p>And we actively choose not to model</p>
<ul>
<li>Electricity consumption</li>
<li>More descriptive states like Stopped, Ready, Empty, Full,  Error.</li>
</ul>
<p><strong>So what is an abstraction ?</strong></p>
<p>An abstraction is a mapping from a complex set to a simpler one, where operations and results in the abstract domain still tell us something relevant about the original set.
That is precisely what we did above with our mapping from the real world to the abstract state.</p>
<p>I first came across this idea of thinking of the abstraction mapping instead of “the abstraction” by reading Jimmy Koppel’s article <a href="https://www.pathsensitive.com/2022/03/abstraction-not-what-you-think-it-is.html">Abstraction: not what you think it is</a> .</p>
<p>I have been asked a few times about “what is a good abstraction?” so here is my current <a href="https://matt.might.net/articles/intro-static-analysis/">favorite example</a>.</p>
<p>Imagine a mapping (abstraction mapping) from the integer
<code class="language-text">... -3, -2, -1, 0, 1, 2, 3, ...</code> to the set <code class="language-text">{-, 0, +}</code>. This is the abstract domain.
Negatives to <code class="language-text">{-}</code>, positives to <code class="language-text">{+}</code> and 0 to <code class="language-text">{0}</code>.</p>
<p>We can also map the <code class="language-text">+</code> and <code class="language-text">*</code> operators to versions operating on the abstract domain</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span>    <span class="token comment">// A positive number plus a positive number is a positive number</span>
<span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">}</span> 
<span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">*</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">*</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token operator">*</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
etc<span class="token operator">...</span></code></pre></div>
<p>Why do such a thing?</p>
<p>To perform a very simple static analysis of signs without having to evaluate a complete mathematical expression.</p>
<p>For example, we don’t have to evaluate  <code class="language-text">4 * -3</code> to know that the answer is negative.</p>
<p>A short, sweet, and useful abstraction mapping in my opinion.</p>
<p>So to tie this back together with the mapping between the real world and the abstract state.
Just like we can create an abstraction mapping between the integers and the set of signs, we can create an abstraction mapping from the real world to our abstract state.
Our abstract state only contains the details we are after.
However, the operations and expressiveness in this more restricted domain still tell us useful things about the real world.</p>
<h2 id="The-concrete-state" style="position:relative;">The concrete state<a href="#The-concrete-state" aria-label="The concrete state permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<blockquote>
<p><strong>The concrete state is the data types.</strong></p>
</blockquote>
<p>The goal is to as close as possible have a one-to-one mapping between
the abstract and the concrete state.</p>
<p>This to only allow states that should exist nothing more, nothing less.</p>
<p>Example</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">// Purposly a model with a lot of bad states</span>
<span class="token comment">// Off and running ?</span>

<span class="token keyword">type</span> <span class="token class-name">State</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	running<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
	isOn<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
	temperature<span class="token operator">:</span> Celsius
<span class="token punctuation">}</span></code></pre></div>
<h2 id="The-interpretation-of-the-concrete-state" style="position:relative;">The interpretation of the concrete state<a href="#The-interpretation-of-the-concrete-state" aria-label="The interpretation of the concrete state permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<blockquote>
<p><strong>The interpretation of the concrete state is the code</strong> <strong>using the concrete state to produce your program.</strong></p>
</blockquote>
<p>Imagine you have a concrete state that can represent states that should not be allowed.
Then the solution you should <strong>always</strong> try first is to make your concrete state stricter.
This is because if there is no way for your concrete state to represent illegal states, then the code using that concrete state also cannot represent those states.</p>
<p>While this is always the preferred solution, there are reasons to not follow this.</p>
<ul>
<li>It might be very hard to capture the details of the abstract state in your concrete state, so you will have to resort to enforcing correctness in the code.
Example: Abstract state says that a list can only be of even length.
Most languages will not be able to express such a thing in a reasonable way in the data type.</li>
<li>A totally correct concrete state is not worth the performance impact.</li>
<li>A totally correct concrete state makes the code much harder to work with, and the gains in correctness is not worth the price.</li>
</ul>
<p>In all of these scenarios, it’s an active choice to have an incorrect concrete state. This decision must be documented and well known. Code can/will change, and the compiler will not save you here.</p>
<p>Unless you are making an intentional choice, make sure your concrete state corresponds precisely to your abstract state.</p>
<p>This part touches on a much deeper topic of thinking about the logical level of your code. To learn more about that, attend the next cohort of <a href="https://jameskoppelcoaching.com/advanced-software-design-web-course/">The Advanced Software Design Course</a> (one starts very soon!). For a primer read Jimmy’s article <a href="https://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html">The Three Levels of Software</a>.</p>
<h2 id="The-goals-of-data-modeling-" style="position:relative;">The goals of data modeling ?<a href="#The-goals-of-data-modeling-" aria-label="The goals of data modeling  permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Make your mappings as close as possible to one-to-one between abstract and concrete and concrete and interpreted.</p>
<p><strong>Now on to the bugs!</strong></p>
<h1 id="The-four-ways-your-state-can-be-wrong" style="position:relative;">The four ways your state can be wrong!<a href="#The-four-ways-your-state-can-be-wrong" aria-label="The four ways your state can be wrong permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p>Now it’s time to talk about how to spot and how to fix faulty states.
We will only look at the mapping between the <code class="language-text">abstract state</code> and the <code class="language-text">concrete state</code>. This is because any issues avoided or not avoided here will propagate onward.</p>
<p>There are four ways for the concrete state to be incorrect. I.e., not in a one-to-one mapping with the abstract state.
(The name of each incorrect mapping refers to the <code class="language-text">concrete state.</code>)
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b541b25f06cf504e0268dcac73dd3456/e67dd/the_quadrant.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDUlEQVQoz02STW/jIBBA8///TG/toamrbqMoyl6iSm5JaptgjG3wBybGjk0CrGKyVt5pJOYxMwwLa+16vf76+gIAfHx8dF1nrTXG2P+4+O9EEAR9389Hi6qqdrvdn4mXl5c4juu6Vkq5Y6VUURRN0+x2u9fXV9/3q6qilLorFowxIUTf9xhja63WuizL0+nk5LZtKaVKqfP5TAjp+75pGs65EOImCyGyLMvz/HA4QAiVUn3fSymdLKUUExhjCGHTNIyxOWFBCEnT1FrLGCvLUinVtu0sCyGSJMmybBzHqqqklGma1nV9l9fr9Wq1ghAGQbDf7wEAGONxHOeZwzDcbre+7x+PxzAMf39/gyAYhuEma62NMUoprfXlcjHGaK3tA5fLxQUu83EXi6ZpKKVzkp54XJJrtZto25Zz7sreZACA53nPz8/v7++e5z09PeV57kwnc86Xy+Xn5+dqtXp7e/M87+fn5y5jjIuiiOMYAIAQIoQkSfL4VQghZVkKIeI45pznee6e9t72fr+v6xpCOAyDMUZK2bbtXJxSej6fEUIAAELI8XiUUnLOjTG3PUdRhDH2J7quG4bBbcJVTtPUGHO9XqMoghAyxsZx5JzfKn9/f3uehybIBELosW0AwGazwRgzxqIoCsMwSZJ72wghCGGe50VRpGmaZVlZltfrdZaLonD3MsYopW5m97f/AdmaCLZBSt4/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="the quadrant"
        title="the quadrant"
        src="/static/b541b25f06cf504e0268dcac73dd3456/f058b/the_quadrant.png"
        srcset="/static/b541b25f06cf504e0268dcac73dd3456/c26ae/the_quadrant.png 158w,
/static/b541b25f06cf504e0268dcac73dd3456/6bdcf/the_quadrant.png 315w,
/static/b541b25f06cf504e0268dcac73dd3456/f058b/the_quadrant.png 630w,
/static/b541b25f06cf504e0268dcac73dd3456/40601/the_quadrant.png 945w,
/static/b541b25f06cf504e0268dcac73dd3456/78612/the_quadrant.png 1260w,
/static/b541b25f06cf504e0268dcac73dd3456/e67dd/the_quadrant.png 1801w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="Missing" style="position:relative;">Missing<a href="#Missing" aria-label="Missing permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKUlEQVQoz42TTW+qQBSG+1v7K/wFbrp049KktsZFF7CytwkL8SO0JBaBmY5QoIxRpCpfBb2CMzdxCNrbu7jv6uSc85x5c2bmiv5LhBAWHI9HFleZS11ddqdp2ul0bm9vfd9PkmQ+n7uuCyF0HMe27WpWNegbjDFut9uNRuP+/p7juLu7O47jrq+va7VavV5n8N8nE0L2+32WZbquy7IsSdLDw4MgCKPRaDweG4bR6/WazeZqtXp/f3ccZ7vdnuHtdjsYDN7e3izLQic5jjObzXieRwgBACaTCYTQ8zyM8XK5FEUxy7ISNk3TsqyfW5EkqSiKywyzrShKkiQljDGezWaU0qIoMMa73Y61AgA2mw2l9HA45HlOCMnznFI6nU6/vr5KeLPZKIrCgFar1e12Pc9L01RVVV3XLx2xACF0hn3fV1WV1fI8j6IIADCdTn+dpOs6z/ODwaCy7ThOGIYlbNs2QojV9vs980YpXSwW6/WaUirL8vPzcwUHQeC6bgmzPTOg0+lACFn88fGxXC5/2o7j2DTNEtY0LQxDwzDW63VRFNWTZBfjeV4QBNW2j8djHMeGYZSwruthGAqCcHNz8/T0NBwOTdOEEGKMfd8HALy8vLy+vgIAOI4DAKRpeoajKBJFURAEnucfHx/7J0mSpGmabdsAgH6/r2kahFBVVYSQ67qfn5/nt838EELYSvI8/31SHMdBECRJkqZplmWs4dvHIBei/yfW+QcjOGz6ZlE/cwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="missing"
        title="missing"
        src="/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png"
        srcset="/static/98cad2589cab6149879700b9939b7a38/c26ae/missing.png 158w,
/static/98cad2589cab6149879700b9939b7a38/6bdcf/missing.png 315w,
/static/98cad2589cab6149879700b9939b7a38/15d25/missing.png 497w"
        sizes="(max-width: 497px) 100vw, 497px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>We have <strong>Missing</strong> states when abstract states exist that the concrete state cannot express.</p>
</blockquote>
<h3 id="How-to-spot" style="position:relative;">How to spot?<a href="#How-to-spot" aria-label="How to spot permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Requirements that should be straightforward but are not because our concrete state is not expressive enough to include that case.</p>
<p>The most common example is probably not having an <code class="language-text">Error</code> state when one should.</p>
<h3 id="How-to-fix" style="position:relative;">How to fix?<a href="#How-to-fix" aria-label="How to fix permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<blockquote>
<p><strong>Add unique concrete states</strong></p>
</blockquote>
<p>Example</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">// ### before ###</span>

<span class="token comment">// function can blow up</span>
<span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">(</span>li<span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> li<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment">// ### After ###</span>

<span class="token comment">// Function with extra concrete state</span>
<span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">(</span>li<span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> li<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">just</span><span class="token punctuation">(</span>li<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">nothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Function with stricter abstract state input</span>
<span class="token comment">// Now head can't be called with an empty list, so we don't need to handle that case</span>
<span class="token keyword">const</span> <span class="token generic-function"><span class="token function">head</span> <span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>li<span class="token operator">:</span> NonEmptyArray<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> li<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code></pre></div>
<h2 id="Illegal" style="position:relative;">Illegal<a href="#Illegal" aria-label="Illegal permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 484px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQoz6WSS8+iMBSG/eUu+Qeu3LhwYeJKExIxMcZgxAUS7uEmImAtFxGUREWcToY66Hy6m2dB2qbP255DG+iD/X4fx3E9/VWBvtF431GWJUKIYZjxeCyKYhRFSZLcKsIwRAg9/vKPXEfgkxmGIQii2Wx2Op12u02SpCAIWP558uPxgBDudjvP85IkGQwGrVZrOp2ORqPJZEJR1Gq1sizL8zwAAP7ilD+yYRiyLPu+77zh+/5isVBVFVQ4jmOa5raC4zjf958yx3G4pLoxeMCy7Ol0+qwLQmgYxlMWBKHuR1mWdUtUVT2fz1i73+9xHON1AIBpmk+Z5/nPk7Mso2naNE3XdXVd5ziu1+vh33E8Hr/ICKFutzscDkVRtG17NptpmhaG4e12QwgVRYHT0zS1bftLzYqiQAhxkGmaeZ7jcZqmAAAsZ1m22WxechAE79fGtRmGUdcsyzJJknj9p5znOU3Tuq4XRVGWJU5RFOV6va7Xaxx9qciy7HA4vK7NsuzlcqEoiiCIfr8vCIIsy7quC4JQlqWmaVwFy7Lz+VySpCiKLMt6ypqmLZdLx3F4nlcURZZlSZIMw8BtcxxHFMXtdovfFgDAdV3P815vG0Lo+35SASGMKoIggBVxHAcVeFuWZbiuBvoPfgNgcHFQnrjgSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Illegal"
        title="Illegal"
        src="/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png"
        srcset="/static/3605ac863781006a654db36a87324b30/c26ae/Illegal.png 158w,
/static/3605ac863781006a654db36a87324b30/6bdcf/Illegal.png 315w,
/static/3605ac863781006a654db36a87324b30/ff42b/Illegal.png 484w"
        sizes="(max-width: 484px) 100vw, 484px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p><strong>illegal</strong> states are states which have no mapping to an abstract state</p>
</blockquote>
<p>You might have heard illegal states being talked about before, usually expressed as “Make Illegal States Unrepresentable”.</p>
<p>There is a strong connection between <strong>Illegal</strong> states and <strong>Redundant</strong> states because sometimes it’s just a matter of perspective.</p>
<p><em><strong>Are extra keys in a map just redundant states or illegal states?</strong></em></p>
<h3 id="How-to-spot-1" style="position:relative;">How to spot?<a href="#How-to-spot-1" aria-label="How to spot 1 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Say you are using some program, and there and in the settings, you see the following text <em>“only applies if extraFx is activated”</em>.</p>
<p>If you use that setting anyway without activating <code class="language-text">extraFx</code> and you get undefined behavior, then the application contains <strong>illegal</strong> states. If the setting is just ignored when <code class="language-text">extraFx</code> is not activated, then you have <strong>redundant</strong> states.</p>
<h3 id="How-to-fix-1" style="position:relative;">How to fix?<a href="#How-to-fix-1" aria-label="How to fix 1 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<blockquote>
<p><strong>Remove concrete states</strong></p>
</blockquote>
<p>Make illegal states unrepresentable by removing possible states from your concrete state.</p>
<p><strong>Example</strong>
<code class="language-text">hyperBlur</code> and <code class="language-text">extraRainEffects</code> are options under <code class="language-text">extraFx</code>.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token punctuation">{</span>
  extraFx<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  hyperBlur<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  extraRainEffects<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">/////////////////////////</span>
<span class="token comment">// (extraFx, hyperBlur, extraRainEffects)</span>
<span class="token comment">/////////////////////////</span>

<span class="token comment">/////////////////////////</span>
<span class="token comment">// The states we have: 8</span>
<span class="token comment">/////////////////////////</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>   <span class="token comment">////////////////////</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">//  These are all illegal</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">//  </span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">///////////////////</span>

<span class="token comment">/////////////////////////</span>
<span class="token comment">// the states we want: 5</span>
<span class="token comment">/////////////////////////</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">// &lt;-- Potentially also illegal depends on abstract state</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">//     i.e does `extraFx` has some effect even without options ?</span>

<span class="token comment">/////////////////////////</span>
<span class="token comment">// Our new concrete state</span>
<span class="token comment">/////////////////////////</span>
<span class="token keyword">type</span> <span class="token class-name">ExtraFxOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
   hyperBlur<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
   extraRainEffects<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Settings</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
 extraFx<span class="token operator">:</span> Off <span class="token operator">|</span> ExtraFxOptions
<span class="token punctuation">}</span>

<span class="token comment">/////////////////////////</span>
<span class="token comment">// Even stricter concrete state without the (true,false,false) state</span>
<span class="token comment">/////////////////////////</span>
<span class="token keyword">type</span> <span class="token class-name">Settings</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
 extraFx<span class="token operator">:</span> Off <span class="token operator">|</span> ExtraFx<span class="token operator">&lt;</span>NonEmptyList<span class="token operator">&lt;</span>Options<span class="token operator">>></span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Here is an example of illegal states in the <a href="https://github.com/bitcoin/bitcoin/blob/2f71a1ea35667b3873197201531e7ae198ec5bf4/src/coins.h#L112-L126">bitcoin codebase</a>. These are avoided by careful coding in the interpretation of the concrete state. Can you think of ways to make the state stricter and make bugs impossible?</p>
<h2 id="Redundant" style="position:relative;">Redundant<a href="#Redundant" aria-label="Redundant permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 507px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNklEQVQoz5WSTW+qQBSG/dX+hUZXLhpXJtq46KJJY1jZrloXolZlMMBxhDBWgeGjFqcqERFprnOD9qab+y4mZ86cZ87wHgpZlp1OpyzLgiD4+vriW57ha5qmx+Mx316rkGUZP6tUKk9PT0mSMMa63W5ylm3blFJN06IoOhwOs9ksTdNf4Eaj0Ww27+7uBEGoVqu1Wq1er5fL5Zubm1KpVCwW7+/vb29vPz8/81cU+B1pmoZhCACj0Wg+n1uWtVgsNE1brVayLBuGYdt2EASO4+z3+x+doygajUYYYwDAGE+nU4yxqqq9Xg8hZBgGACiKghDCGCOENE27wJ7nIYR4f/6k9CxJkuI4/sek0+kkyzLP/4F9359MJtcY/6TxeOy6LrfKNM1Wq8VrAOACf3x8qKrKL357exsMBqIoaprW6XQkSQIAXddFUXx8fOQ1uq5vt9tfOjPGKKXdbncwGAiCYJrm4XDIJ8wDQghj7ALLspzPLC+SJElV1el0CgDtdvv5+ZmfzufzC+x5nqIouWF5oOv6ZrPhmeVyaRgGj03TXK/Xf+HlcmlZliiKr6+vYRgyxuKzACCKouFw6Lru8XgMw5AQEsfxD9i2bdM0EUL1ev3h4WE4HI7HYz7t/X4PAKIoAoAkSf1+nzFGCLnA2+325eVlNptZluU4zmKxeH9/p5RijAkhjuPYZ1FKXdd1HIcQstvtLr9nkiS+73ueFwQBpdQ/a7VaBUHgX8nzvPV6nZtfuLb3f/UNlMNpRl6tVisAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="redundant"
        title="redundant"
        src="/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png"
        srcset="/static/7542063ba02332f20ff73bbfdc0c1380/c26ae/redundant.png 158w,
/static/7542063ba02332f20ff73bbfdc0c1380/6bdcf/redundant.png 315w,
/static/7542063ba02332f20ff73bbfdc0c1380/3ebb1/redundant.png 507w"
        sizes="(max-width: 507px) 100vw, 507px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>We have <strong>Redundant</strong> states when there is more than one way to represent one abstract state.</p>
</blockquote>
<p>As mentioned before, <strong>Redundant</strong> states have a strong connection to <strong>Illegal</strong> states.
It’s easy to go from having <strong>Redundant</strong> states to having <strong>Illegal</strong> states; all that one has to do is interpret one of the extra redundant states the wrong way.</p>
<p>A easy way to add a <strong>Redundant</strong> state is adding a extra field to a map/object/record.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
     name        <span class="token operator">:</span> <span class="token builtin">string</span>
   <span class="token punctuation">,</span> age         <span class="token operator">:</span> <span class="token builtin">number</span>
   <span class="token punctuation">,</span> extraField <span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token keyword">type</span> <span class="token class-name">Mood</span> <span class="token operator">=</span> Good <span class="token operator">|</span> Bad <span class="token operator">|</span> AlsoGood</code></pre></div>
<p>The first kind is not as bad as the second because extra fields in records create a subtype of the previous type, so in many cases the code will function the same as long as nothing discriminates upon it. There however still are issues like, for example, an equality check that fails because of the value of a redundant field.</p>
<p>The second kind leads to real pain in scenarios like this: you can flip an image either by writing <code class="language-text">new FlippedDrawable(image)</code> or <code class="language-text">image.setFlipped(true)</code>.
Then, to check if an image is flipped, you need to look at both every time.</p>
<h3 id="How-to-spot-2" style="position:relative;">How to spot?<a href="#How-to-spot-2" aria-label="How to spot 2 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Continuing with settings menu example from illegal.
Anytime an application has options that only apply in specific scenarios, but they are always possible to select, there are either illegal or redundant states.
Redundant if selecting them has no effect (noop).</p>
<h3 id="How-to-fix-2" style="position:relative;">How to fix?<a href="#How-to-fix-2" aria-label="How to fix 2 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<blockquote>
<p><strong>Remove concrete states</strong></p>
</blockquote>
<p><strong>Example</strong>
<br>
<em>Same example as in the illegal state, but seen from a different point of view.</em></p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">/////////////////////////</span>
<span class="token comment">// (extraFx, hyperBlur, extraRainEffects)</span>
<span class="token comment">/////////////////////////</span>

<span class="token comment">/////////////////////////</span>
<span class="token comment">// The states we have: 8</span>
<span class="token comment">/////////////////////////</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>   <span class="token comment">////////////////////</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment">//  All of these map to the same abstract state </span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">//  As long as extraFx is false the other fields are ignored.</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">///////////////////</span>

<span class="token comment">// Same...</span>
</code></pre></div>
<h2 id="Overloaded" style="position:relative;">Overloaded<a href="#Overloaded" aria-label="Overloaded permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 485px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 81.64556962025317%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQoz52TzU/iQBjG/b+9Gq9ekERMxIMGiZFEvAiFA5FiKRTaSkuBdsS2UGCpLS3hw87HZpluXa/7nCYz83ufmeedOSKEYIwJIZPJhGVZCCHGGB1ECEEIQQgRQvggOpnoKBk9Pj4yDCMIAiEEQkgIsSwrCAK6GgQBhHCz2Uwmk8Qvhj3Pe3p6QghdXl4KgnBxcVEsFs/OzhiGqVarsixfXV2l0+nb29tisZhUj2GMcalUyufzlUqlUCicnp7e3Nz0er1cLpdOp+/u7nK5XCaTSaVSHMf9cAYA8Dwvy/Lr66uu66qqDgYDTdMqlcrgrzRNMwzj4+MDAPDy8hKGYQwLgjCbzWi9KIr2+30URdvtluO43W4HIYyiiEZFDfv9Pt3/BxZFcbFYJNkmm7rd7mq1ovM0cFpC13XXdWP47e1tPp8TQhRFOTk50TRtNBo5jsPzvO/7//aGFrVtm2Z+RB0cx6G9yWaziqLoug4AeH5+brfb4/HYNE3btpMmu647Ho9juNVqUZgWTgYcx4miyLLs/f39+fn5ZrOhq77vf8PJnYMgOD4+rtVq9Xqd53mGYVRVDcMQYxwEQfLsPM8zDCOGJUlar9eu64ZhyPP8er2mDgCA7Xa73+/pzekLJYR8fn7quh7DnU4HIVQul6+vr1VVtW3710HdbjeKIlEUFUUxDpJlWZKk5XIJAIjh9kEsy6ZSqYeHh2q12mg0ms2mIAi+7zuO02q1JEnq9Xocx3U6nff39+9j73Y7AIBlWbQH0+mUJmxZ1nA47Pf7w+HQsizTNJfLped5q9Xq6+vrx6/6D/0GmW1b8D2vU2sAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="overloaded"
        title="overloaded"
        src="/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png"
        srcset="/static/54ed4b8640134969f239afcc4306507a/c26ae/overloaded.png 158w,
/static/54ed4b8640134969f239afcc4306507a/6bdcf/overloaded.png 315w,
/static/54ed4b8640134969f239afcc4306507a/44c61/overloaded.png 485w"
        sizes="(max-width: 485px) 100vw, 485px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>A state is <strong>Overloaded</strong> if we have one concrete state representing two abstract states.</p>
</blockquote>
<p>This is probably the most common bug I run into when using software.</p>
<h3 id="How-to-spot-3" style="position:relative;">How to spot?<a href="#How-to-spot-3" aria-label="How to spot 3 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Have you ever used a piece of software, and the following occurs?</p>
<ol>
<li>There is text saying “no messages | likes | etc…”</li>
<li>A second later, the data does pop up.</li>
</ol>
<p>If you have, then you have observed the effect of overloading.</p>
<p>Say you have a model like this</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">State</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  isLoading<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> List<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span>
<span class="token punctuation">}</span></code></pre></div>
<p>Then there is no way to differentiate these two abstract states</p>
<ul>
<li>Empty list because nothing was returned from the backend</li>
<li>Empty list because we have not asked for it yet</li>
</ul>
<p>So we need extra contextual information to know how to interpret the state.
It’s not possible from how the state is currently designed to make that distinction.</p>
<p>Both Slack and Twitter have had this bug. And you can read more about
it in this excellent blog post.
<a href="http://blog.jenkster.com/2016/06/how-elm-slays-a-ui-antipattern.html">How elm slays a common UI Antipattern</a></p>
<h3 id="How-to-fix-3" style="position:relative;">How to fix?<a href="#How-to-fix-3" aria-label="How to fix 3 permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<blockquote>
<p><strong>Add unique concrete states</strong></p>
</blockquote>
<p>How do we make it so we can differentiate these two abstract states ?</p>
<ul>
<li>Empty list because nothing was returned from the backend</li>
<li>Empty list because we have not asked for it yet</li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">State</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  isLoading<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> List<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span>
<span class="token punctuation">}</span></code></pre></div>
<p>If we start by asking ourselves what states should exist for data fetched from a backend, it becomes clear that these four states are a better abstract description of what is going on.</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">State</span> <span class="token operator">=</span> NotAsked <span class="token operator">|</span> Loading <span class="token operator">|</span> Success<span class="token operator">&lt;</span>List<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">>></span> <span class="token operator">|</span> Failure<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></code></pre></div>
<p>So if we instead use that as our concrete state there would now be a distinction between <code class="language-text">NotAsked</code> and <code class="language-text">Success&lt;List&lt;number>></code>.</p>
<p>Depending on our abstract state requirements, we can take this further or be happy with this.</p>
<p><em>How would you change the model to allow for pagination while keeping the current data you already have?</em></p>
<h2 id="I-was-promised-a-mnemonic-Where-is-it" style="position:relative;">I was promised a mnemonic! Where is it?<a href="#I-was-promised-a-mnemonic-Where-is-it" aria-label="I was promised a mnemonic Where is it permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>I will give you two for the price of one!</p>
<blockquote>
<p><strong>When designing your data model avoid MIRO concrete states</strong></p>
</blockquote>
<p>If you don’t like avoiding the painter <a href="https://www.wikiwand.com/en/Joan_Mir%C3%B3">MIRO</a> spilling paint all over your code, then change <strong>Redundant</strong> to <strong>Superfluous</strong>, and you got <strong>MISO</strong> Soup! Don’t drop <strong>MISO</strong> in your code! <em>(For a quick demonstration of the effects, pour some MISO soup into your computer and see what happens!)</em>.</p>
<h3 id="M---I----R---O" style="position:relative;">M -> I ->  R -> O<a href="#M---I----R---O" aria-label="M   I    R   O permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d9b986ddf920ebf5c63c46b26d82acf9/719d0/MIRO.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVQozz2Se2/TMBTF81X5GID4CySEeAgQME1ICJgAaYINscK6rV0fi7qlY90KgzRrS7OmdZzYifNOGtc2pBU7si3ryj/p3HMtiYUODg70S/3813mnc8IYK0qM82IVWwgRJ7Esy5qmAQDEf0lpmmKMm81mo95s7B9WKjIJ4yhLOefLFzllScp8P6nXG5VKpd/ve55n2zbnXLJtG2OUpKkbwra6oY0/HR6tfv12V5afdZUPQ6Ws7Kwdye+GeiMMPYydJImDIIAQUkoljFGcpMPez9rn1c039/Y+PwcXHf20A3+rwWAcjyaD7+3RWWt/Y+XT21uXuu66rueRIAgKGCFkmqZlmmxGXRIm6VwI4QdBntOlbew40MIpE6326k95J8koNE1CSJ7nkud5tVpNURT9Uu/1VFX9raqqaZpszsSi6yiKfnTPOp2uolT3Np//0S81TTMMowiMFXlyxhildL4QX+gqUs75nBYusiis1e5SMVsWC7gwhjEhRAgxn8+X5xW8vCCEMMJJlh1tv5yAXhxneZ4XMOe82+1Wq9XS1la9Xt8ub5dKpSRJluQSHo1G5fK28v1k/cWD9Y+rrVZ7OW3Jdd3pdIoxBpY91HVo2TbCEFqU0qJnLmbpDBhmFCdxPC+vPR5Pz23bsSwYRZHkLDz3NO1HdafT3HNdkIYOMIZh5DCRc0GjzLPIBMI/X97fX9+8bSFsjI00TX3flzDGYRj2L/qvb1x7//TmVumJUl/Z33rU+PqwuXOvtntn99vtjfXrjb07yumr3kg1p9B13dlsVsBBEBwfHx/IcuesMtIvphAaYGpMJnk2o0GS+V5MvKNmq33SxsSfGmAw6Pf7AwBAGIZSlmXj8RgAQEjoOi6EENnI94OrUTHGkIOhCS3LwgshhAgh/37YX+eW6dO+qjNSAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="MIRO"
        title="MIRO"
        src="/static/d9b986ddf920ebf5c63c46b26d82acf9/f058b/MIRO.png"
        srcset="/static/d9b986ddf920ebf5c63c46b26d82acf9/c26ae/MIRO.png 158w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/6bdcf/MIRO.png 315w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/f058b/MIRO.png 630w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/40601/MIRO.png 945w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/78612/MIRO.png 1260w,
/static/d9b986ddf920ebf5c63c46b26d82acf9/719d0/MIRO.png 1779w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
<br>
If this article intrigued you and you like thinking deeply about software you should consider joining the <em>Advanced software design course</em>. That is where I started as a student and learned the deeper foundations that underlay all software. That knowledge led me to the ideas that underlay this article.
<br>
<strong>The next batch of the Advanced Software Design course starts on the 23 of June. <a href="https://jameskoppelcoaching.com/advanced-software-design-web-course/">Click here to join</a>.</strong></p>
<h2 id="Introducing-the-State-Fixagram" style="position:relative;">Introducing the State Fixagram™!<a href="#Introducing-the-State-Fixagram" aria-label="Introducing the State Fixagram permalink" class="custom-class after"><svg aria-hidden="true" height="22" version="1.1" viewBox="0 0 16 16" width="22"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>I will leave you with this easy to follow <strong>Fixagram™</strong>.
Next time you find yourself with an invalid state, don’t fret! Just follow the <strong>Fixagram™</strong>, and you will be alright.
<strong>No need for a state of emergency!</strong></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d7860a7028f21cd21be1cd235625411e/0d6fe/fixagram.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 119.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSklEQVQ4y4VUaU/rOhTs//8xIAFCSAgErWgrqtA2XUmdOvu+OI7tZq3fI47yuPfLmw+WsszxeM4cjzjnQRB8fHyMx+PHx8fn5+e3t7fpdDqfz19fXxeLhSRJ0+l00uHl5eX+/v729tZxHM75iHM+n8/Fw3a7XS6XWZZ5ntc0jaIoDw8PqqpaluU4jqIoURRxzn3flySpJ8uyjBDinGuaNpvNJEl6f3/HGLdte3Nzc3d39/T0tN1u1+u1pmlVVcVxfDgcevJkMhmPx5+fn7PZ7Ovra91B7vD9/Q0h1HVdURTY4Xw+r9fr3W7XkxeLhaZpvMP1euWcF0Uhy7Ku6wCA0+nE/wSlVPw/opSKMtcO4nOapr7vQwg1TYuiSBxq+IEQAgD4IRNC9vs957xt26F2mqYYY8/zdF2nlBJCfu9MCFFVtd/5eDwOgsXqed5utzMMAwBg23aWZX+Rz+fzD/lyuQjrBs2c87quT6cTpbRtW1VVkyT5S3ZPZoz9JjPGhLHiJefcsqzZbHY8Hj3PE/oppbqu97LF6a/Xa9M0VVVlWWYYRtM0g/8AAEppWZbCF0ophLAni2a0bSvL8msHTdPathVaqqoKw3AymSyXS4RQXdeMsf9aJQxLOoRh6Pt+WZZDe5IkKYoiTdM8z7Mso5Qyxnq3kyQRZRBCcRwnSWLbdlVVeZ6LnUXRKIowxnEcF0VBKe3Jpmn6vi9mS5Ik3/dN0zQMQ+zMOXdd93A4WJZl27ZlWZfLhTHWu62qahAEZVlSSvM8t23bNM22w+/Amh0YY4SQOI57t8MwhBCGYeg4Tthh6OpvcpZlcRyL2LquaxjGH/Gs69p1XXFCoWUIDITQ6eC6Luf8crn0rSKEiMFACK1Wq/l8LlbP84YZ2mw2siwvl8vVaoUxLsuyl10UhQgTQigIgiiK4jhumgZjLARjjIuicF3X932EkMisaZp1Xf/M8+FwKMsSYwwAgBACAJIkGYYBIeQ4jmVZQxcEuSiKkbi6EEJCv2EYtm0bhpGm6fV6bdtWJDlJEoRQFEWMMc75fr8nhPyQ8zzfbDbH41FRFADA+XyGEJ5OJ3GNaJoWBIEwLOjguu5qtSrLcsT/D2VZCiNE/kTPKKX/GvYPgAguW6UvdpkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="fixagram"
        title="fixagram"
        src="/static/d7860a7028f21cd21be1cd235625411e/f058b/fixagram.png"
        srcset="/static/d7860a7028f21cd21be1cd235625411e/c26ae/fixagram.png 158w,
/static/d7860a7028f21cd21be1cd235625411e/6bdcf/fixagram.png 315w,
/static/d7860a7028f21cd21be1cd235625411e/f058b/fixagram.png 630w,
/static/d7860a7028f21cd21be1cd235625411e/40601/fixagram.png 945w,
/static/d7860a7028f21cd21be1cd235625411e/0d6fe/fixagram.png 1115w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#281838;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/79977020e69335e5a24f2d04c9860414/d4bf4/profile-pic.avif 50w,/static/79977020e69335e5a24f2d04c9860414/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/79977020e69335e5a24f2d04c9860414/3faea/profile-pic.webp 50w,/static/79977020e69335e5a24f2d04c9860414/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/79977020e69335e5a24f2d04c9860414/d24ee/profile-pic.jpg" data-srcset="/static/79977020e69335e5a24f2d04c9860414/d24ee/profile-pic.jpg 50w,/static/79977020e69335e5a24f2d04c9860414/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/79977020e69335e5a24f2d04c9860414/d4bf4/profile-pic.avif 50w,/static/79977020e69335e5a24f2d04c9860414/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/79977020e69335e5a24f2d04c9860414/3faea/profile-pic.webp 50w,/static/79977020e69335e5a24f2d04c9860414/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/79977020e69335e5a24f2d04c9860414/d24ee/profile-pic.jpg" srcSet="/static/79977020e69335e5a24f2d04c9860414/d24ee/profile-pic.jpg 50w,/static/79977020e69335e5a24f2d04c9860414/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><p class="text-md font-sans">My name is <!-- --><strong>Nils Eriksson</strong>. I&#x27;m a software educator at<!-- --> <!-- --><a href="https://mirdin.com/" target="_blank">Mirdin | The Code Quality Company</a>. I enjoy thinking deeply about software, this blog is a collection of my thoughts.<!-- --></p></div><div class="mirdin--container"><iframe src="https://note89.github.io//next-course-iframe/?mode=base" width="100%" frameborder="0" scrolling="no" class="mirdin--iframe"></iframe></div><div class="bg-sky-700 flex items-center flex-col rounded p-10 text-center"><h1 class="text-slate-200">Join our Newsletter</h1><p class="text-slate-200 max-w-[40ch]">Lessons on how to write better code directly in your inbox.<!-- --> <!-- --><b>Sign up and receive a free copy of 7 Mistakes That Cause Fragile Code.</b></p><div><link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{color:black clear:left; font:14px Helvetica,Arial,sans-serif;  width:300px;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup" class="text-slate-300">
    <form action="https://jameskoppelcoaching.us16.list-manage.com/subscribe/post?u=8b565c97b838125f69e75fb7f&amp;id=bfbb2fb86b&amp;f_id=004c7be0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
        
        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group ">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input class="text-black" type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
</div>
<div class="mc-field-group">
	<label for="mce-FNAME">First Name (optional)</label>
	<input class="text-black"  type="text" value="" name="FNAME" class="" id="mce-FNAME">
</div>
<div class="mc-field-group ">
	<label for="mce-LNAME">Last Name (optional)</label>
	<input class="text-black" type="text" value="" name="LNAME" class="" id="mce-LNAME">
</div>
<div class="mc-field-group" style="display:none">
	<label for="mce-SOURCE">Source </label>
	<input type="text" value="note89.github.io" name="SOURCE" class="" id="mce-SOURCE">
</div>
	<div id="mce-responses" class="clear" style="padding-left: 0px; margin-left: 0px;">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response text-white" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_8b565c97b838125f69e75fb7f_bfbb2fb86b" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="" class="text-black bg-orange-300 p-2"></div>
    </div>
</form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[0]='EMAIL';ftypes[0]='email';fnames[3]='SOURCE';ftypes[3]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
</link></div></div></footer></article><nav class="blog-post-nav bg-yellow-500 p-4 border border-solid border-yellow-400 border-4"><ul class="bold" style="display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;list-style:none;padding:0;gap:1rem"><li class="m-0"></li><li class="m-0"><a rel="next" href="/typescript-typelevel-tic-tac-toe/">TypeScript Typelevel Tic-Tac-Toe: Overkill edition!<!-- --> →<!-- --></a></li></ul></nav></main><footer>© <!-- -->2022<!-- -->, Built with<!-- --> <!-- --><a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/state-of-emergency/";window.___webpackCompilationHash="a1a928ef33d4c134a3c7";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-67664a8ccc6c9f02b880.js"],"app":["/app-5ed4197690fad7ac962b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-27981ca7dd461cb4280e.js"],"component---src-pages-iframes-tsx":["/component---src-pages-iframes-tsx-648f05afb36583510a04.js"],"component---src-pages-index-js":["/component---src-pages-index-js-e2e3b206bc163204948b.js"],"component---src-pages-next-course-iframe-tsx":["/component---src-pages-next-course-iframe-tsx-c91110dbbf904e29b70d.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-4387cf8889b00176a2c4.js"]};/*]]>*/</script><script src="/polyfill-67664a8ccc6c9f02b880.js" nomodule=""></script><script src="/app-5ed4197690fad7ac962b.js" async=""></script><script src="/framework-a90df563a3fe4f48300d.js" async=""></script><script src="/webpack-runtime-125aa713f22ef3f4aa83.js" async=""></script></body></html>